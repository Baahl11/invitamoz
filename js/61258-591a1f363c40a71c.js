"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["61258"],{822794:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(994193);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(e,t){return i.apply(this,arguments)}function i(){var e;return e=regeneratorRuntime.mark(function e(t,r){var o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,n.t)().api,a=(0,n.u)(),e.prev=2,a.attempt("setMultipleBizEntityPropertiesFullUpdate",r),i=new Date().getTime(),e.next=8,o.put("/ads/v4/business_entities",t,!1);case 8:return u=e.sent,a.success("setMultipleBizEntityPropertiesFullUpdate",r),a.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-i,r),e.abrupt("return",u);case 14:throw e.prev=14,e.t0=e.catch(2),a.failure("setMultipleBizEntityPropertiesFullUpdate",r),e.t0;case 18:case"end":return e.stop()}},e,null,[[2,14]])}),(i=function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)})}).apply(this,arguments)}(0,n.u)()},548777:function(e,t,r){r.d(t,{m:function(){return y},r:function(){return m}});var n=r(387784),o=r(213491),a=r(753806),i=r(501010),u=r(774838),s=r(661376),c=r(680811);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,o.Z)("PinRep"),p=f.Provider,y=f.get;function m(e){var t=e.children,r=(0,u.B)().isAuthenticated,o=(0,i.Z)().checkExperiment,d=(0,a.Ow)(1000069).experience,f=l((0,n.useState)(!0),2),y=f[0],m=f[1],S=l((0,n.useState)(!1),2),_=S[0],E=S[1],v=l((0,n.useState)(!1),2),b=v[0],A=v[1],T=l((0,n.useState)(null),2),O=T[0],g=T[1],h=l((0,n.useState)(null),2),I=h[0],P=h[1],R=(0,a.oS)(1000069),C=o("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}).anyEnabled,N=(0,s.Z)(r&&C?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,n.useEffect)(function(){if(!r)return void m(!1);d&&(!d||(null==d?void 0:d.experience_id)===500417&&null!=d&&d.display_data.hide_footer)?R.viewExperience(1000069,500417):m(!1),E(!0)},[d]);var D=(0,n.useMemo)(function(){return{hasMetSaveRequirementOnUseCaseFeed:b,hasSimplifiedPinGridExpLoaded:_,hidePinRepFooter:y,quickSaveBoardId:N,setHasMetSaveRequirementOnUseCaseFeed:A,setUseCaseFeedOriginalPinId:P,setUseCaseFeedRepinId:g,useCaseFeedOriginalPinId:I,useCaseFeedRepinId:O}},[b,_,y,N,A,P,g,I,O]);return(0,c.jsx)(p,{value:D,children:t})}},65711:function(e,t,r){var n=r(935059);t.Z=function(){var e=(0,n.Z)();return!!e.isAuth&&e.isPartner}},69406:function(e,t,r){r.d(t,{Oz:function(){return n},mo:function(){return i},nt:function(){return a},v8:function(){return o}});var n={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},o="BUSINESS_PANEL",a="ASSET_PANEL",i=500},800287:function(e,t,r){r.d(t,{lG:function(){return W},FE:function(){return Y},NM:function(){return q}});var n=r(387784),o=r(653551),a=r(65711),i=r(684645),u=r(935059),s=r(501010),c=r(767415);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)})}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _=function(){var e,t,r=(0,u.Z)(),o=(0,a.Z)(),l=(0,s.Z)().checkExperiment,d=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)({isReady:!1}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,2)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=d[0],_=d[1],E=(0,n.useCallback)((t=m(regeneratorRuntime.mark(function e(t){var r,n,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entityId,n=t.actingBusinessId,a=t.favorites,!o){e.next=6;break}return u=l("aid_exp_bes_account_switcher_use_resource").anyEnabled,e.next=5,(0,i.yo)({entityId:r,actingBusinessId:n,favorites:a,useResource:u});case 5:_(function(e){var t,r=f(f({},e),{},{actingBusinessId:n});return a&&(r.favoriteAdAccounts={favoriteAdAccountsMap:f(f({},(null==(t=e.favoriteAdAccounts)?void 0:t.favoriteAdAccountsMap)||{}),{},p({},a.actingBusinessId,{advertiserId:a.adAccounts}))}),r});case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[o,l]);return(0,n.useEffect)(function(){o&&r.isAuth&&!y.isReady&&m(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n=l("aid_exp_bes_account_switcher_use_resource").anyEnabled,e.prev=2,e.next=5,(0,i.SF)({entityId:r.id,useResource:n});case 5:o=e.sent,_(function(e){return f(f({},e),o)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t=!0;case 12:return e.prev=12,(0,c.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:r.id,hasError:t}}),_(function(e){return f(f({},e),{},{isReady:!0})}),e.finish(12);case 16:case"end":return e.stop()}},e,null,[[2,9,12,16]])}))()},[y.isReady,o,l,r]),{accountSwitcherConfig:y,setConfig:E}},E=r(581722),v=r(917569),b=r(387535),A=r(366503),T=r(498539),O=(0,A.createSelector)(T.Z,function(e){var t=e.viewerIsProfileOwnerOrProfileManager;return null!=t?t:void 0}),g=r(200619),h=r(601871),I=r(414448);function P(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var R=function(){var e=(0,u.Z)(),t=(0,n.useRef)(e);t.current=e;var r=(0,E.I0)(),o=(0,g.Z)(),a=(0,n.useRef)(o);a.current=o;var s=(0,E.v9)(O),c=(null==s?void 0:s.data)||void 0,l=(0,n.useRef)(c);l.current=c;var d=(0,v.Z)()();(0,n.useEffect)(function(){var e,n;(e=regeneratorRuntime.mark(function e(){var n,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.current.isAuth&&(null==s?void 0:s.data)===void 0&&(!d||a.current.id))){e.next=5;break}return e.next=3,(0,i.bG)({user_id:t.current.id});case 3:void 0!==(n=e.sent)&&void 0===l.current&&(u=(0,h.D3)(t.current,null!=(o=null==n?void 0:n.id)?o:"",a)||t.current.isAuth&&t.current.username===(null==n?void 0:n.username),r((0,b.Z)(!!u)));case 5:case"end":return e.stop()}},e)}),n=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,u,"next",e)}function u(e){P(a,n,o,i,u,"throw",e)}i(void 0)})},function(){return n.apply(this,arguments)})()},[t,l,r,a,s,d]);var f=(0,I.rc)(c);return{viewerIsProfileOwnerOrProfileManagerData:c,previousIsViewerProfileOwnerOrProfileManager:f}},C=r(69406),N=r(230201),D=r(213491),M=r(173874),w=r(138482),j=r(575820),L=r(563218),U=r(131990),x=r(520803),B=r(680811);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function F(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){G(a,n,o,i,u,"next",e)}function u(e){G(a,n,o,i,u,"throw",e)}i(void 0)})}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var V=(0,D.Z)("AccountSwitcherContext"),z=V.Provider,q=V.get,W=function(e){return e.search&&(0,j.mB)(e.search).advertiserId},Y=function(e){var t,r=e.children,c=(0,o.TH)(),l=(0,x.Z)().params,d=l.userBizId,f=l.businessHierarchyId,p=l.advertiserId,y=l.username,m=(0,U.Z)().catalogId,S=W(c),E=(0,u.Z)(),v=R(),b=v.viewerIsProfileOwnerOrProfileManagerData,A=v.previousIsViewerProfileOwnerOrProfileManager,T=(0,(0,s.Z)().checkExperiment)("web_m10n_business_access_catalogs").anyEnabled,O=H((0,n.useState)(""),2),g=O[0],h=O[1],P=H((0,n.useState)(null),2),D=P[0],j=P[1],G=H((0,n.useState)(!1),2),Z=G[0],V=G[1],q=H((0,n.useState)(null),2),Y=q[0],K=q[1],$=new URLSearchParams(c.search),Q=H((0,n.useState)($.has("actingBusinessId")?null:{id:E.isAuth&&E.id||"",name:E.isAuth&&E.fullName||"",img:E.isAuth&&E.imageMediumUrl||""}),2),J=Q[0],X=Q[1],ee=H((0,n.useState)(!1),2),et=ee[0],er=ee[1],en=(0,a.Z)(),eo=(0,N.u)().logContextEvent,ea=_(),ei=ea.accountSwitcherConfig,eu=ea.setConfig;(0,n.useEffect)(function(){f?h(f):h("")},[f]);var es=(0,n.useCallback)((t=F(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.username,e.next=3,(0,i.bG)({user_id:r,username:n});case 3:(o=e.sent)&&K({type:r?C.Oz.BUSINESS_ACCOUNT:C.Oz.PROFILE,id:r||o.id,name:o.full_name,img:o.image_medium_url,username:n,ownerImg:o.image_medium_url,ownerName:o.full_name,actingBusinessFullName:(null==J?void 0:J.name)||o.full_name}),er(!1);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[J]),ec=(0,I.rc)(y);(0,n.useEffect)(function(){var e=E.isAuth?E.username:void 0;(0,w.Z)(c)&&Y&&ec!==y&&y===e&&(es({username:e}),X({id:E.isAuth&&E.id||"",name:E.isAuth&&E.fullName||"",img:E.isAuth&&E.imageMediumUrl||""}),j({type:C.nt,id:E.isAuth?E.id:void 0}))},[c,ec,es,Y,y,E]),(0,n.useEffect)(function(){var e,t,r=(e=F(regeneratorRuntime.mark(function e(t){var r,n,o,a,i,u,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.businessId,n=t.assetId,r){e.next=4;break}return er(!1),e.abrupt("return");case 4:if(o=T&&(0,M.isCatalogsAndProductGroupsPage)(c)?"CATALOG":"AD_ACCOUNT",e.prev=5,a={asset:{name:""},type:o},!E.isAuth){e.next=19;break}return e.next=10,(0,L.pI)({businessId:(null==J?void 0:J.id)||E.id,assetIds:[n],resourceType:o});case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:var p,y,m;d=(l=(s=void 0===(u=(i=void 0===(i=e.t0.data)?{}:i).data)?(p={},y=n,m=a,(y=function(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}(y))in p?Object.defineProperty(p,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[y]=m,p):u)[n]||a).asset,f=l.type,K({id:n,name:"CATALOG"===o?s[n].owner.full_name:d.name,img:s[n].owner.image_medium_url,type:f,ownerImg:s[n].owner.image_medium_url,ownerName:s[n].owner.full_name,actingBusinessFullName:(null==J?void 0:J.name)||s[n].owner.full_name});case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),K({id:E.isAuth&&E.id||"",name:E.isAuth&&E.fullName||"",img:E.isAuth&&E.imageMediumUrl||"",type:C.Oz.BUSINESS_ACCOUNT,ownerImg:E.isAuth&&E.imageMediumUrl||"",ownerName:E.isAuth&&E.fullName||"",actingBusinessFullName:E.isAuth&&E.fullName||""});case 24:er(!1);case 25:case"end":return e.stop()}},e,null,[[5,21]])})),function(t){return e.apply(this,arguments)}),n=(t=F(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,(0,i.p)({hierarchyId:r});case 3:n=e.sent,K({id:r,name:null!=n&&n.data?n.data.name:"",img:null!=n&&n.data?n.data.img_medium_url:"",type:C.Oz.BUSINESS_HIERARCHY,ownerImg:null!=n&&n.data?n.data.img_medium_url:"",ownerName:null!=n&&n.data?n.data.name:"",actingBusinessFullName:null!=n&&n.data?n.data.name:""}),er(!1);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});if(E.isAuth&&en){var o=Y&&Y.username&&Y.username!==y,a=!0===b&&b!==A,u=((0,M.isPinPage)(c)||(0,M.isPinBuilderPage)(c)||(0,M.isStoryPinBuilderPage)(c)||(0,M.isSearchPage)(c))&&Y&&J&&Y.type===C.Oz.PROFILE&&Y.id===J.id;if((!Y||o||a)&&!et&&!u&&J){var s=(0,M.isBusinessManagerPage)(c)||(0,M.isBusinessHubPage)(c),l=p||!!S&&!s||(0,M.isCatalogsAndProductGroupsPage)(c)&&T;er(!0),f?n({id:f}):d?es({id:d}):(0,w.Z)(c)&&y&&b?es({username:y}):l?r({businessId:E.id,assetId:p||S||m||""}):Y&&Y.id===E.id||(K({type:C.Oz.BUSINESS_ACCOUNT,id:E.id||"",name:E.fullName||"",img:E.imageMediumUrl||"",ownerImg:E.imageMediumUrl||"",ownerName:E.fullName||"",actingBusinessFullName:E.fullName||""}),er(!1))}}},[Y,E,f,d,y,p,S,J,en,c,es,et,b,A,m,T]);var el=(0,n.useMemo)(function(){return{activePanel:D,selectedHierarchyId:g,switcherOpen:Z,openAccountSwitcher:function(){if(eo({event_type:101,view_type:608,component:14346}),!D)if((0,M.isBusinessManagerPage)(c))j({type:C.v8});else{var e=new URLSearchParams(c.search).get("actingBusinessId");j({type:C.nt,id:null!=e?e:null==J?void 0:J.id})}V(!0)},closeAccountSwitcher:function(){j(Y&&!(0,M.isBusinessManagerPage)(c)?{type:C.nt,id:null==J?void 0:J.id}:{type:C.v8}),V(!1)},openAssetPanel:function(e){j({type:C.nt,id:e})},closeAssetPanel:function(){j(Y&&!(0,M.isBusinessManagerPage)(c)?{type:C.nt,id:null==J?void 0:J.id}:{type:C.v8})},activateBusinessPanel:function(){j({type:C.v8})},actingBusiness:J,selectedAccount:Y,setSelectedAccount:K,setActingBusiness:X,accountSwitcherConfig:ei,setConfig:eu}},[D,g,Z,J,Y,ei,eu,eo,c]);return(0,B.jsx)(z,{value:el,children:r})}},537391:function(e,t,r){r.d(t,{H:function(){return h},g:function(){return g}});var n=r(387784),o=r(65711),a=r(69406),i=r(684645),u=r(505633),s=r(719301),c=r(457223),l=r(213491),d=r(47755),f=r(935059),p=r(721703),y=r(647587),m=r(680811);function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,u,"next",e)}function u(e){_(a,n,o,i,u,"throw",e)}i(void 0)})}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return A(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=(0,l.Z)("BusinessHierarchyContext"),O=T.Provider,g=T.get,h=function(e){var t,r,l=e.children,_=v((0,n.useState)([]),2),b=_[0],A=_[1],T=v((0,n.useState)([]),2),g=T[0],h=T[1],I=v((0,n.useState)(!1),2),P=I[0],R=I[1],C=v((0,n.useState)(!1),2),N=C[0],D=C[1],M=v((0,n.useState)(null),2),w=M[0],j=M[1],L=v((0,n.useState)(null),2),U=L[0],x=L[1],B=v((0,n.useState)([]),2),k=B[0],G=B[1],F=v((0,n.useState)({}),2),H=F[0],Z=F[1],V=(0,y.Z)(),z=(0,n.useRef)(V),q=(0,f.Z)(),W=(0,o.Z)(),Y=(0,n.useRef)({}),K=(0,n.useCallback)(function(e,t){t===a.Oz.BUSINESS_HIERARCHY?r=(0,c.Z)(s.Q6.DASHBOARD,"","",e):t===a.Oz.BUSINESS_ACCOUNT&&(r=(0,c.Z)(s.Q6.DASHBOARD,e));var r,n=(0,p.Z)({site:"www",path:r});(0,u.Z)(n)},[]),$=q.isAuth,Q=q.isAuth?q:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},J=Q.id,X=void 0===J?"":J,ee=Q.username,et=void 0===ee?"":ee,er=Q.email,en=void 0===er?"":er,eo=Q.fullName,ea=void 0===eo?"":eo,ei=Q.imageSmallUrl,eu=void 0===ei?"":ei,es=Q.imageMediumUrl,ec=void 0===es?"":es,el=Q.isAuth,ed=(0,n.useCallback)((t=E(regeneratorRuntime.mark(function e(t){var r,n,o,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(W){e.next=2;break}return e.abrupt("return",[]);case 2:if(D(!0),!Y.current[t]){e.next=8;break}return D(!1),e.abrupt("return",Y.current[t]);case 8:return e.next=10,(0,d.Z)({url:"/ads/v4/business_access/business_hierarchies",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:t}});case 10:if(n=(r=e.sent.resource_response.data)&&r.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user&&"entity_type"in e.user&&(e.user.entity_type=a.Oz.USER_ACCOUNT),e})),e})||[],o=/^\d+$/.test(t),u=RegExp(t.toLowerCase(),"g"),s=[],U){e.next=21;break}return e.next=19,z.current();case 19:x(s=e.sent);case 21:return c=(null!=U?U:s).filter(function(e){return o?e.id.includes(t):e.user.full_name.toLowerCase().match(u)}).map(i.IT),l=[].concat(S(n.map(function(e){var t;return null!=(t=e.id)?t:""})),S(c.map(function(e){return e.id}))),$&&(o?(X||"").includes(t):(ea||"").toLowerCase().match(u))&&l.push(X),Y.current[t]=l,D(!1),e.abrupt("return",l);case 28:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[W,z,$,X,ea,U]),ef=(r=E(regeneratorRuntime.mark(function e(t,r){var n,o,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((!el||!W||U)&&!t)){e.next=2;break}return e.abrupt("return");case 2:return R(!0),n=[],e.prev=4,e.next=7,(0,d.Z)({url:"/ads/v4/business_access/business_hierarchies"});case 7:A(n=(o=e.sent.resource_response.data)&&o.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user&&"entity_type"in e.user&&(e.user.entity_type=a.Oz.USER_ACCOUNT),e})),e})||[]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),A([]);case 16:if(e.prev=16,u=[],!(!U||t)){e.next=24;break}return e.next=21,z.current();case 21:h((u=e.sent).filter(function(e){return r&&U&&!U.some(function(t){return t.id===e.id})}).map(function(e){return e.user.full_name})),x(u);case 24:G((s=t?u:null!=U?U:u).map(i.IT)),Z(s.reduce(function(e,t){return e[t.id]=t.business_roles||[],e},{})),j((0,i.WP)({id:X,username:et,email:en,fullName:ea,imageSmallUrl:eu,imageMediumUrl:ec})),Y.current[""]=[].concat(S(n.map(function(e){return e.id})),S(s.map(i.IT).map(function(e){return e.id})),[X]),R(!1),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(16),R(!1);case 35:case"end":return e.stop()}},e,null,[[4,13],[16,32]])})),function(e,t){return r.apply(this,arguments)}),ep=(0,n.useCallback)(ef,[X,et,en,ea,eu,ec,el,W,U]),ey=(0,n.useCallback)(function(e){return b.some(function(t){return t.id===e||"children"in t&&t.children.some(function(t){return t.id===e||t.user.id===e})})},[b]),em=(0,n.useCallback)(function(e){return b.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(t){return!!t&&t.children.some(function(t){return t.user.id===e})})},[b]),eS=(0,n.useCallback)(function(){h([])},[h]),e_=(0,n.useMemo)(function(){return{businessHierarchies:[].concat(S(null!=w&&w.id&&!ey(w.id)?[w]:[]),S(b),S(k.filter(function(e){return!ey(e.id)}))),switchAccount:K,searchAccounts:ed,loadingAccounts:P,isSearchingAccounts:N,fetchData:ep,getParentHierarchyForIdIfExists:em,viewerRolesOfEachEmployer:H,tooltipEmployers:g,hideTooltip:eS}},[b,K,ed,k,P,N,w,ep,ey,em,H,g,eS]);return(0,m.jsx)(O,{value:e_,children:l})}},684645:function(e,t,r){r.d(t,{IT:function(){return S},SF:function(){return b},WP:function(){return _},bG:function(){return v},p:function(){return E},yo:function(){return A}});var n,o,a,i,u=r(731517),s=r(861241),c=r(27399),l=r(69406),d=r(47755),f=r(109563);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)})}}var S=function(e){return{id:e.id,entity_type:l.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:l.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}},_=function(e){return{id:e.id,entity_type:l.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:l.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}},E=(n=m(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.hierarchyId,e.next=3,(0,d.Z)({url:"/ads/v4/business_access/business_hierarchy/{business_hierarchy_lookup_id}",urlParams:{business_hierarchy_lookup_id:r}});case 3:return n=e.sent,e.abrupt("return",n.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),v=(o=m(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.user_id,!(!(n=t.username)&&!r)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,c.Z.create("UserResource",{user_id:r,username:n}).callGet();case 5:return o=e.sent.resource_response.data,e.abrupt("return",o);case 8:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),b=(a=m(regeneratorRuntime.mark(function e(t){var r,n,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.entityId,!(void 0!==(n=t.useResource)&&n)){e.next=9;break}return e.next=4,(0,d.Z)({url:"/ads/v4/business_entities",method:"POST",data:[{entity_type:"BIZ_USER",entity_id:r,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]});case 4:o=null==(i=null==(a=e.sent.resource_response)?void 0:a.data)?void 0:i[0],e.next=13;break;case 9:return e.next=11,(0,u.Z)([{entity_type:"BIZ_USER",entity_id:r,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]);case 11:o=e.sent[0];case 13:if(o&&o.properties){e.next=15;break}return e.abrupt("return",{});case 15:return s=o.properties,e.abrupt("return",s.GLOBAL_ACCOUNT_SWITCHER_CONFIG||{});case 17:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),A=(i=m(regeneratorRuntime.mark(function e(t){var r,n,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var c,l,y;if(r=t.entityId,n=t.actingBusinessId,o=t.favorites,i=void 0!==(a=t.useResource)&&a,u={},(0,f.k)(n)||(u.actingBusinessId=n),o&&(u.favoriteAdAccounts={favoriteAdAccountsMap:(c={},l=o.actingBusinessId,y={advertiserId:o.adAccounts},(l=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(l))in c?Object.defineProperty(c,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[l]=y,c)}),!(Object.keys(u).length>0)){e.next=12;break}if(!i){e.next=10;break}return e.next=8,(0,d.Z)({url:"/ads/v4/business_entities",method:"PATCH",data:[{entity_type:"BIZ_USER",entity_id:r,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:u}}]});case 8:e.next=12;break;case 10:return e.next=12,(0,s.Z)([{entity_type:"BIZ_USER",entity_id:r,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:u}}]);case 12:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})},310008:function(e,t,r){r.d(t,{r:function(){return I},Z:function(){return h}});var n,o,a=r(387784),i=r(731517),u=r(822794),s=r(47755),c=r(994193);function l(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,u,"next",e)}function u(e){l(a,n,o,i,u,"throw",e)}i(void 0)})}}var f=(n=d(regeneratorRuntime.mark(function e(t,r){var n,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.t)().statsLog,e.prev=1,o=new Date,e.next=6,(0,s.Z)({url:"/ads/v4/business_entities",data:t,method:"POST"});case 6:return a=e.sent,i=new Date,n&&(n.success("getMultipleBizEntityProperties",r),n.latency("getMultipleBizEntityProperties",i.getTime()-o.getTime(),r)),e.abrupt("return",a.resource_response.data);case 12:throw e.prev=12,e.t0=e.catch(1),n&&n.failure("getMultipleBizEntityProperties",r),e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])})),function(e,t){return n.apply(this,arguments)}),p=(o=d(regeneratorRuntime.mark(function e(t,r){var n,o,a,i,u,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"PUT",o=(0,c.t)().statsLog,e.prev=2,a=new Date,e.next=7,(0,s.Z)({url:"/ads/v4/business_entities",data:t,method:n});case 7:return i=e.sent,u=new Date,o&&(o.success("setMultipleBizEntityPropertiesFullUpdate",r),o.latency("setMultipleBizEntityPropertiesFullUpdate",u.getTime()-a.getTime(),r)),e.abrupt("return",i.resource_response.data);case 13:throw e.prev=13,e.t0=e.catch(2),o&&o.failure("setMultipleBizEntityPropertiesFullUpdate",r),e.t0;case 17:case"end":return e.stop()}},e,null,[[2,13]])})),function(e,t){return o.apply(this,arguments)}),y=r(213491),m=r(236269),S=r(935059),_=r(501010),E=r(767415),v=r(680811);function b(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,u,"next",e)}function u(e){b(a,n,o,i,u,"throw",e)}i(void 0)})}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,y.Z)("CustomShortcutsContext"),g=O.Provider,h=O.get,I=function(e){var t,r,n=e.children,o=(0,S.Z)(),s=o.isAuth?o.id:void 0,c=o.isAuth&&o.isPartner,l=o.isAuth&&o.isLimitedLogin,d=(0,_.Z)(),y=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)({}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return T(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=y[0],O=y[1],h=(0,a.useCallback)(A(regeneratorRuntime.mark(function e(){var t,r,n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context").anyEnabled,r=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(function(e){var t;return!(null!=(t=window.location.href)&&t.includes(e))}),!(!s||!c||l||!r)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,n=t?f:i.Z,e.next=9,n([{entity_id:s,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]);case 9:if((o=e.sent[0])&&o.properties){e.next=13;break}return e.abrupt("return");case 13:O((null==(a=o.properties.NAVBAR_CONFIG)?void 0:a.customShortcuts)||{}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:s,error:(0,m.Z)(e.t0,"message")}});case 20:case"end":return e.stop()}},e,null,[[5,17]])})),[s,c,l,d]),I=(0,a.useCallback)((r=A(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context").anyEnabled,s){e.next=4;break}return(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:s,error:"Auth_Error"}}),e.abrupt("return",{error:"Auth_Error"});case 4:return e.prev=4,n=r?p:u.Z,o={entity_id:s,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}},e.next=9,n([o]);case 9:return h(),e.abrupt("return",{error:null});case 13:return e.prev=13,e.t0=e.catch(4),(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:s,error:(0,m.Z)(e.t0,"message")}}),e.abrupt("return",{error:"Upsert_Error"});case 17:case"end":return e.stop()}},e,null,[[4,13]])})),function(e){return r.apply(this,arguments)}),[s,d,h]);(0,a.useEffect)(function(){h()},[h]);var P=(0,a.useMemo)(function(){return{shortcuts:b,upsertShortcuts:I}},[b,I]);return(0,v.jsx)(g,{value:P,children:n})}},552841:function(e,t,r){r.d(t,{H7:function(){return m},CB:function(){return S}});var n=r(387784),o=r(213491),a=r(740097),i=r(47755),u=r(465784),s=r(24246),c=r(680811);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t,r=e.onConfirm,o=(0,s.Z)(),d=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],y=function(){p(!0),(0,i.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(u.ZP,{accessibilityModalLabel:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,c.jsxs)(a.kC,{gap:{row:2,column:0},justifyContent:"end",children:[f?(0,c.jsx)(a.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:y,size:"lg",text:o._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,c.jsx)(a.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:y,size:"lg",text:o._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,c.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:r,size:"lg",text:o._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:r,role:"alertdialog",children:(0,c.jsx)(a.xu,{padding:8,children:(0,c.jsx)(a.xe,{align:"center",size:"300",children:o._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,o.Z)("EmailVerificationReminderModal"),y=p.Provider,m=p.get;function S(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useMemo)(function(){return{showEmailVerificationReminderModal:function(){i(!0)}}},[]);return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(y,{value:u,children:r}),a&&(0,c.jsx)(d,{onConfirm:function(){i(!1)}})]})}},457223:function(e,t){var r="/business/business-manager/",n="/business/business-hierarchy/";t.Z=function(e,t,o,a){switch(e){case"DASHBOARD":return a?"".concat(n).concat(String(a),"/dashboard/"):"".concat(r).concat(String(t),"/dashboard/");case"MEDIA_NETWORK_DASHBOARD":return"".concat(r).concat(String(t),"/media-network-hub/dashboard/");case"PEOPLE":return"".concat(r).concat(String(t),"/employees/");case"PARTNERS":return"".concat(r).concat(String(t),"/partners/");case"AD_ACCOUNTS":return"".concat(r).concat(String(t),"/ad-accounts/");case"HISTORY":return"".concat(r).concat(String(t),"/history/");case"PEOPLE_DETAIL":return"".concat(r).concat(String(t),"/employees/").concat(String(o),"/details/");case"PARTNERS_DETAIL":return"".concat(r).concat(String(t),"/partners/").concat(String(o),"/details/");case"SHARED_PARTNERS_DETAIL":return"".concat(r).concat(String(t),"/shared/").concat(String(o),"/details/");case"AD_ACCOUNTS_DETAIL":return"".concat(r).concat(String(t),"/ad-accounts/").concat(String(o),"/details/");case"PENDING_AD_ACCOUNTS_DETAIL":return"".concat(r).concat(String(t),"/ad-accounts/pending/").concat(String(o),"/details/");case"PEOPLE_PENDING_TAB":return"".concat(r).concat(String(t),"/employees/pending/");case"PARTNERS_PENDING_TAB":return"".concat(r).concat(String(t),"/partners/pending/");case"AD_ACCOUNTS_PENDING_TAB":return"".concat(r).concat(String(t),"/ad-accounts/pending");case"AD_ACCOUNTS_CEE_MIGRATION":return"".concat(r).concat(String(t),"/ad-accounts/cee-migration");case"PROFILES":return"".concat(r).concat(String(t),"/profiles/");case"PROFILES_DETAIL":return"".concat(r).concat(String(t),"/profiles/").concat(String(o),"/details/");case"BUSINESS_SECURITY":return"".concat(r).concat(String(t),"/security/");case"ASSET_GROUPS":return o?"".concat(r).concat(String(t),"/asset-groups/?asset_group_id=").concat(String(o)):"".concat(r).concat(String(t),"/asset-groups/");case"INVOICE_MANAGEMENT":return"".concat(r).concat(String(t),"/invoice-management/");case"BUSINESS_HIERARCHY":return"".concat(n).concat(String(a),"/hierarchy/");case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return"".concat(n).concat(String(a),"/business_security/");case"MANAGERS":return"".concat(n).concat(String(a),"/managers/");case"AUDIENCES":return"".concat(r).concat(String(t),"/audiences/");case"SHARED_TAGS":return"".concat(r).concat(String(t),"/shared-tags/");case"CATALOGS":return"".concat(r).concat(String(t),"/catalogs/");case"CATALOGS_DETAIL":return"".concat(r).concat(String(t),"/catalogs/").concat(String(o),"/details/");case"BRAND_SAFETY":return"".concat(r).concat(String(t),"/brand-safety/");case"BUSINESS_SETTINGS":return"".concat(r).concat(String(t),"/settings/");case"SYSTEM_USERS":return"".concat(r).concat(String(t),"/system-users/");case"APPS":return"".concat(r).concat(String(t),"/apps/");case"CONVERSION_DATA":return"".concat(r).concat(String(t),"/conversion-data/");default:return r}}},753977:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(387784),o=r(740097),a=r(564377),i=r(577356),u=r(739405),s=r(680811);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r=e.children,p=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||f(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],m=p[1],S=(0,n.useRef)(0),_=(0,u.ZP)(),E=function(){var e=S.current;return S.current+=1,"toast".concat(e)},v=function(e){m(function(t){var r=d(t),n=r.findIndex(function(t){return t.name===e});return -1!==n&&r.splice(n,1),r})},b=(0,n.useMemo)(function(){return{showOneToast:function(e){m([{name:E(),component:e}])},showToast:function(e){m(function(t){return[].concat(d(t),[{name:E(),component:e}])})}}},[m]);return(0,s.jsxs)(i.Zo,{value:b,children:[r,(0,s.jsx)(a.Z,{children:(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({pointerEvents:"none"},"desktop"===_?{bottom:"14px"}:{top:"phone"===_?56:80})},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new o.Ry(1500),children:y.map(function(e){var t=e.name,r=e.component;if(r)return(0,s.jsx)(r,{hideToast:function(){return v(t)}},t)})})})})]})}},647587:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(681698);function o(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function a(){var e;return e=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,n.Z)({url:"/ads/v4/business_access/businesses/me/employers/"});case 3:return r=(t=e.sent).resource_response?t.resource_response.data:{data:[]},e.next=7,Promise.all(r&&r.data||[]);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function u(e){o(i,n,a,u,s,"next",e)}function s(e){o(i,n,a,u,s,"throw",e)}u(void 0)})}}},387535:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},498539:function(e,t){t.Z=function(e){var t=e.businessAccess;return null!=t?t:{}}},131990:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(305375);function o(){var e=(0,n.Z)();return{catalogId:e.catalog_id,feedProfileId:e.feed_profile_id,workflowId:e.workflow_id,productGroupId:e.product_group_id,eventTypeId:e.event_type_id,supplementalFeedProfileId:e.supplemental_feed_profile_id,mnCatalogId:e.mn_catalog_id,mnProductGroupId:e.mn_product_group_id}}},160744:function(e,t,r){r.d(t,{$7:function(){return _},Ay:function(){return u},B1:function(){return v},CD:function(){return c},Dk:function(){return f},Fc:function(){return w},Kp:function(){return j},NG:function(){return g},QM:function(){return C},T0:function(){return d},TE:function(){return S},WF:function(){return T},Wm:function(){return b},Xm:function(){return h},_N:function(){return R},d7:function(){return i},dt:function(){return D},e_:function(){return P},i_:function(){return O},kY:function(){return m},nV:function(){return o},pC:function(){return s},ph:function(){return y},qg:function(){return I},sg:function(){return p},tZ:function(){return a},tw:function(){return M},uC:function(){return l},uc:function(){return A},xl:function(){return E},yG:function(){return N}});var n=r(540015),o="https://business.pinterest.com/en/pinterest-advertising-services-agreement",a="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",i="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",u="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",s="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",d="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",f="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",p="https://business.pinterest.com/pinterest-advertising-services-agreement/",y=[1,3],m=[7],S=[34],_=[35],E=[19],v=[36],b=[37],A=[38],T=8,O=9,g=11,h=15,I=16,P=17,R=18,C=19,N=20,D=22,M=23;function w(e,t){var r=O;return y.includes(e)&&!t?r=T:m.includes(e)?r=g:S.includes(e)?r=h:_.includes(e)?r=I:E.includes(e)?r=P:v.includes(e)?r=R:A.includes(e)?r=C:b.includes(e)?r=N:n.f4.includes(e)&&(r=D),r}function j(e){var t=f;return y.includes(e)?t=o:m.includes(e)?t=a:S.includes(e)?t=i:_.includes(e)?t=u:E.includes(e)?t=d:v.includes(e)?t=s:b.includes(e)?t=c:A.includes(e)&&(t=l),t}},414448:function(e,t,r){r.d(t,{XI:function(){return a},YZ:function(){return u},rc:function(){return i},sU:function(){return l}});var n=r(387784);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],i=r[1],u=function(){return i(!0)},s=function(){return i(!1)};return(0,n.useEffect)(function(){var t=e.current;return t&&(t.addEventListener("mouseenter",u),t.addEventListener("mouseleave",s)),function(){t&&(t.removeEventListener("mouseenter",u),t.removeEventListener("mouseleave",s))}}),a}var i=function(e){var t=(0,n.useRef)(e);return(0,n.useEffect)(function(){t.current=e}),t.current};function u(){var e=(0,n.useRef)(!0);return(0,n.useEffect)(function(){e.current=!1},[]),e.current}function s(e,t){return Object.is(e,t)}var c=Symbol("pre-initial value");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{equal:s},r=t.equal,o=t.delta,a=(0,n.useRef)(c),i=a.current;return(0,n.useEffect)(function(){a.current=e}),{previousValue:i,changed:i===c||!(void 0===r?s:r)(i,e),delta:null==o?void 0:o(i,e)}}},662529:function(e,t,r){r.d(t,{a:function(){return v},B:function(){return _}});var n=r(387784),o=r(213491),a=r(47755);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){var n;return(n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={boardMap:{}};function d(e,t){if(e=e||l,"BLOCKING_ACTIONS_UPDATED"===t.type){var r=t.payload,n=r.boardId,o=r.blockingActions,a=null,i=null,u={};return o.forEach(function(e){var t=e.section_id,r=e.progress,n={id:e.id,createdAt:e.created_timestamp,progress:r};t?"-1"===t?a=n:u[t]=n:i=n}),s(s({},e),{},{boardMap:s(s({},e.boardMap),{},c({},n,{wholeBoard:a,unorganized:i,sectionMap:u}))})}return e}var f=r(680811);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var m=(0,o.Z)("BlockingAction"),S=m.Provider,_=m.getMaybe;function E(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)({url:"/v3/boards/{board}/",urlParams:{board:t},data:{fields:["board.id","board.blocking_actions"]}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e,t){var n=r&&r.resource_response&&r.resource_response.data&&r.resource_response.data.blocking_actions;if(!n)return void t(Error("No blocking actions found in the response"));e(n)}));case 4:case"end":return e.stop()}},e)}),(E=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,u,"next",e)}function u(e){y(a,n,o,i,u,"throw",e)}i(void 0)})}).apply(this,arguments)}function v(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,l))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useCallback)(function(e){return(function(e){return E.apply(this,arguments)})(e).then(function(t){return i({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t})},[]),s=(0,n.useMemo)(function(){return{blockingActions:a,fetchBlockingActions:u}},[a,u]);return(0,f.jsx)(S,{value:s,children:r})}},89446:function(e,t,r){r.d(t,{dd:function(){return x},Yi:function(){return j},Pf:function(){return w},Sx:function(){return N},sO:function(){return h},MC:function(){return R},HU:function(){return g},Dw:function(){return M},vg:function(){return U},nC:function(){return C},KJ:function(){return I},jn:function(){return L},Dl:function(){return B},nU:function(){return P},Un:function(){return D}});var n=r(387784),o=r(653551),a=r(213491),i=r(47755),u=r(173874),s=r(501010);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={payload:{},type:null},p={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:f,modal:{modalType:null},lastFetchedBusinessId:"",businessExperiments:{}};function y(e,t){var r,n,o,a,i,u,s,c;switch(e=e||p,t.type){case"SET_ROUTER_PARAMS":return d(d({},e),{},{businessId:null!=(r=t.payload.businessId)?r:"",detailId:null!=(n=t.payload.detailId)?n:""});case"SET_SELECTED_BUSINESS":return d(d({},e),{},{businessId:null!=(o=null==(a=t.payload.business)?void 0:a.user.id)?o:"",business:t.payload.business});case"SET_CEE_MIGRATION_INFO":return d(d({},e),{},{ceeMigrationInfo:t.payload.ceeMigrationInfo});case"SET_SELECTED_BUSINESS_HIERARCHY":return d(d({},e),{},{businessHierarchyId:(null==(i=t.payload.businessHierarchy)?void 0:i.id)||"",businessHierarchy:t.payload.businessHierarchy});case"SET_SELECTED_ORGANIZATION_MANAGER":return d(d({},e),{},{managerId:null!=(u=null==(s=t.payload.manager)?void 0:s.user.id)?u:"",manager:t.payload.manager});case"SET_SELECTED_DETAIL":return d(d({},e),{},{detailId:null!=(c=t.payload.detailId)?c:""});case"SET_SELECTED_PROFILE":return d(d({},e),{},{profile:t.payload.profile});case"SET_SELECTED_AD_ACCOUNT":return d(d({},e),{},{adAccount:t.payload.adAccount});case"SET_SELECTED_AUDIENCE":return d(d({},e),{},{selectedAudience:t.payload.audience});case"SET_SELECTED_PARTNER_ID":return d(d({},e),{},{partnerId:t.payload.partnerId});case"SET_SELECTED_EMPLOYEE_ID":return d(d({},e),{},{employeeId:t.payload.employeeId});case"SET_IS_ACTING_USER_RESELLER":return d(d({},e),{},{isActingUserReseller:t.payload.isActingUserReseller});case"SET_LAST_FETCHED_BUSINESS_ID":return d(d({},e),{},{lastFetchedBusinessId:t.payload.businessId});case"SET_BUSINESS_EXPERIMENTS":return d(d({},e),{},{businessExperiments:t.payload.experiments});case"CLEAR_INTENT":case"OPEN_SHEET":return d(d({},e),{},{intents:function(e,t){switch(t.type){case"CLEAR_INTENT":return f;case"OPEN_SHEET":return{type:t.type,payload:t.payload};default:return e}}(e.intents,t)});case"SET_MODAL":case"CLEAR_MODAL":return d(d({},e),{},{modal:function(e,t){switch(t.type){case"SET_MODAL":return t.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,t)});default:return e}}var m=r(520803),S=r(680811);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=(0,a.Z)("BusinessAccess"),O=T.Provider,g=T.get;function h(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(y,p))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useMemo)(function(){return{setRouterParams:function(e){return i({type:"SET_ROUTER_PARAMS",payload:{detailId:e.detailId,businessId:e.businessId}})},setSelectedBusiness:function(e){return i({type:"SET_SELECTED_BUSINESS",payload:{business:e}})},setCeeMigrationInfo:function(e){return i({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}})},setSelectedOrganizationManager:function(e){return i({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}})},setSelectedBusinessHierarchy:function(e){return i({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}})},setSelectedDetail:function(e){return i({type:"SET_SELECTED_DETAIL",payload:{detailId:e.detailId}})},setSelectedProfile:function(e){return i({type:"SET_SELECTED_PROFILE",payload:{profile:e}})},setSelectedAdAccount:function(e){return i({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}})},setSelectedAudience:function(e){return i({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}})},setSelectedPartnerId:function(e){return i({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:null!=e?e:""}})},setSelectedEmployeeId:function(e){return i({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:null!=e?e:""}})},setIsActingUserReseller:function(e){return i({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:null!=e&&e}})},setLastFetchedBusinessId:function(e){return i({type:"SET_LAST_FETCHED_BUSINESS_ID",payload:{businessId:e}})},setBusinessExperiments:function(e){return i({type:"SET_BUSINESS_EXPERIMENTS",payload:{experiments:e}})},clearIntent:function(){return i({type:"CLEAR_INTENT"})},openSheet:function(e){return i({type:"OPEN_SHEET",payload:e})},setAddPeopleModal:function(){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}})},setAddPeopleInviteConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e.inviteIds,role:e.role,isPendingTabActive:e.isPendingTabActive}}})},setAddPeopleInviteWithAssetsConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e.inviteIds,invitedPeopleIdentifiers:e.invitedPeopleIdentifiers}}})},setAddPartnerInviteConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e.selectedId,role:e.role,inviteId:e.inviteId,isReseller:e.isReseller}}})},setRemovePersonModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}})},setRemoveProfilePermissionsModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e.userData,selectionType:e.selectionType,profileId:e.profileId,profileName:e.profileName,dataToRefresh:e.dataToRefresh,refreshData:e.refreshData}}})},setEditPersonRoleModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}})},setInviteRequestPartnerModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:null==e?void 0:e.partnershipType,pageForLogger:null==e?void 0:e.pageForLogger}}})},setRequestPartnerConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e.partnerId,role:e.role,requestId:e.requestId}}})},setRequestPartnerConfirmationSuccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e.requestId}}})},setRemoveChildBusinessModal:function(){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}})},setRemoveOrganizationManagerModal:function(){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}})},setRemovePartnerModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:b({},e)}})},setRemoveSelfEmployeeModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_SELF_EMPLOYEE",modalProps:b({},e)}})},setRemoveSharedPartnerModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:b({},e)}})},setRemoveSharedAdAccountModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:b({},e)}})},setCreateAdAccountModal:function(){return i({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}})},setCreateAdAccountConfirmationModal:function(e){var t=e.ownerInfo;return i({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:e.accountInfo,ownerInfo:t,refreshData:e.refreshData}}})},setAssignAdAccountsModal:function(e){var t=e.selectedIds,r=e.selectionType,n=e.dataToRefresh,o=e.assignmentType,a=e.inviteIds;return i({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:t,selectionType:r,dataToRefresh:n,assignmentType:o,peopleIdentifiers:e.peopleIdentifiers,inviteIds:a,roleType:e.roleType,showProfiles:e.showProfiles,resellerUserId:e.resellerUserId}}})},setRequestAdAccountsModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e.requestId,partnerId:e.partnerId}}})},setRequestAdAccountsGeneralModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e.partner,adAccountsRequested:e.adAccountsRequested}}})},setEditAdAccountAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e.resourceId,principalId:e.principalId,dataToRefresh:e.dataToRefresh,assignmentType:e.assignmentType,rolesForAoaa:e.rolesForAoaa,clientBusinessId:e.clientBusinessId}}})},setRemoveAdAccountAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e.resourceId,principalId:e.principalId,dataToRefresh:e.dataToRefresh,assignmentType:e.assignmentType,resourceType:e.resourceType}}})},setOnboardingModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e.onComplete,onDismiss:e.onDismiss}}})},setSwitchAdAccountModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e.id,name:e.name,owner_user_id:e.owner_user_id,merchant_id:e.merchant_id}}})},setAssignProfilesModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e.selectedIds,selectionType:e.selectionType,dataToRefresh:e.dataToRefresh,assignmentType:e.assignmentType,refreshData:e.refreshData}}})},setAssignAudiencesModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e.accountTypeSelected,displayedAccountType:e.displayedAccountType,forPartner:e.forPartner,handleModalDismiss:e.handleModalDismiss,isAudienceOwner:e.isAudienceOwner,audienceAssignmentType:e.audienceAssignmentType}}})},setAssignAssetsModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e.selectedIds,inviteId:e.inviteId,dataToRefresh:e.dataToRefresh}}})},setRequestProfileAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e.requestId,requesteeId:e.requesteeId,profilePermissions:e.profilePermissions}}})},setRequestCatalogAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e.requestId}}})},setRequestProfileAccessGeneralModal:function(){return i({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}})},setAssetGroupsFormModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}})},setShareTagModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}})},setShareTagSummaryModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}})},setShareTagLegalModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}})},setTagGetStartedModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}})},setDeleteAssetGroupConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}})},setAOAAPermissionAssignmentModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e.partnerBusinessInfo,ownerInfo:e.ownerInfo,accountInfo:e.accountInfo}}})},setUnsavedPermissionsConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e.partnerBusinessInfo,ownerInfo:e.ownerInfo,accountInfo:e.accountInfo}}})},setAOAARequestCreationSuccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e.partnerBusinessInfo,ownerInfo:e.ownerInfo,businessIdToPermissions:e.businessIdToPermissions}}})},setAddAssetOrUserToAssetGroup:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e.assetOrMemberType,assetGroupInfo:e.assetGroupInfo}}})},setAddUserToAssetGroupConfirmation:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}})},setRemoveAssetOrUserFromAssetGroup:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e.assetOrMemberType,toRemove:e.toRemove}}})},setRemoveSystemUserFromApp:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e.toRemove}}})},setRemoveAssetFromTag:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e.assetOrMemberType,toRemove:e.toRemove}}})},setAddOrganizationManagersModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:b({},e)}})},setAddOrganizationManagersConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:b({},e)}})},setEditBusinessDetailsModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}})},setViewBusinessDetailsModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}})},setAddChildBusinessesModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:b({},e)}})},setAddChildBusinessesConfirmationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}})},setSelectAdAccountToShareFromModal:function(){return i({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}})},setAddAdAccountModal:function(){return i({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}})},setRequiredRMAAInformationModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}})},setRMAAUncompleteModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}})},setSavedRMAAInformationSuccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}})},setConfirmAssetAccessRequestModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}})},setCreateBusinessHierarchyModal:function(e){i({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:function(e){i({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:function(e){i({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:function(e){i({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:b({},e)}})},setRemoveDefaultUtmsConfirmation:function(e){i({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:b({},e)}})},setCeeMigrationBusinessInformationModal:function(e){i({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:function(e){i({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:function(e){i({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:function(){i({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:function(e){i({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:b({},e)}})},setRequestCatalogsModal:function(e){i({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:b({},e)}})},setAppSecretKeyModal:function(e){i({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:function(e){i({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}})},setRemoveConversionSegmentModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}})},setDeleteConversionSegmentModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"DELETE_CONVERSION_SEGMENT",modalProps:e}})},setAssignAdAccountToConversionSegmentModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}})},setRemoveConversionDataModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}})},setRevokeCatalogAccessModal:function(e){return i({type:"SET_MODAL",payload:{modalType:"REVOKE_CATALOG_ACCESS",modalProps:{data:e.data,refreshData:e.refreshData,source:e.source}}})},clearModal:function(){return i({type:"CLEAR_MODAL"})}}},[]),s=(0,n.useMemo)(function(){return b({businessAccess:a},u)},[a,u]);return(0,S.jsx)(O,{value:s,children:r})}function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.Z)().checkExperiment,r=(0,o.TH)(),n=t("web_business_access_table_reload_fix").anyEnabled,a=t("web_m10n_business_hierarchy_beta").anyEnabled,i=g().businessAccess.businessId,c=(0,m.Z)().params.userBizId;return a&&e&&(0,u.isBusinessHierarchyPage)(r)?i:n?null!=c?c:"":i}function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.Z)().checkExperiment,r=(0,o.TH)(),n=t("web_business_access_table_reload_fix").anyEnabled,a=t("web_m10n_business_hierarchy_beta").anyEnabled,i=g().businessAccess.detailId,c=(0,m.Z)().params.detailId;return a&&e&&(0,u.isBusinessHierarchyPage)(r)?i:n?null!=c?c:"":i}function R(){var e=(0,(0,s.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,t=g().businessAccess.business;return e?t:null}function C(){return g().businessAccess.businessHierarchy}function N(){var e=(0,(0,s.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,t=g().businessAccess.manager;return e?t:null}function D(){var e=(0,(0,s.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,t=g().businessAccess.profile;return e?t:null}function M(){var e=(0,(0,s.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,t=g().businessAccess.adAccount;return e?t:null}function w(){return g().businessAccess.selectedAudience}function j(){return g().businessAccess.partnerId}function L(){var e=(0,(0,s.Z)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,t=g().businessAccess.employeeId;return e?t:""}function U(){return g().businessAccess.intents}function x(){return g().businessAccess.modal}function B(e,t){return k.apply(this,arguments)}function k(){var e;return e=regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,(0,i.Z)({url:"/ads/v4/business_access/businesses/{business_id}/experiments/",urlParams:{business_id:t},method:"GET"});case 4:n=(null==(o=e.sent.resource_response)?void 0:o.data).data,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return r(n),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,null,[[1,9]])}),(k=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){E(a,n,o,i,u,"next",e)}function u(e){E(a,n,o,i,u,"throw",e)}i(void 0)})}).apply(this,arguments)}},271875:function(e,t,r){r.d(t,{k:function(){return o}});var n=(0,r(213491).Z)("Conversations"),o=n.Provider;t.Z=n.get},639008:function(e,t,r){r.d(t,{R:function(){return S},U:function(){return m}});var n=r(387784),o=r(213491),a=r(47755);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},l=function(e,t){switch(e=e||c,t.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":var r,n,o,a;return s(s({},e),{},{modalOpen:!0,modalTitle:null!=(r=t.payload.title)?r:"",actionFrom:null!=(n=t.payload.actionFrom)?n:"",nextPageToRedirect:null!=(o=t.payload.nextPageToRedirect)?o:"",prompt:null!=(a=t.payload.prompt)?a:""});case"REMOVE_IN_SITE_FEEDBACK_MODAL":return s(s({},e),{},{modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""});case"IN_SITE_FEEDBACK_STARTED_STARTED":return s(s({},e),{},{isSubmitting:!0,submissionComplete:!1,submissionFailure:""});case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return s(s({},e),{},{isSubmitting:!1,submissionComplete:!0,submissionFailure:""});case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return s(s({},e),{},{isSubmitting:!1,submissionComplete:!1,submissionFailure:t.payload.error});default:return e}},d=r(680811);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,o.Z)("InSiteFeedback"),y=p.Provider,m=p.get;function S(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(l,c))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],s=(0,n.useCallback)(function(e,t,r,n){return u({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:t,prompt:r,actionFrom:e,nextPageToRedirect:n}})},[]),p=(0,n.useCallback)(function(){return u({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}})},[]),m=(0,n.useCallback)(function(){return u({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}})},[]),S=(0,n.useCallback)(function(){return u({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})},[]),_=(0,n.useCallback)(function(e){return u({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}})},[]),E=(0,n.useCallback)(function(e){if(u({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void u({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,a.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(function(){u({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(function(e){u({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),v=(0,n.useMemo)(function(){return{inSiteFeedback:i,showInSiteFeedbackModal:s,removeInSiteFeedbackModal:p,submitInSiteFeedbackStarted:m,inSiteFeedbackSubmitSucceeded:S,inSiteFeedbackSubmitFailed:_,submitInSiteFeedback:E}},[i,s,p,m,S,_,E]);return(0,d.jsx)(y,{value:v,children:r})}},362786:function(e,t,r){r.d(t,{P:function(){return A},u:function(){return b}});var n=r(387784),o=r(213491);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function c(e,t){switch(e=e||s,t.type){case"AUTOFILL_LEADGEN_USER_INFO":return u(u({},e),{},{fullName:t.payload.fullName,email:t.payload.email});case"SET_LEADGEN_USER_INFO":return u(u({},e),{},{formSubmissions:t.payload.formSubmissions});default:return e}}var l=r(774838),d=r(661376),f=function(){var e=(0,l.B)().isAuthenticated;return(0,d.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)},p=r(680811);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=(0,o.Z)("LeadGen"),v=E.Provider,b=E.get;function A(e){var t,r=e.children,o=f(),a=o.isLoaded,i=o.data,u=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(c,s))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=u[0],d=u[1],y=(0,n.useCallback)(function(e){return d({type:"SET_LEADGEN_USER_INFO",payload:e})},[]);(0,n.useEffect)(function(){a&&d({type:"AUTOFILL_LEADGEN_USER_INFO",payload:S(S({},s),{},{fullName:null!=i&&i.is_name_eligible_for_lead_form_autofill?i.full_name:"",email:null!=i&&i.is_email_eligible_for_lead_form_autofill?i.email:""})})},[a,i]);var m=(0,n.useMemo)(function(){return{updateLeadGenInfo:y,leadGen:l}},[y,l]);return(0,p.jsx)(v,{value:m,children:r})}},187580:function(e,t,r){r.d(t,{Z:function(){return q}});var n=r(387784),o=r(548777),a=r(800287),i=r(537391),u=r(310008),s=r(552841),c=r(501010),l=r(281213),d=r(720414),f=r(662529),p=r(89446),y=r(27399),m=r(236269),S=r(57887),_=r(730056);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r){var n;return(n=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==E(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return g(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t){return e.data[t]&&e.data[t].messages||[]};function I(e,t){var r,n=new Map,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=O(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a){var i=t(a);if(n.has(i)){var u=(0,_.Z)(n.get(i),a);n.set(i,u)}else n.set(i,a)}}}catch(e){o.e(e)}finally{o.f()}return T(n.values())}function P(e){return T(e).sort(function(e,t){return new Date(e.created_ms||e.created_at).getTime()-new Date(t.created_ms||t.created_at).getTime()})}function R(e,t,r){return P(I(h(e,t).concat(r),function(e){return e.id}))}var C={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function N(e,t){if(e=e||C,"CONVERSATION_OPEN"===t.type)return b(b({},e),{},{open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:b(b({},e.ui),{},A({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}))});if("CONVERSATION_CLOSE"===t.type)return b(b({},e),{},{open:null,objectAttachment:null,showNewMessageView:!1,ui:b(b({},e.ui),{},A({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:!!t.payload.contactRequestId,isDeclined:t.payload.isDeclined}))});if("CONVERSATION_CREATE"===t.type){var r=t.payload.id;return b(b({},e),{},{data:b(b({},e.data),{},A({},r,b(b({},e.data[r]||{}),t.payload)))})}if("CONVERSATION_DELETE"===t.type){var n=b(b({},e),{},{data:b({},e.data)}),o=t.payload.id;return delete n.data[o],n}if("FETCH_COMPLETE"===t.type){var a,i=t.payload,u=i.options,s=i.resource,c=i.response.resource_response.data;if("ConversationMessagesResource"===s){var l=c||[],d=(null==u?void 0:u.conversation_id)||"",f=R(e,d,l),p=f[f.length-1];return b(b({},e),{},{data:b(b({},e.data),{},A({},d,b(b({},e.data[d]),{},{id:d,messages:f,unread:0,last_message:p})))})}if("ConversationsResource"===s){var y=c||[],m=b(b({},e),{},{data:b({},e.data)});return y.forEach(function(e){var t=e.id,r=e.created_at,n=e.name,o=e.board,a=e.emails,i=e.unread,u=e.users,s=e.last_message,c=R(m,t,[s]);m.data[t]=b(b({},m.data[t]),{},{id:t,created_at:r,name:n,board:o,emails:a||[],unread:i||0,users:u||[],last_message:s,messages:c})}),m}if("ConversationResource"===s||"ApiResource"===s&&u.url==="/v3/conversations/".concat(null==(a=u.data)?void 0:a.conversation_id,"/")){var S=c||{},_=S.id,E=b(b({},e),{},{data:b({},e.data)});return _&&(E.data[_]=b(b({},E.data[_]),S)),E}if("NewsHubBadgeResource"===s&&c){var v=c.conversations_unseen_count||0;return b(b({},e),{},{unread:v})}}else if("MESSAGE_SEND_PENDING"===t.type){var O=t.payload,g=O.id,N=O.message;if(e.data[g])return b(b({},e),{},{data:b(b({},e.data),{},A({},g,b(b({},e.data[g]),{},{id:g,messages:[].concat(T(e.data[g].messages),[N])})))})}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){var D=t.payload,M=D.id,w=D.tempMessage,j=D.newMessage;if(e.data[M]&&h(e,M).find(function(e){return e.id===w.id&&e.created_ms===w.created_ms})){var L=P(I(h(e,M).filter(function(e){return e.id!==w.id}).concat([j]),function(e){return e.id}));return b(b({},e),{},{data:b(b({},e.data),{},A({},M,b(b({},e.data[M]),{},{last_message:j,messages:L})))})}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){var U=t.payload,x=U.id,B=U.tempMessageId;if(e.data[x]){var k=h(e,x).filter(function(e){return e.id!==B});return b(b({},e),{},{data:b(b({},e.data),{},A({},x,b(b({},e.data[x]),{},{messages:k})))})}}else if("MESSAGE_DELETE"===t.type){var G=t.payload,F=G.id,H=G.messageId;if(e.data[F]){var Z=h(e,F).map(function(e){return e.id===H?b(b({},e),{},{deleted_by:2}):e});return b(b({},e),{},{data:b(b({},e.data),{},A({},F,b(b({},e.data[F]),{},{messages:Z})))})}}else if("OPEN_NEW_MESSAGE"===t.type){var V=(t.payload||null).objectAttachment;return b(b({},e),{},{showNewMessageView:!0,open:null,objectAttachment:V})}else if("CLOSE_DROPDOWN"===t.type)return b(b({},e),{},{showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1});else if("OPEN_DROPDOWN"===t.type)return b(b({},e),{},{showConversationsDropdown:!0});else if("UPDATE_NEWSHUB_COUNT"===t.type)return b(b({},e),{},{newsHubCount:t.payload});else if("UPDATE_UNREAD_COUNT"===t.type)return b(b({},e),{},{conversationsUnseenCount:t.payload});else if("CLEAR_MESSAGE_BADGE"===t.type){var z=t.payload.id;return b(b({},e),{},{data:b(b({},e.data),{},A({},z,b(b({},e.data[z]),{},{unread:0})))})}else if("CONVERSATION_SAVE_POSITION"===t.type){var q=t.payload,W=q.id,Y=q.position;return b(b({},e),{},{data:b(b({},e.data),{},A({},W,b(b({},e.data[W]),{},{position:Y})))})}else if("CONVERSATION_RESET_POSITION"===t.type){var K=t.payload.id;return b(b({},e),{},{data:b(b({},e.data),{},A({},K,b(b({},e.data[K]),{},{position:null})))})}else if("SET_OBJECT_ATTACHMENT"===t.type){var $=t.payload.objectAttachment;return b(b({},e),{},{objectAttachment:$})}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return b(b({},e),{},{objectAttachment:null});return e}var D=r(271875),M=r(680811);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(N,C))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useCallback)(function(e){return i({type:"FETCH_COMPLETE",payload:e})},[]);(0,S.Z8)("ConversationMessagesResource",u),(0,S.my)("ConversationMessagesResource",u),(0,S.Z8)("ConversationsResource",u),(0,S.Z8)("ConversationResource",u),(0,S.Z8)("NewsHubBadgeResource",u),(0,S.Z8)("ApiResource",u);var s=(0,n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:r}})},[]),c=(0,n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:r}})},[]),l=(0,n.useCallback)(function(e){return i({type:"CONVERSATION_CREATE",payload:e})},[]),d=(0,n.useCallback)(function(e){return i({type:"CONVERSATION_DELETE",payload:{id:e}})},[]),f=(0,n.useCallback)(function(e,t){return i({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})},[]),p=(0,n.useCallback)(function(e){return i({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})},[]),_=(0,n.useCallback)(function(e,t,r){y.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(function(e){i({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(function(e){r((0,m.Z)(e,"message_detail")||(0,m.Z)(e,"message")||"")})},[]),E=(0,n.useCallback)(function(){i({type:"CLOSE_DROPDOWN"})},[]),v=(0,n.useCallback)(function(){i({type:"OPEN_DROPDOWN"})},[]),b=(0,n.useCallback)(function(e){i({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),A=(0,n.useCallback)(function(e,t){return i({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})},[]),T=(0,n.useCallback)(function(e,t,r){return i({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:r}})},[]),O=(0,n.useCallback)(function(e,t){return i({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})},[]),g=(0,n.useCallback)(function(e,t){return i({type:"MESSAGE_DELETE",payload:{id:e,messageId:t}})},[]),h=(0,n.useCallback)(function(e){return i({type:"UPDATE_NEWSHUB_COUNT",payload:e})},[]),I=(0,n.useCallback)(function(e){return i({type:"UPDATE_UNREAD_COUNT",payload:e})},[]),P=(0,n.useCallback)(function(e){return i({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})},[]),R=(0,n.useCallback)(function(e){return i({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})},[]),j=(0,n.useCallback)(function(){return i({type:"REMOVE_OBJECT_ATTACHMENT"})},[]),L=(0,n.useMemo)(function(){return{clearMessageBadge:P,conversationOpen:s,conversationClose:c,conversationCreate:l,conversationDelete:d,conversationGet:_,saveConversationPosition:f,resetConversationPosition:p,dropdownClose:E,dropdownOpen:v,newMessageOpen:b,pendingMessageSend:A,pendingMessageSuccess:T,pendingMessageFailure:O,deleteMessage:g,updateNewsHubCount:h,updateUnreadCount:I,conversations:a,setObjectAttachment:R,removeObjectAttachment:j}},[P,s,c,l,d,_,f,p,E,v,b,A,T,O,g,h,I,a,R,j]);return(0,M.jsx)(D.k,{value:L,children:r})}var L=r(827371);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useMemo)(function(){return[a,i]},[a]);return(0,M.jsx)(L.Z,{value:u,children:r})}var B=r(639008),k=r(362786),G=r(20717),F=r(490515),H=r(329577),Z=r(485633),V=r(272873),z=r(985543);function q(e){var t=e.children,r=(0,c.Z)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?n.Fragment:u.r;return(0,M.jsx)(j,{children:(0,M.jsx)(l.W,{children:(0,M.jsx)(Z.l,{children:(0,M.jsx)(x,{children:(0,M.jsx)(z.X,{children:(0,M.jsx)(k.P,{children:(0,M.jsx)(V.j,{children:(0,M.jsx)(B.R,{children:(0,M.jsx)(s.CB,{children:(0,M.jsx)(p.sO,{children:(0,M.jsx)(a.FE,{children:(0,M.jsx)(i.H,{children:(0,M.jsx)(r,{children:(0,M.jsx)(H.yh,{children:(0,M.jsx)(o.r,{children:(0,M.jsx)(F.C,{children:(0,M.jsx)(f.a,{children:(0,M.jsx)(G.xM,{children:(0,M.jsx)(d.i,{children:t})})})})})})})})})})})})})})})})})})})}},485633:function(e,t,r){r.d(t,{l:function(){return S},o:function(){return m}});var n=r(387784),o=r(213491),a=r(57887);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){var n;return(n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===t.type){var r=t.payload;if("ShareSuggestionsResource"===r.resource){var n,o=t.payload.response.resource_response.data||[],a=(null!=(n=r.options)?n:{}).term;return s(s({},e),{},c({},void 0===a?"":a,o))}if("ShareSuggestionsTypeaheadResource"===r.resource){var i,u=(t.payload.response.resource_response.data||{}).items||[],l=(null!=(i=r.options)?i:{}).term;return s(s({},e),{},c({},void 0===l?"":l,u))}}return e}var d=r(680811);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,o.Z)("ShareSuggestions"),y=p.Provider,m=p.get;function S(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(l,{}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],s=function(e){u({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,a.Z8)("ShareSuggestionsResource",s),(0,a.Z8)("ShareSuggestionsTypeaheadResource",s);var c=(0,n.useMemo)(function(){return{shareSuggestions:i}},[i]);return(0,d.jsx)(y,{value:c,children:r})}},272873:function(e,t,r){r.d(t,{l:function(){return y},j:function(){return m}});var n=r(387784),o=r(213491);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},c=function(e,t){switch(e=e||s,t.type){case"STL_SELECT":return u(u({},e),{},{selectedStlItemId:t.payload.selectedStlItemId});case"STL_SHEET":return u(u({},e),{},{currentPinDraftId:t.payload.currentPinDraftId});case"STL_TAGGED_PIN":return u(u({},e),{},{stlTaggedCoords:t.payload.stlTaggedCoords});case"STL_ERROR_STATE":return u(u({},e),{},{stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}});case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return u(u({},e),{},{mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId});case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return u(u({},e),{},{stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId});default:return e}},l=r(680811);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,o.Z)("ShopTheLook"),p=f.Provider,y=f.get;function m(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(c,s))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],u=(0,n.useMemo)(function(){return{shopTheLook:a,setStlSelection:function(e){i({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:function(e){i({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:function(e){i({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:function(e){i({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e.showCallout,type:e.type}}})},setMostRecentTaggedObjectId:function(e){i({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:function(e){i({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}},[a]);return(0,l.jsx)(p,{value:u,children:r})}},985543:function(e,t,r){r.d(t,{X:function(){return f},Z:function(){return d}});var n=r(387784),o=r(213491),a=r(566431);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var u=r(680811);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,o.Z)("ReportData"),l=c.Provider,d=c.get;function f(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(i,null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{for(a=(r=r.call(e)).next;!(s=(n=a.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o[0],d=o[1],f=(0,n.useCallback)(function(){return d({type:"REPORT_CONTENT_DISMISS"})},[]),p=(0,n.useCallback)(function(e,t,r){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:r,nodeId:null}})},[]),y=(0,n.useCallback)(function(e,t,r){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"conversation",nodeId:null}})},[]),m=(0,n.useCallback)(function(e){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:e.viewParameter,viewType:e.viewType,type:"pin",nodeId:e.nodeId}})},[]),S=(0,n.useCallback)(function(e){var t=e.pinId,r=e.isDownstreamPromotion,n=e.hasPromoter,o=e.firstVideoDuration,i=e.isProduct,u=e.viewParameter,s=e.viewType,c=e.isThirdPartyAd,l=e.nodeId;d({type:"REPORT_CONTENT_SHOW",payload:{id:t,auxData:e.auxData,isProduct:i,isPromoted:(0,a.jL)(r,n),videoDuration:o,viewParameter:u,viewType:s,type:"pin",isThirdPartyAd:c,nodeId:l}})},[]),_=(0,n.useMemo)(function(){return{reportData:c,dismiss:f,reportComment:p,reportConversation:y,reportImage:m,reportPin:S}},[c,f,p,y,m,S]);return(0,u.jsx)(l,{value:_,children:r})}}}]);