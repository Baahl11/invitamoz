"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{6485:function(e,t,r){let n,o;r.d(t,{o:function(){return eb}});var a={};r.r(a),r.d(a,{login:function(){return L},loginPhone:function(){return C},shared:function(){return R}});var i={};r.r(i),r.d(i,{floss:function(){return $},generic:function(){return eu},login:function(){return en},loginPhone:function(){return ei}});var u={};r.r(u),r.d(u,{login:function(){return eP},loginPhone:function(){return em},shared:function(){return ev}});var c=r(5893),s=r(6834),l=r(1353),d=r(7294),_=r(1686),p=r(1163),h=r(8810),I=r(5258),E=r(8231),N=r(5596),O=r(9841),g=r(6067);let y=(e,t,r)=>{if(!(0,g.b)("googleAnalyticsEnabled"))return;let n=(0,O.nE)();n&&n("send","event",e,t,r)},L=(e,t)=>{let{clientId:r}=t;switch(e.type){case"LOGIN_SUBMIT":y("Login View","Login Button",r);return;case"LOGIN_ERROR":y("Login View","Login Error",r);return;case"LOGIN_REDIRECT":y("Login View","Login Redirect Required",r);return;case"LOGIN_SUCCESS":y("Login View","Login Success",r);return;case"LOGIN_ERROR_BANNER_IMPRESSION":{let{error:t}=e.payload;switch(t){case N.q.FacebookAccountError:y("Login View","Facebook. No Linked Account",r);return;case N.q.AppleAccountError:y("Login View","Apple. No Linked Account",r);return;case N.q.GoogleAccount:y("Login View","Google. No Linked Account",r);return;default:y("Login View","Unknown Error");return}}case"LOGIN_FORGOT_PASSWORD_CLICK":y("Login View","Forgot Button",r);return;default:return}},C=e=>{switch(e.type){case"LOGIN_PHONE_IMPRESSION":y("Phone Login View","Load");return;case"LOGIN_PHONE_PHONE_NUMBER_FORM_IMPRESSION":y("Input Number","Load");return;case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER":y("Input Number","Submit");return;case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER_ERROR":y("Input Number","Failure");return;case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER_SUCCESS":y("Input Number","Success");return;case"LOGIN_PHONE_CODE_FORM_IMPRESSION":y("Input Code","Load");return;case"LOGIN_PHONE_SUBMIT_CODE":y("Input Code","Submit");return;case"LOGIN_PHONE_SUBMIT_CODE_ERROR":y("Input Code","Failure");return;case"LOGIN_PHONE_REDIRECT":{let{result:t}=e.payload;"signup_required"===t&&y("Input Code","Signup Required");return}case"LOGIN_PHONE_RESEND_CODE":y("Input Code","New Code");return;default:return}},R=(e,t)=>{let{clientId:r}=t;switch(e.type){case"SHARED_GOOGLE_IDP_CLICK":y("Login View","Google Button",r);return;case"SHARED_FACEBOOK_IDP_CLICK":y("Login View","Facebook Button",r);return;case"SHARED_APPLE_IDP_CLICK":y("Login View","Apple Button",r);return;case"SHARED_PHONE_IDP_CLICK":y("Login View","Phone Button",r);return;case"SHARED_EMAIL_IDP_CLICK":y("Login View","Email Button",r);return;case"SHARED_SIGNUP_CLICK":y("Login View","Signup Button",r);return;case"SHARED_APPSTORE_CLICK":y("Login View","App Store Button",r);return;default:return}},S=(e,t)=>Object.values(a).forEach(r=>r(e,t)),P=e=>{let{children:t}=e,{query:r}=(0,p.useRouter)(),n=(0,I.k)(),o={clientId:(0,E.l)(r,n)};return(0,h.Q3)(e=>S(e,o)),(0,c.jsx)(d.Fragment,{children:t})};var f=r(5200);let w=e=>{let{featureFlags:t,children:r}=e;return(0,c.jsx)(f.J.Provider,{value:t,children:r})};var m=r(5594);let v=e=>{let{headers:t,children:r}=e;return(0,c.jsx)(m.h.Provider,{value:t,children:r})},F=(0,d.createContext)(null),A=e=>{let{origin:t,children:r}=e;return(0,c.jsx)(F.Provider,{value:t,children:r})};var U=r(259);let T=e=>{let{children:t,recaptchaKey:r}=e;return(0,c.jsx)(U.pm,{reCaptchaKey:r,useEnterprise:!0,scriptProps:{async:!0,appendTo:"body"},children:t})};var b=r(7190);(0,b.JP)({name:"hbx",description:"hbx",default:!1}),(0,b.JP)({name:"phone_login_v2",description:"Enable Phone Login V2",default:!1});var M=r(1973),B=r(8716),G=r(8340),x=r(1791),D=r(5953),H=r(3101),k=r(2367),K=r(8872);let j=()=>(n||(n=(0,K.createBaseTransport)({providers:{endpoints:(0,K.createXResolveProvider)(),token:async()=>"no-token-available"},requestMode:"fetch"})),n),V=(0,M.hh)(k.H).addMiddleware(D.a).addMiddleware(x.dB).addMiddleware(G.Q).addMiddleware(H.V),q=e=>{let{remoteConfig:t,spT:r,children:n}=e,o=(0,d.useMemo)(()=>b.VK.fromJSON(t),[JSON.stringify(t)]);return(0,c.jsx)(B.nD,{initialConfiguration:o,resolver:V,options:{clientId:"authn-web",transport:j(),timeout:5e3,sp_t_cookie:r},context:{auth:!1},children:n})};var X=r(6896),Y=r(3342),z=r(7253),W=r(3089),J=r(4075),Z=r(9374),Q=r(8740);let $=async e=>{switch(e.type){case"FLOSS_IMPRESSION":{let{step:t}=e.payload;await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"floss-impression",value:1,tags:{step:t}});return}case"FLOSS_SUCCESS":{let{step:t}=e.payload;await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"floss-success",value:1,tags:{step:t}});return}case"FLOSS_ERROR":{let{step:t,error:r}=e.payload;await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"floss-error",value:1,tags:{step:t,error:r}});return}default:return}},ee=async e=>{await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"login-result",value:1,tags:{result:e}})},et=async e=>{await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"login-error",value:1,tags:{error:e}})},er=e=>Object.values(N.q).includes(e)?e:"unknownLoginErrorCode",en=async e=>{switch(e.type){case"LOGIN_SUCCESS":await ee("success");return;case"LOGIN_REDIRECT":await ee("redirect");return;case"LOGIN_ERROR":await ee("error"),await et(er(e.payload.error));return}},eo=async e=>{await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"login-phone-result",value:1,tags:{result:e}})},ea=async e=>{await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"login-phone-error",value:1,tags:{error:e}})},ei=async e=>{switch(e.type){case"LOGIN_PHONE_SUCCESS":await eo("success");return;case"LOGIN_PHONE_REDIRECT":await eo("redirect");return;case"LOGIN_PHONE_ERROR":await eo("error"),await ea(e.payload.error);return;default:return}},eu=async(e,t)=>{let r=Object.entries(t).reduce((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=n),e},{}),n=Object.entries("payload"in e?e.payload:{}).reduce((e,t)=>{let[r,n]=t;switch(r){case"error":case"provider":case"result":case"reason":e[r]=String(n)}return e},{});await (0,Q.s)({metric_type:Z.MetricTypes.COUNTER,what:"event_".concat(e.type.toLowerCase()),value:1,tags:{...r,...n}})},ec=async(e,t)=>{await Promise.all(Object.values(i).map(r=>r(e,t)))},es=e=>{let{children:t}=e,{locale:r}=(0,X.Z)(),n=(0,W.U)(J.d.Intent),o=(0,W.U)(J.d.Method),a=(0,W.U)(J.d.Origin),i=(0,W.U)(J.d.Reason),u=(0,Y.S)(z.P.SignupMode),s=(0,Y.S)(z.P.AllowPassword),l=(0,d.useMemo)(()=>({locale:r,intent:n,method:o,origin:a,reason:i,signupMode:u,passwordMode:s?"password":"passwordless"}),[r,n,o,a,i,u,s]);return(0,h.Q3)(e=>ec(e,l)),(0,c.jsx)(d.Fragment,{children:t})};var el=r(6801);let ed=e=>{let{translations:t,locale:r,children:n}=e;return(0,c.jsx)(el.Z,{locale:r,messages:t,defaultLocale:"en",fallbackOnEmptyString:!0,onError:e=>{if("MISSING_TRANSLATION"!==e.code)throw e},children:n})};var e_=r(880),ep=r(3741),eh=r(6700),eI=r(3770);let eE=(0,g.b)("appClientId"),eN=e=>{if(!o){var t,r;let n=[(0,eI.createApplicationContext)({version:"1.0.0"})];e&&n.push((0,eI.createCorrelationIdContext)(e));let a="unknown";a=null!==(r=null===(t=window.navigator)||void 0===t?void 0:t.userAgent)&&void 0!==r?r:"unknown",n.push((0,eI.createUserAgentContext)(a)),eE&&n.push((0,eI.createClientIdContext)(eE));let i=j();i.isConnected()||i.connect(),o=(0,eh.createEventSender)({transport:i,context:n})}return o},eO=(0,d.createContext)(void 0),eg=(e,t)=>{let r=eN(e);return new e_.Yv(ep.RK.getUBILogger({eventSender:r,authenticationProvider:{isAuthenticated:()=>!1},contextualProviders:{flowIdProvider:{getFlowId:()=>t}}}),new e_.zU)},ey=e=>{let{children:t,flowId:r,spT:n}=e,o=(0,d.useMemo)(()=>eg(n,r),[]);return(0,c.jsx)(eO.Provider,{value:o,children:t})};var eL=r(4508);let eC=()=>{let e=(0,d.useContext)(eO);if(!e)throw Error("useUBILogger must be used within UBILoggerProvider");return(0,d.useMemo)(()=>({logInteraction:e.logInteraction.bind(e),logImpression:e.logImpression.bind(e)}),[e])};var eR=r(9780);let eS=(e,t)=>"".concat(e,":login?").concat(t),eP=(e,t,r)=>{let{logImpression:n,logInteraction:o}=r,{flowId:a,host:i,reason:u=""}=t,c=(0,eR.R)({data:{identifier:eS(i,a),reason:u,uri:""}});switch(e.type){case"LOGIN_IMPRESSION":n(c.impression());return;case"LOGIN_SUBMIT":{let{isPasswordless:e}=t;o(e?c.nativeLoginFactory().passwordlessLogInButtonFactory().hitLogin():c.nativeLoginFactory().logInButtonFactory().hitLogin());return}case"LOGIN_FORGOT_PASSWORD_CLICK":{let{destination:t}=e.payload;o(c.nativeLoginFactory().forgotPasswordLinkFactory().hitUiNavigate({destination:t}));return}case"LOGIN_WITHOUT_PASSWORD_CLICK":{let{destination:t}=e.payload;o(c.nativeLoginFactory().logInWithoutPasswordLinkFactory().hitUiNavigate({destination:t}));return}case"LOGIN_ERROR_BANNER_IMPRESSION":{let{error:t}=e.payload;n(c.errorBannerFactory({identifier:t,reason:t,uri:window.location.href}).impression());return}case"LOGIN_FBX_FACEBOOK_IDP_CLICK":case"LOGIN_FBX_DIALOG_IMPRESSION":case"LOGIN_FBX_DIALOG_CLOSE":case"LOGIN_FBX_DIALOG_CONTINUE":default:return;case"LOGIN_HBX_RETRY_DIALOG_IMPRESSION":n(c.hbxFlowFactory().hbxRetryDialogFactory().impression());return;case"LOGIN_HBX_RETRY_DIALOG_RETRY_BUTTON_CLICK":{let{destination:t}=e.payload;o(c.hbxFlowFactory().hbxRetryDialogFactory().retryButtonFactory().hitUiNavigate({destination:t}));return}case"LOGIN_HBX_RETRY_DIALOG_CANCEL_BUTTON_CLICK":o(c.hbxFlowFactory().hbxRetryDialogFactory().cancelButtonFactory().hitUiHide());return;case"LOGIN_HBX_RETRY_DIALOG_SUPPORT_LINK_CLICK":{let{destination:t}=e.payload;o(c.hbxFlowFactory().hbxRetryDialogFactory().contactCustomerServiceButtonFactory().hitNavigateToExternalUri({destination:t}));return}}};var ef=r(4348),ew=r(2830);let em=(e,t,r)=>{let{logImpression:n,logInteraction:o}=r,{flowId:a,host:i}=t,u=(0,ef.a)({data:{identifier:eS(i,a)}}),c=(0,ew.g)({data:{identifier:eS(i,a)}});switch(e.type){case"LOGIN_PHONE_IMPRESSION":n(u.impression());return;case"LOGIN_PHONE_PHONE_NUMBER_INPUT_FOCUS":o(u.phoneNumberFormFactory().phoneNumberInputFieldFactory().hitFocusInputField());return;case"LOGIN_PHONE_COUNTRY_CODE_SELECT":o(u.phoneNumberFormFactory().countryCallingCodeDropdownFactory().hitUiSelect());return;case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER_ATTEMPT":o(u.phoneNumberFormFactory().continueButtonFactory().hitSendSecurityCode());return;case"LOGIN_PHONE_PHONE_NUMBER_VALIDATION_ERROR":{let{error:t}=e.payload;n(u.phoneNumberFormFactory().phoneNumberInputFieldErrorFactory({reason:t}).impression());return}case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER_ERROR":{let{error:t}=e.payload;n(u.phoneNumberFormFactory().serverErrorFactory({reason:t}).impression());return}case"LOGIN_PHONE_CODE_FORM_IMPRESSION":n(c.impression());return;case"LOGIN_PHONE_BACK":o(c.backButtonFactory().hitUiNavigateBack());return;case"LOGIN_PHONE_SUBMIT_CODE_ATTEMPT":o(c.codeFormFactory().loginButtonFactory().hitLogin());return;case"LOGIN_PHONE_CODE_VALIDATION_ERROR":{let{error:t}=e.payload;n(c.codeFormFactory().codeInputFieldErrorFactory({reason:t}).impression());return}case"LOGIN_PHONE_RESEND_CODE":o(c.codeFormFactory().resendCodeButtonFactory().hitSendSecurityCode());return;case"LOGIN_PHONE_SUBMIT_PHONE_NUMBER_SUCCESS":{let{isResend:t}=e.payload;t&&n(c.codeFormFactory().codeResentBannerFactory().impression());return}case"LOGIN_PHONE_SUBMIT_CODE_ERROR":{let{error:t}=e.payload;n(c.codeFormFactory().serverErrorFactory({reason:t}).impression());return}default:return}},ev=(e,t,r)=>{let{logInteraction:n}=r,{flowId:o,host:a,reason:i="",route:u}=t;if("/[locale]/login/phone"===u){let t=(0,ef.a)({data:{identifier:eS(a,o)}});switch(e.type){case"SHARED_GOOGLE_IDP_CLICK":{let{destination:r}=e.payload;n(t.loginMethodsFactory().providerButtonFactory({identifier:"google"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_FACEBOOK_IDP_CLICK":{let{destination:r}=e.payload;n(t.loginMethodsFactory().providerButtonFactory({identifier:"facebook"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_APPLE_IDP_CLICK":{let{destination:r}=e.payload;n(t.loginMethodsFactory().providerButtonFactory({identifier:"apple"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_EMAIL_IDP_CLICK":{let{destination:r}=e.payload;n(t.loginMethodsFactory().providerButtonFactory({identifier:"email"}).hitUiNavigate({destination:r}));return}case"SHARED_SIGNUP_CLICK":{let{destination:r}=e.payload;n(t.signUpLinkFactory().hitUiNavigate({destination:r}));return}default:return}}else{let t=(0,eR.R)({data:{identifier:eS(a,o),reason:i,uri:""}});switch(e.type){case"SHARED_GOOGLE_IDP_CLICK":{let{destination:r}=e.payload;n(t.thirdPartySsoFactory().providerButtonFactory({identifier:"google"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_FACEBOOK_IDP_CLICK":{let{destination:r}=e.payload;n(t.thirdPartySsoFactory().providerButtonFactory({identifier:"facebook"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_APPLE_IDP_CLICK":{let{destination:r}=e.payload;n(t.thirdPartySsoFactory().providerButtonFactory({identifier:"apple"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_PHONE_IDP_CLICK":{let{destination:r}=e.payload;n(t.phoneButtonFactory({identifier:"phone"}).hitUiNavigate({destination:r}));return}case"SHARED_EMAIL_IDP_CLICK":{let{destination:r}=e.payload;n(t.thirdPartySsoFactory().providerButtonFactory({identifier:"email"}).hitNavigateToExternalUri({destination:r}));return}case"SHARED_SIGNUP_CLICK":{let{destination:r}=e.payload;n(t.signUpButtonFactory().hitUiNavigate({destination:r}));return}case"SHARED_APPSTORE_CLICK":{let{destination:r}=e.payload;n(t.appleItunesSignupLinkFactory({reason:"iTunes - Authorize App View"}).hitNavigateToExternalUri({destination:r}));return}default:return}}},eF=(e,t,r)=>Object.values(u).forEach(n=>n(e,t,r)),eA=e=>{let{children:t}=e,{route:r}=(0,p.useRouter)(),n=eC(),o=(0,eL.cl)(),a=(0,W.U)(J.d.Reason),i=!(0,Y.S)(z.P.AllowPassword),u={host:window.location.host,reason:a,isPasswordless:i,flowId:o,route:r};return(0,h.Q3)(e=>eF(e,u,n)),(0,c.jsx)(d.Fragment,{children:t})};var eU=r(1539);let eT=(e,t)=>"string"!=typeof t||(0,eU.Z)(e),eb=e=>{let{remoteConfig:t,headers:r,translations:n,locale:o,flowId:a,children:i,origin:u,featureFlags:d,recaptchaKey:p}=e;return(0,c.jsx)(_.LC,{shouldForwardProp:eT,children:(0,c.jsx)(l.Z,{flowId:a,children:(0,c.jsx)(A,{origin:u,children:(0,c.jsx)(q,{remoteConfig:t,spT:r.spT,children:(0,c.jsx)(v,{headers:r,children:(0,c.jsx)(w,{featureFlags:d,children:(0,c.jsx)(h.Yl,{children:(0,c.jsx)(ey,{flowId:a,spT:r.spT,children:(0,c.jsx)(eA,{children:(0,c.jsx)(P,{children:(0,c.jsx)(ed,{translations:n,locale:o,children:(0,c.jsx)(T,{recaptchaKey:p,children:(0,c.jsx)(s.u,{children:(0,c.jsx)(es,{children:i})})})})})})})})})})})})})})}},1018:function(e,t,r){r.d(t,{h:function(){return c}});var n=r(5893);r(7294);var o=r(1686),a=r(3342),i=r(7253);let u=o.ZP.a.withConfig({componentId:"sc-5d579639-0"})(["text-decoration:underline;color:inherit;"]),c=e=>{let t=(0,a.S)(i.P.NoLinks);return e||t?e=>e:e=>(0,n.jsx)(u,{href:"https://www.spotify.com/help",target:"_blank",children:e})}},8810:function(e,t,r){r.d(t,{K4:function(){return o},Q3:function(){return a},Yl:function(){return n}});let{EventsProvider:n,usePublish:o,useSubscribe:a}=(0,r(6906).U)()},5200:function(e,t,r){r.d(t,{J:function(){return n}});let n=(0,r(7294).createContext)(null)},3342:function(e,t,r){r.d(t,{S:function(){return i}});var n=r(7294),o=r(5200);let a=()=>{let e=(0,n.useContext)(o.J);if(!e)throw Error("useFeatureFlags must be used within a FeatureFlagsProvider");return e},i=e=>a()[e]},7253:function(e,t,r){var n,o,a,i;r.d(t,{F:function(){return o},P:function(){return n}}),(a=n||(n={})).OnlyPasswordView="onlyPasswordView",a.NoLinks="noLinks",a.SignupMode="signupMode",a.IsAutomated="isAutomated",a.AllowPassword="allowPassword",a.Hbx="hbx",a.LoginWithPhone="loginWithPhone",a.IsSlingshot="isSlingshot",a.IsRu="isRu",a.IsPhoneLoginV2="isPhoneLoginV2",(i=o||(o={})).App="app",i.None="none",i.Default="default"},5594:function(e,t,r){r.d(t,{h:function(){return n}});let n=(0,r(7294).createContext)(null)},5596:function(e,t,r){var n,o;r.d(t,{q:function(){return n}}),(o=n||(n={})).FacebookAccountError="errorFacebookAccount",o.AppleAccountError="errorAppleAccount",o.GoogleAccount="errorGoogleAccount",o.FacebookAuthorizeCancelled="errorFacebookAuthorizeCancelled",o.AppleAuthorizeCancelled="errorAppleAuthorizeCancelled",o.GoogleAuthorizeCancelled="errorGoogleAuthorizeCancelled",o.InvalidCredentials="errorInvalidCredentials",o.OnlyNumbersInPhoneNumber="errorOnlyNumbersInPhoneNumber",o.OnlyNumbersInCode="errorOnlyNumbersInCode",o.ValidationCheckPhoneNumber="errorValidationCheckPhoneNumber",o.ValidationMakeSurePhoneNumberIsRight="errorValidationMakeSurePhoneNumberIsRight",o.ValidationInvalidCode="errorValidationInvalidCode",o.ResenCodeTooSoon="errorResenCodeTooSoon",o.UnsupportedLoginMethod="unsupportedLoginMethodError",o.BadPhoneNumber="bad_phone_number",o.InvalidCode="invalid_code",o.ExpiredCode="expired_code",o.DownstreamError="downstream_error",o.RecaptchError="recaptchaError"},5258:function(e,t,r){r.d(t,{k:function(){return d}});var n=r(4508),o=r(1163),a=r(7294),i=r(5594);let u=()=>{let e=(0,a.useContext)(i.h);if(!e)throw Error("useHeaders must be used within a HeadersProvider");return e};var c=r(7286),s=r(4075),l=r(3089);let d=()=>{let e=(0,l.U)(s.d.Continue),t=(0,l.U)(s.d.State),r=(0,n.cl)(),{query:i}=(0,o.useRouter)(),{host:d}=u();return(0,a.useMemo)(()=>(0,c.F)(e,{query:i,host:d,flowId:r,state:t}),[e,i,d,r,t])}},3089:function(e,t,r){r.d(t,{U:function(){return o}});var n=r(1163);let o=e=>{let{query:t}=(0,n.useRouter)(),r=t[e];return"string"==typeof r?r:void 0}},4075:function(e,t,r){var n,o;r.d(t,{d:function(){return n}}),(o=n||(n={})).AllowPassword="allow_password",o.Automated="automated",o.ClientId="client_id",o.Continue="continue",o.CreationPoint="creation_point",o.Error="error",o.HulkbusterExperimentFlow="hbx",o.FlowCtx="flow_ctx",o.Intent="intent",o.ListenerApp="listener_app",o.LoginHint="login_hint",o.MaxAge="max_age",o.Method="method",o.NoLinks="nolinks",o.NoSignout="nosignout",o.NoSignup="nosignup",o.Origin="origin",o.Reason="reason",o.Referral="referral",o.Referrer="referrer",o.Signup="signup",o.State="state",o.UtmCampaign="utm_campaign",o.UtmMedium="utm_medium",o.UtmSource="utm_source"},2752:function(e,t,r){r.d(t,{T:function(){return o}});var n=r(6896);let o=()=>{let e=(0,n.Z)();return function(t,r){return e.formatMessage({id:t},r)}}},1661:function(e,t,r){r.d(t,{$:function(){return h}});var n=r(4508),o=r(4075),a=r(9774),i=r(9424),u=r(7334);let c=()=>!1,s=e=>Object.entries(e).reduce((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=n),e},{}),l=RegExp("(script|src|eval|href|onload|form|atob|<|>)"),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[e,new URLSearchParams((0,u.encode)(s(t))).toString()].filter(Boolean).join("?"),n=function(e){if(c())return e;let t=document.createElement("a");return t.href="http://example.com/?".concat(e),new URL(t.href).search.slice(1)}(r);return l.test(r)&&(0,i.uT)("Potentially abusive URL parameter found",{extra:{potentiallyAbusiveUrl:r}}),n},_=e=>{let t=null==e?void 0:e.locale;return"string"==typeof t?t:void 0},p=[o.d.NoSignup,o.d.Signup,o.d.NoSignout,o.d.NoLinks,o.d.State,o.d.CreationPoint,o.d.Referral,o.d.Referrer,o.d.Origin,o.d.UtmSource,o.d.UtmCampaign,o.d.UtmMedium],h=(e,t,r)=>{if(!e.startsWith("/"))throw Error("Path must start with a slash, but got: ".concat(e));let{query:o,flowId:i,excludeLocale:u}=r,c={...(0,a.e)(o,p),...t};if(i){let e=(0,n.Nl)(i);c[n.PN]=e}let s=u?void 0:_(o);return d("".concat(s?"/".concat(s):"").concat(e),c)}},8231:function(e,t,r){r.d(t,{l:function(){return a}});var n=r(4075);let o=e=>{try{return new URL(decodeURIComponent(e)).searchParams.get(n.d.ClientId)||void 0}catch{return}},a=(e,t)=>{let r=e[n.d.ClientId];if(null!=r){if(Array.isArray(r))return r.find(e=>e&&""!==e.trim())||void 0;if("string"==typeof r)return""!==r.trim()?r:void 0}if(t)return o(t)}},7286:function(e,t,r){r.d(t,{F:function(){return c}});var n=r(4508),o=r(4075),a=r(1661);let i=e=>(0,a.$)("/status",{},e),u=e=>{let t=new URL(e);return(/\.spotify\.(?:com|net)$/.test(t.hostname)||"spotify.com"===t.hostname)&&/^https?:$/.test(t.protocol)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(e)try{let{flowId:r,state:a}=t;if(u(e)){let t=new URL(e);if(a&&t.searchParams.append(o.d.State,a),r){let e=(0,n.Nl)(r);t.searchParams.set(n.PN,e)}return t.toString()}}catch(e){}return i(t)}},9774:function(e,t,r){r.d(t,{e:function(){return n}});let n=(e,t)=>Object.assign({},...t.map(t=>e&&Object.prototype.hasOwnProperty.call(e,t)?{[t]:e[t]}:{}))}}]);