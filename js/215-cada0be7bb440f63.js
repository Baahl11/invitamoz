"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{8448:function(e,t,n){n.d(t,{Q:function(){return c}});var r=n(9374),i=n(6489),l=n(8740);let o=(e,t,n)=>{let i=window.location.origin,o=e.split("?")[0];(0,l.s)({metric_type:r.MetricTypes.COUNTER,what:"fetch-completed",value:1,tags:{endpoint:o,base_url:i,code:t.toString()}}),(0,l.s)({metric_type:r.MetricTypes.TIMER,what:"fetch-latency",value:n,tags:{endpoint:o,base_url:i}})},a=async(e,t)=>{try{let n=r.Timer.start(),{sp_sso_csrf_token:l}=i.parse(document.cookie),a=new Headers(t.headers);l&&a.set("X-CSRF-Token",l);let c=await fetch(e,{credentials:"same-origin",...t,headers:a}),{nanoseconds:s}=n.end();o(e,c.status,s);let u=await c.json();if(!c.ok)return{data:null,error:u.error||"errorUnknown"};return{data:u,error:null}}catch(e){return{data:null,error:"errorUnknown"}}},c=async(e,t)=>a(e,{method:"POST",body:new URLSearchParams(Object.entries(t).map(e=>{let[t,n]=e;return[t,null!=n?n:""]})),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}})},1127:function(e,t,n){n.d(t,{H:function(){return p}});var r=n(5893),i=n(6138),l=n(7294),o=n(8810),a=n(9798),c=n(5596),s=n(9025),u=n(2752),d=n(1018);let h=(e,t)=>{let{allowPassword:n,helpLink:r}=t;switch(e){case c.q.FacebookAccountError:case c.q.AppleAccountError:case c.q.GoogleAccount:case c.q.OnlyNumbersInPhoneNumber:case c.q.OnlyNumbersInCode:case c.q.ValidationCheckPhoneNumber:case c.q.ValidationMakeSurePhoneNumberIsRight:return{key:e};case c.q.InvalidCredentials:if(n)return{key:"errorInvalidCredentials"};return{key:"passwordless_errorInvalidCredentials"};case c.q.ValidationInvalidCode:return{key:"errorValidationInvalidCodeGeneric"};case c.q.BadPhoneNumber:return{key:"errorValidationCheckPhoneNumber"};case c.q.InvalidCode:return{key:"errorValidationInvalidCodeGeneric"};case c.q.ExpiredCode:return{key:"errorSubmitTookTooLongToCreate"};case c.q.ResenCodeTooSoon:return{key:e,values:{seconds:s.d/1e3}};case c.q.FacebookAuthorizeCancelled:case c.q.AppleAuthorizeCancelled:case c.q.GoogleAuthorizeCancelled:case c.q.DownstreamError:return{key:"errorFormDefault",values:{helpLink:r}};default:return{key:"errorUnknown",values:{helpLink:r}}}},p=e=>{let{error:t,allowPassword:n}=e,c=(0,o.K4)(),s=(0,u.T)(),p=(0,d.h)();(0,l.useEffect)(()=>{c((0,a.U0)(t))},[]);let{key:f,values:_}=h(t,{allowPassword:n,helpLink:p});return(0,r.jsx)(i.j,{colorSet:"negative",role:"alert",children:s(f,{..._})})}},1677:function(e,t,n){n.d(t,{d:function(){return ei}});var r=n(5893),i=n(3485),l=n(2068),o=n(7294),a=n(1686),c=n(7253),s=n(2752),u=n(1191),d=n(4629),h=n(6026),p=n(9143),f=n(4508),_=n(1163),y=n(8810),I=n(9798);let g=e=>({type:"SHARED_GOOGLE_IDP_CLICK",payload:{destination:e}}),v=e=>({type:"SHARED_FACEBOOK_IDP_CLICK",payload:{destination:e}}),x=e=>({type:"SHARED_APPLE_IDP_CLICK",payload:{destination:e}}),m=e=>({type:"SHARED_PHONE_IDP_CLICK",payload:{destination:e}}),C=e=>({type:"SHARED_EMAIL_IDP_CLICK",payload:{destination:e}}),E=e=>({type:"SHARED_SIGNUP_CLICK",payload:{destination:e}}),O=e=>({type:"SHARED_APPSTORE_CLICK",payload:{destination:e}});var L=n(3342),b=n(8747),j=n(4735),A=n(4075),k=n(558);let N=e=>{let{hide:t,isVisible:n}=e,i=(0,s.T)(),a=(0,y.K4)(),{push:c,query:u,pathname:d}=(0,_.useRouter)();(0,k.E)(n),(0,o.useEffect)(()=>{n&&a((0,I.yK)())},[n,a]);let h=o.useCallback(()=>{a((0,I.Bz)()),t()},[t,a]);return(0,r.jsx)(l.IC,{title:i("hbx_block_dialog_title"),description:i("hbx_block_dialog_description"),buttons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.D,{onClick:()=>{a((0,I.PH)()),c({pathname:d,query:{...u,[A.d.Method]:"password",[A.d.HulkbusterExperimentFlow]:1,[A.d.Signup]:"none"}})},children:i("hbx_block_dialog_continue_button")}),(0,r.jsx)(j.o,{onClick:h,children:i("hbx_block_dialog_cancel_button")})]}),isVisible:n,onHide:h})};var R=n(1661),P=n(3362);let S=e=>{let t=(0,P.a)(e);return(0,R.$)("/login/google",t,e)};var T=n(6757);let M=e=>{let t=(0,P.a)(e);return(0,R.$)("/login/apple",t,e)},D=e=>{let t=(0,P.a)(e);return(0,R.$)("/login/phone",t,e)},w=e=>{let t=(0,P.a)(e);return(0,R.$)("/v2/login/phone",t,e)},F=e=>{let t=(0,P.a)(e);return(0,R.$)("/login",t,e)},z=a.ZP.div.withConfig({componentId:"sc-6cff0ead-0"})(["display:flex;flex-direction:column;gap:",";"],(0,u.Gk)("tighter-2")),G={inlineSize:"100%"},H=(0,o.memo)(e=>{let{showLoginWithPhone:t=!1,showLoginWithEmail:n=!1,isHbx:i}=e,o=(0,s.T)(),a=(0,y.K4)(),{query:u}=(0,_.useRouter)(),E=(0,f.cl)(),O=(0,L.S)(c.P.IsPhoneLoginV2),b=(0,l.bZ)(),j=S({query:u,flowId:E}),A=(0,T.X)({query:u,flowId:E}),k=M({query:u,flowId:E}),R=O?w({query:u,flowId:E}):D({query:u,flowId:E}),P=F({query:u,flowId:E});return(0,r.jsxs)(z,{children:[t&&(0,r.jsx)(d.P,{style:G,href:R,onClick:()=>{a(m(R))},iconLeading:h.B,children:o("continueWithPhoneNumber")}),n&&(0,r.jsx)(d.P,{style:G,href:P,onClick:()=>{a(C(P))},iconLeading:p.B,children:o("continueWithEmail")}),(0,r.jsx)(l.VL,{style:G,href:j,onClick:()=>{a(g(j))},children:o("continueWithGoogle")}),(0,r.jsx)(l.Eb,{style:G,href:i?void 0:A,onClick:()=>{i?(a((0,I.Zt)()),b.show()):a(v(A))},children:o("continueWithFacebook")}),(0,r.jsx)(l.XL,{style:G,href:k,onClick:()=>{a(x(k))},children:o("continueWithApple")}),i&&(0,r.jsx)(N,{isVisible:b.isVisible,hide:b.hide})]})});var B=n(7171);let V=a.ZP.div.withConfig({componentId:"sc-75a22b23-0"})(["text-align:center;"]),K=(0,o.memo)(()=>{let e=(0,s.T)();return(0,r.jsx)(V,{children:(0,r.jsx)(i.x,{variant:"marginal",semanticColor:"textSubdued",as:"p",children:e("recaptchaLegalNotice",{googlePrivacyPolicyLink:e=>(0,r.jsx)(B.h,{href:"https://policies.google.com/privacy",rel:"noopener noreferrer",target:"_blank",children:e}),googleTermsLink:e=>(0,r.jsx)(B.h,{href:"https://policies.google.com/terms",rel:"noopener noreferrer",target:"_blank",children:e})})})})});var U=n(4458);let q=a.ZP.div.withConfig({componentId:"sc-dd0a60c9-0"})(["text-align:center;"]),Z=()=>(0,r.jsx)(q,{children:(0,r.jsx)(U.L,{href:"https://support.spotify.com/ru-ru/contact-spotify-legal-form/",target:"_blank",children:"Форма для Ваших обращений"})}),X=()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:135,height:40,"data-testid":"itunes-badge",children:[(0,r.jsx)("path",{fill:"#A6A6A6",d:"M130.197 40H4.729A4.74 4.74 0 0 1 0 35.267V4.726A4.733 4.733 0 0 1 4.729 0h125.468C132.803 0 135 2.12 135 4.726v30.541c0 2.605-2.197 4.733-4.803 4.733z"}),(0,r.jsx)("path",{d:"M134.032 35.268a3.83 3.83 0 0 1-3.834 3.83H4.729a3.835 3.835 0 0 1-3.839-3.83V4.725A3.84 3.84 0 0 1 4.729.89h125.468a3.834 3.834 0 0 1 3.834 3.835l.001 30.543z"}),(0,r.jsx)("g",{fill:"#FFF",children:(0,r.jsx)("path",{d:"M30.128 19.784c-.029-3.223 2.639-4.791 2.761-4.864-1.511-2.203-3.853-2.504-4.676-2.528-1.967-.207-3.875 1.177-4.877 1.177-1.022 0-2.565-1.157-4.228-1.123-2.14.033-4.142 1.272-5.24 3.196-2.266 3.923-.576 9.688 1.595 12.859 1.086 1.553 2.355 3.287 4.016 3.226 1.625-.067 2.232-1.036 4.193-1.036 1.943 0 2.513 1.036 4.207.997 1.744-.028 2.842-1.56 3.89-3.127 1.255-1.78 1.759-3.533 1.779-3.623-.041-.014-3.387-1.291-3.42-5.154zM26.928 10.306c.874-1.093 1.472-2.58 1.306-4.089-1.265.056-2.847.875-3.758 1.944-.806.942-1.526 2.486-1.34 3.938 1.421.106 2.88-.717 3.792-1.793z"})}),(0,r.jsx)("g",{fill:"#FFF",children:(0,r.jsx)("path",{d:"M53.645 31.504h-2.271l-1.244-3.909h-4.324l-1.185 3.909H42.41l4.284-13.308h2.646l4.305 13.308zm-3.89-5.549L48.63 22.48c-.119-.355-.342-1.191-.671-2.507h-.04a96.75 96.75 0 0 1-.632 2.507l-1.105 3.475h3.573zM64.662 26.588c0 1.632-.441 2.922-1.323 3.869-.79.843-1.771 1.264-2.942 1.264-1.264 0-2.172-.454-2.725-1.362h-.04v5.055H55.5V25.067c0-1.026-.027-2.079-.079-3.159h1.875l.119 1.521h.04c.711-1.146 1.79-1.718 3.238-1.718 1.132 0 2.077.447 2.833 1.342.758.896 1.136 2.074 1.136 3.535zm-2.172.078c0-.934-.21-1.704-.632-2.31-.461-.632-1.08-.948-1.856-.948-.526 0-1.004.176-1.431.523-.428.35-.708.807-.839 1.373-.066.264-.099.48-.099.65v1.6c0 .698.214 1.287.642 1.768s.984.721 1.668.721c.803 0 1.428-.31 1.875-.928.448-.619.672-1.435.672-2.449zM75.699 26.588c0 1.632-.441 2.922-1.324 3.869-.789.843-1.77 1.264-2.941 1.264-1.264 0-2.172-.454-2.724-1.362h-.04v5.055h-2.132V25.067c0-1.026-.027-2.079-.079-3.159h1.875l.119 1.521h.04c.71-1.146 1.789-1.718 3.238-1.718 1.131 0 2.076.447 2.834 1.342.755.896 1.134 2.074 1.134 3.535zm-2.172.078c0-.934-.211-1.704-.633-2.31-.461-.632-1.078-.948-1.855-.948a2.22 2.22 0 0 0-1.432.523c-.428.35-.707.807-.838 1.373-.065.264-.099.48-.099.65v1.6c0 .698.214 1.287.64 1.768.428.48.984.721 1.67.721.803 0 1.428-.31 1.875-.928.448-.619.672-1.435.672-2.449zM88.039 27.772c0 1.132-.393 2.053-1.182 2.764-.867.777-2.074 1.165-3.625 1.165-1.432 0-2.58-.276-3.449-.829l.494-1.777c.936.566 1.963.85 3.082.85.803 0 1.428-.182 1.877-.544.447-.362.67-.848.67-1.454 0-.54-.184-.995-.553-1.364-.367-.369-.98-.712-1.836-1.029-2.33-.869-3.494-2.142-3.494-3.816 0-1.094.408-1.991 1.225-2.689.814-.699 1.9-1.048 3.258-1.048 1.211 0 2.217.211 3.02.632l-.533 1.738c-.75-.408-1.598-.612-2.547-.612-.75 0-1.336.185-1.756.553a1.58 1.58 0 0 0-.533 1.205c0 .526.203.961.611 1.303.355.316 1 .658 1.936 1.027 1.145.461 1.986 1 2.527 1.618.539.616.808 1.387.808 2.307zM95.088 23.508h-2.35v4.659c0 1.185.414 1.777 1.244 1.777.381 0 .697-.033.947-.099l.059 1.619c-.42.157-.973.236-1.658.236-.842 0-1.5-.257-1.975-.77-.473-.514-.711-1.376-.711-2.587v-4.837h-1.4v-1.6h1.4v-1.757l2.094-.632v2.389h2.35v1.602zM105.691 26.627c0 1.475-.422 2.686-1.264 3.633-.883.975-2.055 1.461-3.516 1.461-1.408 0-2.529-.467-3.365-1.401s-1.254-2.113-1.254-3.534c0-1.487.43-2.705 1.293-3.652.861-.948 2.023-1.422 3.484-1.422 1.408 0 2.541.467 3.396 1.402.818.907 1.226 2.078 1.226 3.513zm-2.212.069c0-.885-.189-1.644-.572-2.277-.447-.766-1.086-1.148-1.914-1.148-.857 0-1.508.383-1.955 1.148-.383.634-.572 1.405-.572 2.317 0 .885.189 1.644.572 2.276.461.766 1.105 1.148 1.936 1.148.814 0 1.453-.39 1.914-1.168.393-.645.591-1.412.591-2.296zM112.621 23.783a3.702 3.702 0 0 0-.672-.059c-.75 0-1.33.283-1.738.85-.355.5-.533 1.132-.533 1.895v5.035h-2.131l.02-6.574c0-1.106-.027-2.113-.08-3.021h1.857l.078 1.836h.059c.225-.631.58-1.139 1.066-1.52a2.578 2.578 0 0 1 1.541-.514c.197 0 .375.014.533.039v2.033zM122.156 26.252a5 5 0 0 1-.078.967h-6.396c.025.948.334 1.673.928 2.173.539.447 1.236.671 2.092.671.947 0 1.811-.151 2.588-.454l.334 1.48c-.908.396-1.98.593-3.217.593-1.488 0-2.656-.438-3.506-1.313-.848-.875-1.273-2.05-1.273-3.524 0-1.447.395-2.652 1.186-3.613.828-1.026 1.947-1.539 3.355-1.539 1.383 0 2.43.513 3.141 1.539.563.815.846 1.823.846 3.02zm-2.033-.553c.014-.632-.125-1.178-.414-1.639-.369-.593-.936-.889-1.699-.889-.697 0-1.264.289-1.697.869-.355.461-.566 1.014-.631 1.658h4.441z"})}),(0,r.jsx)("g",{fill:"#FFF",children:(0,r.jsx)("path",{d:"M49.05 10.009c0 1.177-.353 2.063-1.058 2.658-.653.549-1.581.824-2.783.824-.596 0-1.106-.026-1.533-.078V6.982c.557-.09 1.157-.136 1.805-.136 1.145 0 2.008.249 2.59.747.652.563.979 1.368.979 2.416zm-1.105.029c0-.763-.202-1.348-.606-1.756-.404-.407-.994-.611-1.771-.611-.33 0-.611.022-.844.068v4.889c.129.02.365.029.708.029.802 0 1.421-.223 1.857-.669s.656-1.096.656-1.95zM54.909 11.037c0 .725-.207 1.319-.621 1.785-.434.479-1.009.718-1.727.718-.692 0-1.243-.229-1.654-.689-.41-.459-.615-1.038-.615-1.736 0-.73.211-1.329.635-1.794s.994-.698 1.712-.698c.692 0 1.248.229 1.669.688.4.446.601 1.022.601 1.726zm-1.087.034c0-.435-.094-.808-.281-1.119-.22-.376-.533-.564-.94-.564-.421 0-.741.188-.961.564-.188.311-.281.69-.281 1.138 0 .435.094.808.281 1.119.227.376.543.564.951.564.4 0 .714-.191.94-.574.194-.317.291-.693.291-1.128zM62.765 8.719l-1.475 4.714h-.96l-.611-2.047a15.32 15.32 0 0 1-.379-1.523h-.019a11.15 11.15 0 0 1-.379 1.523l-.649 2.047h-.971l-1.387-4.714h1.077l.533 2.241c.129.53.235 1.035.32 1.513h.019c.078-.394.207-.896.389-1.503l.669-2.25h.854l.641 2.202c.155.537.281 1.054.378 1.552h.029c.071-.485.178-1.002.32-1.552l.572-2.202h1.029zM68.198 13.433H67.15v-2.7c0-.832-.316-1.248-.95-1.248a.946.946 0 0 0-.757.343 1.217 1.217 0 0 0-.291.808v2.796h-1.048v-3.366c0-.414-.013-.863-.038-1.349h.921l.049.737h.029c.122-.229.304-.418.543-.569.284-.176.602-.265.95-.265.44 0 .806.142 1.097.427.362.349.543.87.543 1.562v2.824zM71.088 13.433h-1.047V6.556h1.047v6.877zM77.258 11.037c0 .725-.207 1.319-.621 1.785-.434.479-1.01.718-1.727.718-.693 0-1.244-.229-1.654-.689-.41-.459-.615-1.038-.615-1.736 0-.73.211-1.329.635-1.794s.994-.698 1.711-.698c.693 0 1.248.229 1.67.688.4.446.601 1.022.601 1.726zm-1.088.034c0-.435-.094-.808-.281-1.119-.219-.376-.533-.564-.939-.564-.422 0-.742.188-.961.564-.188.311-.281.69-.281 1.138 0 .435.094.808.281 1.119.227.376.543.564.951.564.4 0 .713-.191.939-.574.195-.317.291-.693.291-1.128zM82.33 13.433h-.941l-.078-.543h-.029c-.322.433-.781.65-1.377.65-.445 0-.805-.143-1.076-.427a1.339 1.339 0 0 1-.369-.96c0-.576.24-1.015.723-1.319.482-.304 1.16-.453 2.033-.446V10.3c0-.621-.326-.931-.979-.931-.465 0-.875.117-1.229.349l-.213-.688c.438-.271.979-.407 1.617-.407 1.232 0 1.85.65 1.85 1.95v1.736c0 .471.023.846.068 1.124zm-1.088-1.62v-.727c-1.156-.02-1.734.297-1.734.95 0 .246.066.43.201.553a.733.733 0 0 0 .512.184c.23 0 .445-.073.641-.218a.893.893 0 0 0 .38-.742zM88.285 13.433h-.93l-.049-.757h-.029c-.297.576-.803.864-1.514.864-.568 0-1.041-.223-1.416-.669s-.562-1.025-.562-1.736c0-.763.203-1.381.611-1.853.395-.44.879-.66 1.455-.66.633 0 1.076.213 1.328.64h.02V6.556h1.049v5.607c0 .459.012.882.037 1.27zm-1.086-1.988v-.786a1.194 1.194 0 0 0-.408-.965 1.03 1.03 0 0 0-.701-.257c-.391 0-.697.155-.922.466-.223.311-.336.708-.336 1.193 0 .466.107.844.322 1.135.227.31.533.465.916.465.344 0 .619-.129.828-.388.202-.239.301-.527.301-.863zM97.248 11.037c0 .725-.207 1.319-.621 1.785-.434.479-1.008.718-1.727.718-.691 0-1.242-.229-1.654-.689-.41-.459-.615-1.038-.615-1.736 0-.73.211-1.329.635-1.794s.994-.698 1.713-.698c.691 0 1.248.229 1.668.688.4.446.601 1.022.601 1.726zm-1.086.034c0-.435-.094-.808-.281-1.119-.221-.376-.533-.564-.941-.564-.42 0-.74.188-.961.564-.188.311-.281.69-.281 1.138 0 .435.094.808.281 1.119.227.376.543.564.951.564.4 0 .715-.191.941-.574.193-.317.291-.693.291-1.128zM102.883 13.433h-1.047v-2.7c0-.832-.316-1.248-.951-1.248-.311 0-.562.114-.756.343s-.291.499-.291.808v2.796h-1.049v-3.366c0-.414-.012-.863-.037-1.349h.92l.049.737h.029a1.53 1.53 0 0 1 .543-.569c.285-.176.602-.265.951-.265.439 0 .805.142 1.096.427.363.349.543.87.543 1.562v2.824zM109.936 9.504h-1.154v2.29c0 .582.205.873.611.873.188 0 .344-.016.467-.049l.027.795c-.207.078-.479.117-.814.117-.414 0-.736-.126-.969-.378-.234-.252-.35-.676-.35-1.271V9.504h-.689v-.785h.689v-.864l1.027-.31v1.173h1.154v.786zM115.484 13.433h-1.049v-2.68c0-.845-.316-1.268-.949-1.268-.486 0-.818.245-1 .735a1.317 1.317 0 0 0-.049.377v2.835h-1.047V6.556h1.047v2.841h.02c.33-.517.803-.775 1.416-.775.434 0 .793.142 1.078.427.355.355.533.883.533 1.581v2.803zM121.207 10.853c0 .188-.014.346-.039.475h-3.143c.014.466.164.821.455 1.067.266.22.609.33 1.029.33.465 0 .889-.074 1.271-.223l.164.728c-.447.194-.973.291-1.582.291-.73 0-1.305-.215-1.721-.645-.418-.43-.625-1.007-.625-1.731 0-.711.193-1.303.582-1.775.406-.504.955-.756 1.648-.756.678 0 1.193.252 1.541.756.281.4.42.895.42 1.483zm-1-.271a1.411 1.411 0 0 0-.203-.805c-.182-.291-.459-.437-.834-.437a.995.995 0 0 0-.834.427 1.586 1.586 0 0 0-.311.815h2.182z"})})]});var W=n(2051);let Y=a.ZP.div.withConfig({componentId:"sc-490a1b85-0"})(["display:flex;flex-direction:column;text-align:center;"]),$=(0,o.memo)(e=>{let{mode:t,continueUrl:n}=e,a=(0,s.T)(),u=(0,y.K4)(),{query:d}=(0,_.useRouter)(),h=(0,f.cl)(),p=(0,W.i)(n,{query:d,flowId:h}),I="https://spotify.app.link/?$canonical_url=".concat(encodeURIComponent(n));return(0,r.jsx)(Y,{children:t===c.F.App?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(i.x,{as:"p",semanticColor:"textSubdued",children:a("dontHaveAnAccount")}),(0,r.jsx)(l.O9,{height:"base"}),(0,r.jsx)("a",{href:I,onClick:()=>{u(O(I))},"data-testid":"appstore-link",children:(0,r.jsx)(X,{})})]}):(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(i.x,{as:"p",semanticColor:"textSubdued",children:a("signup_button_pretext")}),(0,r.jsx)(l.O9,{height:"tighter-4"}),(0,r.jsx)(j.o,{semanticColor:"textBase",onClick:()=>{u(E(p))},href:p,"data-testid":"signup-btn-link",children:a("signup_button")})]})})});var Q=n(139);let J=a.ZP.div.withConfig({componentId:"sc-a43dc491-0"})(["text-align:center;& > h1{font-size:48px;}"]),ee=e=>{let{title:t,isLoading:n,hasBackButton:a,onClickBack:c}=e,u=(0,s.T)();return a?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(j.o,{"aria-label":u("navigate_back_button"),style:{marginInlineStart:-4},condensed:!0,size:"small",iconLeading:Q.e,onClick:c,disabled:n})}),t&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.O9,{height:"base"}),(0,r.jsx)(i.x,{as:"h1",variant:"titleSmall",children:t})]}),(0,r.jsx)(l.O9,{height:"looser"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J,{children:(0,r.jsx)(i.x,{as:"h1",variant:"headlineLarge",children:t})}),(0,r.jsx)(l.O9,{height:"looser-2"})]})},et=a.ZP.div.withConfig({componentId:"sc-3b284ce5-0"})(["display:flex;flex-direction:column;flex:1;height:100%;"]),en=a.ZP.div.withConfig({componentId:"sc-3b284ce5-1"})(["text-align:center;"]),er=a.ZP.div.withConfig({componentId:"sc-3b284ce5-2"})(["margin-top:auto;"]),ei=e=>{let{title:t,hasBackButton:n,isLoading:a,onClickBack:u,isRu:d,showIdpSection:h=!0,isHbx:p=!1,showLoginWithPhone:f=!1,showLoginWithEmail:_=!1,signupMode:y=c.F.Default,continueUrl:I="",children:g}=e,v=(0,s.T)();return(0,r.jsx)(l.LN,{header:n?(0,r.jsx)(o.Fragment,{}):null,children:(0,r.jsxs)(et,{children:[(0,r.jsx)(ee,{title:t,hasBackButton:n,onClickBack:u,isLoading:a}),g,h&&(0,r.jsxs)(en,{children:[(0,r.jsx)(l.O9,{height:"base"}),(0,r.jsx)(i.x,{variant:"bodyMedium",children:v("or")}),(0,r.jsx)(l.O9,{height:"base"}),(0,r.jsx)(H,{isHbx:p,showLoginWithPhone:f,showLoginWithEmail:_})]}),y!==c.F.None&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.O9,{height:"looser-4"}),(0,r.jsx)($,{mode:y,continueUrl:I})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(l.O9,{height:"looser-4"}),(0,r.jsx)(K,{}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.O9,{height:"base"}),(0,r.jsx)(Z,{})]})]})]})})}},9798:function(e,t,n){n.d(t,{Bz:function(){return d},Dx:function(){return I},I5:function(){return l},KO:function(){return _},MN:function(){return r},MY:function(){return m},N9:function(){return f},PH:function(){return h},U0:function(){return c},UZ:function(){return s},Ze:function(){return g},Zt:function(){return p},bM:function(){return i},cb:function(){return y},fo:function(){return v},oy:function(){return x},py:function(){return o},tB:function(){return a},yK:function(){return u}});let r=e=>({type:"LOGIN_IMPRESSION",payload:{reason:e}}),i=e=>({type:"LOGIN_REDIRECT",payload:{url:e}}),l=()=>({type:"LOGIN_SUBMIT"}),o=()=>({type:"LOGIN_SUCCESS"}),a=e=>({type:"LOGIN_ERROR",payload:{error:e}}),c=e=>({type:"LOGIN_ERROR_BANNER_IMPRESSION",payload:{error:e}}),s=e=>({type:"LOGIN_WITHOUT_PASSWORD_CLICK",payload:{destination:e}}),u=()=>({type:"LOGIN_FBX_DIALOG_IMPRESSION",payload:{}}),d=()=>({type:"LOGIN_FBX_DIALOG_CLOSE",payload:{}}),h=()=>({type:"LOGIN_FBX_DIALOG_CONTINUE",payload:{}}),p=()=>({type:"LOGIN_FBX_FACEBOOK_IDP_CLICK",payload:{}}),f=()=>({type:"LOGIN_HBX_RETRY_DIALOG_IMPRESSION",payload:{}}),_=e=>({type:"LOGIN_HBX_RETRY_DIALOG_RETRY_BUTTON_CLICK",payload:{destination:e}}),y=()=>({type:"LOGIN_HBX_RETRY_DIALOG_CANCEL_BUTTON_CLICK",payload:{}}),I=e=>({type:"LOGIN_HBX_RETRY_DIALOG_SUPPORT_LINK_CLICK",payload:{destination:e}}),g=e=>({type:"LOGIN_IDP_ERROR_DIALOG_IMPRESSION",payload:{provider:e}}),v=e=>({type:"LOGIN_IDP_ERROR_DIALOG_LOGIN_ANOTHER_WAY",payload:{provider:e}}),x=e=>({type:"LOGIN_IDP_ERROR_DIALOG_SIGNUP",payload:{provider:e}}),m=e=>({type:"LOGIN_IDP_ERROR_DIALOG_DISMISS",payload:{provider:e}})},182:function(e,t,n){n.d(t,{o:function(){return o}});var r=n(5893),i=n(8608),l=n(1191);n(7294);let o=e=>(0,r.jsx)(i.c,{...e,style:{paddingBlockEnd:(0,l.Gk)("base"),...e.style}})},5131:function(e,t,n){var r,i,l,o,a,c;n.d(t,{NH:function(){return l},ON:function(){return r},sW:function(){return i},xm:function(){return o}}),(r||(r={})).Required="required",(a=i||(i={})).InvalidCharacters="invalid_characters",a.InvalidCredentials="errorInvalidCredentials",(c=l||(l={})).InvalidPhoneNumber="invalid_phone_number",c.PhoneNumberNotFound="phone_number_not_found",(o||(o={})).InvalidCode="invalid_code"},8647:function(e,t,n){n.d(t,{zc:function(){return l},K0:function(){return I},jf:function(){return v}});var r,i,l,o=n(7294);let a=e=>{let t=(0,o.useRef)(e);return(0,o.useEffect)(()=>{t.current=e}),t};var c=n(4342),s=n(9032);let u=(e,t)=>(0,s.Y)(e).forEach(n=>t(e[n],n)),d=e=>Object.values(e),h=e=>({type:"FIELD_TOUCHED",payload:{field:e}}),p=(e,t)=>({type:"FIELD_VALIDATION_PENDING",payload:{field:e,value:t}}),f=(e,t,n)=>({type:"FIELD_VALIDATION_COMPLETE",payload:{field:e,value:t,error:n}}),_=e=>({type:"SET_FIELDS_STATE",payload:e}),y=(e,t)=>{switch(t.type){case"FIELD_TOUCHED":{let{field:n}=t.payload;return{...e,[n]:{...e[n],touched:!0}}}case"FIELD_VALIDATION_PENDING":{let{field:n,value:r}=t.payload;return{...e,[n]:{...e[n],value:r,error:null,validation:l.Pending}}}case"FIELD_VALIDATION_COMPLETE":{let{field:n,value:r,error:i}=t.payload;return{...e,[n]:{...e[n],value:r,error:i,validation:l.Complete}}}case"SET_FIELDS_STATE":{let{payload:n}=t;return{...e,...(0,c.x)(n,(t,n)=>({...e[n],...t}))}}default:return e}};(i||(i={})).UnexpectedError="unexpected_error",(r=l||(l={})).Initial="initial",r.Pending="pending",r.Complete="complete";let I=e=>{let{error:t,validation:n}=e;return null===t&&"complete"===n},g=e=>(0,c.x)(e,e=>{let{initialValue:t,validate:n,isRequired:r}=e,i=n?n(t,r):null,l="string"==typeof i||null===i;return{value:t,error:l?i:null,touched:!1,validation:l?"complete":"initial"}}),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{debounceTime:n=200}=t,r=a(e),[i,l]=(0,o.useReducer)(y,e,g),s=(0,o.useCallback)(e=>{l(_(e))},[]),v=(0,o.useCallback)(()=>{l(_(g(r.current)))},[r]),x=(0,o.useRef)((0,c.x)(e,()=>void 0)),m=(0,o.useRef)((0,c.x)(e,()=>0)),C=(0,o.useCallback)((e,t)=>{let i=++m.current[e];clearTimeout(x.current[e]);let{validate:o,isRequired:a}=r.current[e],c=o?o(t,a):null;if("string"==typeof c||null===c){l(f(e,t,c));return}l(p(e,t)),x.current[e]=setTimeout(async()=>{try{let n=await c();if(i!==m.current[e])return;l(f(e,t,n))}catch{l(f(e,t,"unexpected_error"))}},n)},[n,r]);(0,o.useEffect)(()=>{u(i,(e,t)=>{"initial"===e.validation&&C(t,e.value)})},d(i).map(e=>"initial"===e.validation)),(0,o.useEffect)(()=>()=>{d(x.current).forEach(e=>{clearTimeout(e)}),m.current=(0,c.x)(e,()=>-1)},[]);let E=(0,o.useCallback)(e=>{l(h(e))},[l]),O=(0,o.useMemo)(()=>(0,c.x)(e,(e,t)=>({onChange:e=>C(t,e),onTouched:()=>E(t)})),[]),L=(0,o.useMemo)(()=>(0,c.x)(i,(e,t)=>{let n=i[t],r=O[t];return{id:String(t),state:n,showError:n.touched,...r}}),[O,i]),b=(0,o.useMemo)(()=>(0,c.x)(i,e=>e.value),[i]),j=(0,o.useMemo)(()=>d(i).every(I),[i]);return{state:i,data:b,isValid:j,fields:L,setState:s,reset:v}}},1892:function(e,t,n){n.d(t,{c:function(){return s}});var r=n(7294),i=n(4342),l=n(8647);let o=e=>({type:"FORM_STATE",...e}),a=(e,t)=>{if("FORM_STATE"===t.type){let{type:n,...r}=t;return{...e,...r}}return e},c=e=>({isLoading:!1,error:null,showFieldErrors:!1,...e}),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:s,fields:u,state:d,setState:h,isValid:p,reset:f}=(0,l.jf)(e,n),[_,y]=(0,r.useReducer)(a,t,c),I=(0,r.useCallback)(e=>{let{fields:t,...n}=e;t&&h(t),y(o(n))},[h]),g=(0,r.useCallback)(()=>{f(),y(o(c(t)))},[f,t]),v=(0,r.useMemo)(()=>(0,i.x)(u,e=>{let t=e.showError||_.showFieldErrors;return{...e,showError:t,isDisabled:_.isLoading}}),[u,_.isLoading,_.showFieldErrors]);return{state:(0,r.useMemo)(()=>({..._,fields:d}),[_,d]),data:s,isValid:p,fields:v,setState:I,reset:g}}},9025:function(e,t,n){n.d(t,{d:function(){return r}});let r=3e4},5011:function(e,t,n){n.d(t,{e:function(){return r}});let r=e=>{window.parent&&window.parent.postMessage&&window.parent.postMessage("loginSuccess","*"),window.location.assign(e)}},6757:function(e,t,n){n.d(t,{X:function(){return l}});var r=n(1661),i=n(3362);let l=e=>{let t=(0,i.a)(e);return(0,r.$)("/login/facebook",t,e)}},3362:function(e,t,n){n.d(t,{a:function(){return o}});var r=n(4075),i=n(7286);let l=[r.d.Intent,r.d.MaxAge,r.d.Continue,r.d.Origin,r.d.CreationPoint,r.d.ClientId],o=e=>{let{query:t}=e;return l.reduce((n,l)=>{let o=t[l];if(o){if(l===r.d.Continue){if("string"==typeof o)n[l]=(0,i.F)(o,e);else if(Array.isArray(o)){let t=o.find(e=>e&&"string"==typeof e);t&&(n[l]=(0,i.F)(t,e))}}else if("string"==typeof o)n[l]=o;else if(Array.isArray(o)){let e=o.find(e=>e&&"string"==typeof e);e&&(n[l]=e)}}return n},{})}},2051:function(e,t,n){n.d(t,{i:function(){return l}});var r=n(4075),i=n(1661);let l=(e,t)=>{let{query:n}=t,l=n[r.d.ClientId],o={continue:e};if(l){if(Array.isArray(l)){let e=l.find(e=>e&&"string"==typeof e);e&&(o[r.d.ClientId]=e)}else"string"==typeof l&&""!==l.trim()&&(o[r.d.ClientId]=l)}return(0,i.$)("/login/signup",o,t)}},558:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(7294);let i=()=>document.getElementById("__next"),l=e=>{r.useEffect(()=>{var t,n;return e?null===(t=i())||void 0===t||t.setAttribute("inert","true"):null===(n=i())||void 0===n||n.removeAttribute("inert"),()=>{var e;null===(e=i())||void 0===e||e.removeAttribute("inert")}},[e])}},9032:function(e,t,n){n.d(t,{Y:function(){return r}});let r=e=>Object.keys(e)},4342:function(e,t,n){n.d(t,{x:function(){return i}});var r=n(9032);let i=(e,t)=>(0,r.Y)(e).reduce((n,r)=>(n[r]=t(e[r],r),n),{})}}]);