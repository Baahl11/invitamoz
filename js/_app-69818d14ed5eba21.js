(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{9165:function(e,t,n){"use strict";n.r(t),n.d(t,{Base62:function(){return r},Base64:function(){return i}});var r={};n.r(r),n.d(r,{fromBytes:function(){return h},fromHex:function(){return p},toBytes:function(){return f},toHex:function(){return d}});var i={};n.r(i),n.d(i,{decode:function(){return y},encode:function(){return m}});let o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s={},a={};function u(e,t,n){let r=[0],i=[1];for(let o of e)!function(e,t,n,r){let i,o,s=0;for(o=0;o<t.length;++o)i=~~e[o]+t[o]*n+s,e[o]=i%r,s=~~(i/r);for(;s;)i=~~e[o]+s,e[o]=i%r,s=~~(i/r),++o}(r,i,o,n),function(e,t,n){let r=0;for(let i=0;i<e.length;++i){let o=e[i]*t+r;e[i]=o%n,r=~~(o/n)}for(;r;)e.push(r%n),r=~~(r/n)}(i,t,n);return r}function c(e,t){let n=[];for(let r of e)n.push(t[r]);return n.reverse()}function l(e,t=0){for(;e.length<t;)e.push(0);return e}function h(e,t){return c(l(u(e.slice(0).reverse(),256,62),t),o).join("")}function f(e,t){return l(u(c(e.split(""),a),62,256),t).reverse()}function d(e,t){let n=u(c(e.split(""),a),62,16);return c(l(n,t),o).join("")}function p(e,t){let n=u(c(e.split(""),s),16,62);return c(l(n,t),o).join("")}!function(){for(let e=0,t=o.length;e<t;++e)a[o[e]]=e;for(let e=0;e<16;++e)s["0123456789abcdef"[e]]=e;for(let e=0;e<16;++e)s["0123456789ABCDEF"[e]]=e}();let _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=(()=>{let e=[];for(let t=0;t<256;++t)e[t]=255;for(let t=0;t<_.length;++t)e[_.charCodeAt(t)]=t;return String.fromCharCode(...e)})(),m=function(e){let t=String(e),n=[],r=t.length,i=0;for(;i<r;){let e=255&t.charCodeAt(i++);if(i===r){n.push(_.charAt(e>>2),_.charAt((3&e)<<4),"==");break}let o=t.charCodeAt(i++);if(i===r){n.push(_.charAt(e>>2),_.charAt((3&e)<<4|(240&o)>>4),_.charAt((15&o)<<2),"=");break}let s=t.charCodeAt(i++);n.push(_.charAt(e>>2),_.charAt((3&e)<<4|(240&o)>>4),_.charAt((15&o)<<2|(192&s)>>6),_.charAt(63&s))}return n.join("")},y=function(e){let t,n;let r=String(e),i=[],o=r.length,s=0;for(;;){do t=g.charCodeAt(255&r.charCodeAt(s++));while(255===t&&s<o);do n=g.charCodeAt(255&r.charCodeAt(s++));while(255===n&&s<o);if(255===n)break;i.push((t<<2|n>>4)&255);do t=g.charCodeAt(255&r.charCodeAt(s++));while(255===t&&s<o);if(255===t)break;i.push((n<<4|t>>2)&255);do n=g.charCodeAt(255&r.charCodeAt(s++));while(255===n&&s<o);if(255===n)break;i.push((t<<6|n)&255)}return function(e){if(e.length<4096)return String.fromCharCode(...e);let t=0,n=[];do n.push(String.fromCharCode(...e.slice(t,t+4096))),t+=4096;while(t<e.length);return n.join("")}(i)};"undefined"!=typeof window&&window.btoa&&window.atob&&(m=e=>window.btoa(e),y=e=>window.atob(e))},8611:function(e,t,n){"use strict";let r;n.d(t,{vp:function(){return f}});class i{constructor(e,t){this.defaultPrevented=!1,this.immediateStopped=!1,this.stopped=!1,this.type=e,this.data=t}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.stopped=!0}stopImmediatePropagation(){this.immediateStopped=!0}}let o="undefined"!=typeof window,s=[];function a(){var e;let t=s.splice(0);if(t.length)for(let n=0,r=t.length;n<r;n++)null===(e=t[n])||void 0===e||e.call(t)}o&&"function"==typeof window.postMessage?function(){let e=window.location.origin||`${window.location.protocol}//${window.location.hostname}`;if(r=window.postMessage.bind(window,"@execute_deferreds",e),!window.__hasDeferredHandler){"function"==typeof Object.defineProperty?Object.defineProperty(window,"__hasDeferredHandler",{value:!0}):window.__hasDeferredHandler=!0;let t=function(t){(t.origin===e||"@execute_deferreds"===t.data)&&a()};window.addEventListener?window.addEventListener("message",t):window.attachEvent&&window.attachEvent("onmessage",t)}}():"function"==typeof queueMicrotask?r=queueMicrotask.bind(null,a):r="function"==typeof setImmediate?setImmediate.bind(null,a):setTimeout.bind(null,a,10);let u=e=>{let t=!s.length;s.push(e),t&&r()};function c(e,t,n){for(let r=0,i=e.length;r<i;r++){let i=e[r];if((null==i?void 0:i.listener)===t&&i.options.once===n.once)return r}return -1}function l(e,t,n,r={}){if(!n)return!1;let i=e[t];return!i||!i.length||-1===c(i,n,r)}function h(e,t,n,r={}){if(!t||!n)return;let i=e[t],o={listener:n,options:r};if(!i){e[t]=[o];return}i.push(o)}o&&("function"==typeof window.__modDefFn?u=window.__modDefFn:"function"==typeof Object.defineProperty?Object.defineProperty(window,"__modDefFn",{value:u}):window.__modDefFn=u);class f{constructor(){this._listeners={},this._metaListeners={add:{},remove:{}}}_dispatchFromStore(e,t){let n=t.type,r=e[n];if(r){for(let e of r=r.slice(0))if(e.listener.call(this,t),e.options.once&&this.removeListener(n,e.listener,e.options),t.immediateStopped)break}}createEvent(e,t){return new i(e,t)}on(e,t,n={}){if(!e)throw TypeError("Argument `eventType` is required.");if(!t)return this;let r=this._listeners;if(l(r,e,t,n)){let o=this._metaListeners.add,s=o[e];if(s&&s.length){let r=new i(e,{listener:t,options:n});if(this._dispatchFromStore(o,r),r.defaultPrevented)return this}h(r,e,t,n)}return this}addListener(e,t,n={}){return this.on(e,t,n)}addListeners(e){for(let t in e)e.hasOwnProperty(t)&&this.on(t,e[t]);return this}once(e,t){return this.on(e,t,{once:!0})}removeListener(e,t,n={}){if(!e)throw TypeError("Argument `eventType` is required.");if(!t)return this;let r=this._listeners[e];if(!r)return this;let o=c(r,t,n);if(-1===o)return this;let s=this._metaListeners.remove[e];if(s&&s.length){let r=new i(e,{listener:t,options:n});if(this._dispatchFromStore(this._metaListeners.remove,r),r.defaultPrevented)return this}return r.splice(o,1),this}removeListeners(e){for(let t in e)e.hasOwnProperty(t)&&this.removeListener(t,e[t]);return this}removeAllListeners(e){return e?this._listeners[e]=[]:this._listeners={},this}emit(e,t){if(!e)throw TypeError("Argument `eventType` is required.");let n=this.createEvent(e,t);return u(()=>this._dispatchFromStore(this._listeners,n)),n}emitSync(e,t){if(!e)throw TypeError("Argument `eventType` is required.");let n=this.createEvent(e,t);return this._dispatchFromStore(this._listeners,n),n}emitEvent(e){return u(()=>this._dispatchFromStore(this._listeners,e)),e}emitEventSync(e){return this._dispatchFromStore(this._listeners,e),e}emitAndWait(e,t,n){if(!e)throw TypeError("Argument `eventType` is required.");let r=this.createEvent(e,t);return u(()=>{this._dispatchFromStore(this._listeners,r),n.call(this,r)}),r}emitEventAndWait(e,t){return u(()=>{this._dispatchFromStore(this._listeners,e),t.call(this,e)}),e}proxyEmit(e,t,n){if(!e||"function"!=typeof e.on)throw TypeError("Proxy source must be an EventEmitter");if(e===this)throw ReferenceError("Cannot create recursive proxy.");if(!t||!n)throw TypeError("Parameter sourceType and targetType are required.");let r=e=>{e.stopped||this.emitAndWait(n,e.data,t=>{t.defaultPrevented&&e.preventDefault()})};return e.on(t,r),r}proxyEmitSync(e,t,n){if(!e||"function"!=typeof e.on)throw TypeError("Proxy source must be an EventEmitter");if(e===this)throw ReferenceError("Cannot create recursive proxy.");if(!t||!n)throw TypeError("Parameter sourceType and targetType are required.");let r=e=>{if(e.stopped)return;let t=this.createEvent(n,e.data);this.emitEventSync(t),t.defaultPrevented&&e.preventDefault()};return e.on(t,r),r}proxyEmitAll(e,t){for(let n in t)t.hasOwnProperty(n)&&this.proxyEmit(e,n,t[n])}proxyEmitAllSync(e,t){for(let n in t)t.hasOwnProperty(n)&&this.proxyEmitSync(e,n,t[n])}onAddListener(e,t,n={}){let r=this._metaListeners.add;return l(r,e,t,n)&&h(r,e,t,n),this}onRemoveListener(e,t,n={}){let r=this._metaListeners.remove;return l(r,e,t,n)&&h(r,e,t,n),this}}},7712:function(e,t){"use strict";t.i=void 0,t.i=function(e){return{name:"EventSenderStats2NonAuth",environments:["devicenonauth","browsernonauth","desktopnonauth"],data:e}}},1299:function(e,t){"use strict";t.t=void 0,t.t=function(e){return{name:"RejectedClientEventNonAuth",environments:["browsernonauth","desktopnonauth","devicenonauth"],data:e}}},7483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;var r=n(9165);t.hexToBase64=function(e){if(!e||e.length%2!=0)throw TypeError("Invalid hexString value.");var t=e.split("").reduce(function(e,t,n){return n%2==0?e.push(t):e[e.length-1]=""+e[e.length-1]+t,e},[]),n=String.fromCharCode.apply(null,t.map(function(e){var t=parseInt(e,16);if(isNaN(t))throw TypeError("Invalid hexString value.");return t}));return r.Base64.encode(n)}},4844:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApplicationContext=void 0,t.createApplicationContext=function(e){return function(){return{name:"context_application",data:e}}}},7623:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApplicationDesktopContext=void 0,t.createApplicationDesktopContext=function(e){return function(){return{name:"context_application_desktop",data:e}}}},6262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheIdContext=void 0;var r=n(7483);t.createCacheIdContext=function(e){var t=r.hexToBase64(e);return function(){return{name:"context_cache_id",data:{value:t}}}}},3877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClientIdContext=void 0;var r=n(7483);t.createClientIdContext=function(e){var t=r.hexToBase64(e);return function(){return{name:"context_client_id",data:{value:t}}}}},8144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClientIpContext=void 0,t.createClientIpContext=function(e){return function(){return{name:"context_client_ip",data:{value:e}}}}},7115:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCorrelationIdContext=void 0,t.createCorrelationIdContext=function(e){return function(){return{name:"context_correlation_id",data:{value:e}}}}},4586:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceContext=void 0,t.createDeviceContext=function(e){return function(){return{name:"context_device",data:e}}}},1446:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceDesktopContext=void 0,t.createDeviceDesktopContext=function(e){return function(){return{name:"context_device_desktop",data:e}}}},3770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3170);r.__exportStar(n(4844),t),r.__exportStar(n(7623),t),r.__exportStar(n(6262),t),r.__exportStar(n(3877),t),r.__exportStar(n(8144),t),r.__exportStar(n(7115),t),r.__exportStar(n(4586),t),r.__exportStar(n(1446),t),r.__exportStar(n(3349),t),r.__exportStar(n(815),t),r.__exportStar(n(8964),t)},3349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInstallationIdContext=void 0;var r=n(7483);t.createInstallationIdContext=function(e){var t=r.hexToBase64(e);return function(){return{name:"context_installation_id",data:{value:t}}}}},815:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOsContext=void 0,t.createOsContext=function(e){return function(){return{name:"context_os",data:e}}}},8964:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUserAgentContext=void 0,t.createUserAgentContext=function(e){if(!e&&"undefined"==typeof navigator)throw Error("userAgent is not provided and navigator.UserAgent is not available");return function(){return{name:"context_user_agent",data:{value:e||navigator.userAgent}}}}},6700:function(e,t,n){"use strict";n.r(t),n.d(t,{Environment:function(){return a},EventSenderEvent:function(){return c},createEventSender:function(){return M}}),(s=a||(a={})).BACKEND="BACKEND",s.BROWSER="BROWSER",s.BROWSER_NON_AUTH="BROWSER_NON_AUTH",s.DESKTOP="DESKTOP",s.DESKTOP_NON_AUTH="DESKTOP_NON_AUTH",s.DEVICE="DEVICE",s.DEVICE_NON_AUTH="DEVICE_NON_AUTH";var r,i,o,s,a,u,c,l,h=n(3170),f=n(8872);n(4155),(r=u||(u={}))[r.NONE=0]="NONE",r[r.LOG=1]="LOG",r[r.DEBUG=2]="DEBUG",r[r.INFO=4]="INFO",r[r.WARN=8]="WARN",r[r.ERROR=16]="ERROR";class d{constructor(){this.tag="",this.description=""}matchesTag(){return!1}setLevel(){}enable(){}disable(){}log(){}debug(){}info(){}warn(){}error(){}}var p=n(4155);class _{constructor(e,t="",n=()=>!1){this._tagParts=[],this._tagText="",this._enabled=!0,this._level=u.NONE,this.tag="",this.description="",this._predicate=function(){return!1},this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText=`[${e}]`}_print(e,t,n){if(!this._enabled&&!(this._level&t))return;let r={args:n,type:e,tag:this.tag};this._predicate(r)||console[e](this._tagText,...n)}matchesTag(e){let t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(let e=0,r=t.length;e<r;e++)if(("*"!==t[e]||!n[e])&&t[e]!==n[e])return!1;return!0}setLevel(e){let t=0;switch(e){case"error":t=u.ERROR;break;case"warn":t=u.WARN|u.ERROR;break;case"info":t=u.INFO|u.WARN|u.ERROR;break;case"debug":t=u.DEBUG|u.INFO|u.WARN|u.ERROR;break;default:t=u.LOG|u.DEBUG|u.INFO|u.WARN|u.ERROR}this._level=t}enable(){this._enabled=!0}disable(){this._enabled=!1}log(...e){this._print("log",u.LOG,e)}debug(...e){this._print("debug",u.DEBUG,e)}info(...e){this._print("info",u.INFO,e)}warn(...e){this._print("warn",u.WARN,e)}error(...e){this._print("error",u.ERROR,e)}}let g=void 0!==p&&"true"===p.env.DEBUG?_:d,m="__dbgLoggerRegistry",y=n.g[m];y||(y={map:{},list:[],loggingPredicate:function(){}},Object.defineProperty?Object.defineProperty(n.g,m,{value:y}):n.g[m]=y);let v=y.map,E=y.list;function b(e){return!!(y.loggingPredicate&&y.loggingPredicate(e))}function T(e,t){let n,r;if("string"==typeof e?(n=e.toLowerCase(),r=t):(n=e.tag,r=e.description),v.hasOwnProperty(n)&&v[n])return v[n];let i=new g(n,r,b);return i.setLevel("log"),v[n]=i,E.push(i),i}var O=n(8611);(i=c||(c={})).UPLOAD_SUCCEEDED="upload_succeeded",i.UPLOAD_FAILED="upload_failed",i.UPLOAD_REQUEST_FAILED="upload_request_failed";let w=T("Uploader");class S extends O.vp{constructor(e){var t;super(),this._suppressPersist=!1,this._backoff=!1,this._authorize=null===(t=e.authorize)||void 0===t||t,this._transport=e.transport,this._suppressPersist=!!e.suppressPersist,this._endpoint=this._authorize?"@webgate/gabo-receiver-service/v3/events":"@webgate/gabo-receiver-service/public/v3/events"}_uploadBatch(e,t=!1){let n=this._transport,r=t&&this._authorize?n.appendLastTokenQuery(this._endpoint):this._endpoint;return this._transport.request(r,{method:f.Method.POST,metadata:{eventSenderEventNames:e.map(e=>e.event_name)},headers:{"content-type":"application/json"},responseType:"json",parseResponseHeaders:!0,payload:JSON.stringify({suppress_persist:this._suppressPersist,events:e}),forget:t,authorize:!t&&this._authorize}).then(this._parseUploadResponse.bind(this,e,t))}_parseUploadResponse(e,t,n){if(t)return Promise.resolve([]);let{body:r,headers:i,status:o}=n,s=this._authorize;if(200!==o||!r)return w.warn("Upload request failed",n),this.emit(c.UPLOAD_REQUEST_FAILED,{authorize:s,status:o}),this._backoff=!0,Promise.resolve(e);let a=[],u=[],l=[];if(r.error&&r.error.length){w.info("response errors",e,r.error);for(let t=0,n=r.error.length;t<n;t++){let{transient:n,index:i,reason:o}=r.error[t],s=function(e,t){let{event_name:n,fragments:r}=e,{message:i}=r;return{reason:t,contexts:(0,h.__rest)(r,["message"]),event_data:{name:n,data:i}}}(e[i],o);n?(a.push(e[i]),u.push(s)):l.push(s)}}this._backoff=!((null==i?void 0:i.get("backoff"))!=="true");let f=u.length+l.length,d=e.length-f;return f>0&&this.emit(c.UPLOAD_FAILED,{authorize:s,rejected:l,will_retry:u}),d>0&&this.emit(c.UPLOAD_SUCCEEDED,{authorize:this._authorize,num_events:d}),Promise.resolve(a)}upload(e,t=[]){let n=t;if(!e.length)return Promise.resolve({nack:n,backoff:this._backoff});let r=[...e];return this._uploadBatch(r.splice(0,20)).then(e=>{if(n=[...n,...e],this._backoff)n=[...n,...r];else if(r.length)return this.upload(r,n);return{nack:n,backoff:this._backoff}})}lastUpload(e){return e.length?this._uploadBatch(e.splice(0,100),!0).then(e=>0===e.length,()=>!1):Promise.resolve(!0)}shouldBackoff(){return this._backoff}}"function"==typeof SuppressedError&&SuppressedError;let N={baseTime:200,ceiling:0,curve:"linear",jitter:!0};class R{constructor(e={}){this._curve=e.curve||N.curve,this._baseTime=e.baseTime||N.baseTime,this._ceiling=e.ceiling||N.ceiling,this._jitter="jitter"in e?!!e.jitter:N.jitter}getTime(e){let t;switch(this._curve){case"static":t=1;break;case"logarithmic":t=Math.log(e);break;case"exponential":t=Math.pow(Math.E,e);break;default:t=e+1}let n=Math.min(4294967296,Math.floor(t*this._baseTime));return this._ceiling&&(n=Math.min(n,this._ceiling)),this._jitter?function(e){let t=e/5;return Math.floor(e-t/2+Math.random()*t)}(n):n}}let A={backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",jitter:!0,maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:()=>!0};class C{constructor(e,t){let n,r;this._resolver={promise:new Promise((e,t)=>{n=e,r=t}),resolve:n,reject:r},this._ts=0,this._callCount=0,this._tickInterval=0,this._isRunning=!1,this._isDestroyed=!1;let i=Object.assign(Object.assign({},A),t),{backoffInitial:o,maxDuration:s,maxRetries:a,maxTime:u,retryPredicate:c}=i,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(i,["backoffInitial","maxDuration","maxRetries","maxTime","retryPredicate"]);this._fn=e,this._backoffInitial=o,this._maxDuration=s,this._maxRetries=a,this._maxTime=u,this._retryPredicate=c,this._backoffInitial=o,this._counter=new R(l),this._backoffInitial&&(this._maxRetries+=1)}static init(e,t={}){return new C(e,t).start()}_destroy(){this._isRunning=!1,this._isDestroyed=!0}_failure(e){if(!this._isDestroyed){if(e&&"retryAfter"in e)this._retryAfter(e);else{let t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),t)):(this._resolver.reject(e),this._destroy())}}}_retryAfter(e){this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),e.retryAfter)}_success(...e){this._isDestroyed||(this._resolver.resolve(...e),this._destroy())}_shouldRetry(e,t){let n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)}_tick(){this._fn().then((...e)=>this._success(...e)).catch(e=>this._failure(e))}getResolver(){return this._resolver.promise}start(){return this._isDestroyed?Promise.reject(Error("Backoff already consumed")):(this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(()=>this._tick(),this._counter.getTime(0))):this._tick()),this._resolver.promise)}stop(){clearTimeout(this._tickInterval),this._destroy()}getRetryCount(){return this._callCount}}var P=n(1299);(o=l||(l={})).INVALID_PAYLOAD="INVALID_PAYLOAD",o.INVALID_NAME="INVALID_NAME",o.UNKNOWN_OWNER="UNKNOWN_OWNER",o.PAYLOAD_SIZE_LIMIT_EXCEEDED="PAYLOAD_SIZE_LIMIT_EXCEEDED";var I=n(7712);class D{static pushToArrIfMissing(e,t){-1===e.indexOf(t)&&e.push(t)}static isMissingFromArray(e,t){return -1===e.indexOf(t)}}class x{_addEventsToEventSenderStatsData(e,t){Object.keys(t).map(n=>{for(let r=0;r<t[n].length;r++){let i=t[n][r];i.sequence_number<e[i.sequence_id][i.event_name].sequence_number_min&&(e[i.sequence_id][i.event_name].sequence_number_min=i.sequence_number),e[i.sequence_id][i.event_name].storage_size++}})}_initializeESSEventData(e,t,n){for(let[r,i]of(Object.keys(e).includes(n)||(e[n]={}),Object.entries(t)))e[n][r]={sequence_number_min:i+1,sequence_number_next:i+1,storage_size:0}}_formatESS2UnauthEventData(e){let t={sequence_ids:[],event_names:[],loss_stats_num_entries_per_sequence_id:[],loss_stats_event_name_index:[],loss_stats_storage_sizes:[],loss_stats_sequence_number_mins:[],loss_stats_sequence_number_nexts:[]};return Object.entries(e).map(([e,n])=>{if(D.isMissingFromArray(t.sequence_ids,e))t.sequence_ids.push(e),t.loss_stats_num_entries_per_sequence_id.push(Object.keys(n).length);else{let r=t.sequence_ids.indexOf(e);t.loss_stats_num_entries_per_sequence_id[r]+=Object.keys(n).length}Object.entries(n).map(([e,n])=>{D.pushToArrIfMissing(t.event_names,e);let r=t.event_names.indexOf(e);t.loss_stats_event_name_index.push(r);let i=Object.keys(n);for(let e=0;e<i.length;e++)t[`loss_stats_${i[e]}s`].push(n[i[e]])})}),t}createESSEvent(e,t,n){let r={};return this._initializeESSEventData(r,t,n),this._addEventsToEventSenderStatsData(r,e),(0,I.i)(this._formatESS2UnauthEventData(r))}}var k=n(9165);class L{constructor(){this._sequenceId=k.Base64.encode(function(e){let t="";for(let e=0;e<16;e++)t+=String.fromCharCode(256*Math.random()|0);return t}(16)),this._sequenceNumbers={}}static create(){return new L}getSequenceId(){return this._sequenceId}nextSequenceNumber(e){return this._sequenceNumbers[e]||(this._sequenceNumbers[e]=0),++this._sequenceNumbers[e]}getAllSequenceNumberCounters(){return this._sequenceNumbers}}let j={baseTime:200,ceiling:3e5,maxDuration:18e5};class U extends O.vp{constructor(e){var t;super(),this._sequenceIdGenerator=L.create(),this._statsSender=new x,this._instanceContexts={},this._sdkVersion=`4.0.3${null!==(t=e._experimentSuffix)&&void 0!==t?t:""}`,this._transport=e.transport,this._ownerProvider=e.ownerProvider,this._events={authorized:[],unauthorized:[]},this._uploaders=e.uploaders,this._ongoingUploads={authorized:!1,unauthorized:!1},this._uploadWaiting={authorized:!1,unauthorized:!1},this._backoffTimeSettings=Object.assign(Object.assign({},j),e.backoffTimeOverrides),this.upload=this.upload.bind(this),this._essLastSent=null,"undefined"==typeof window||"function"!=typeof window.addEventListener||e.disableBeforeUnloadListener||window.addEventListener("beforeunload",this.onBeforeDisconnect.bind(this)),this.initializeContexts(e.context);let n={[c.UPLOAD_SUCCEEDED]:c.UPLOAD_SUCCEEDED,[c.UPLOAD_FAILED]:c.UPLOAD_FAILED,[c.UPLOAD_REQUEST_FAILED]:c.UPLOAD_REQUEST_FAILED};this.proxyEmitAll(this._uploaders.authorized,n),this.proxyEmitAll(this._uploaders.unauthorized,n)}onBeforeDisconnect(){this.uploadFlush()}uploadFlush(){return Promise.all([this._uploaders.authorized.lastUpload(this._events.authorized.splice(0)),this._uploaders.unauthorized.lastUpload(this._events.unauthorized.splice(0))]).then(([e,t])=>e&&t).catch(()=>!1)}initializeContexts(e){if(!(null==e?void 0:e.length))return;let t=this._instanceContexts;for(let n of e){let e=n();(null==e?void 0:e.name)&&(t[e.name]=e.data)}}initFlush(e){let t=this._uploaders[e].shouldBackoff(),{ceiling:n,maxDuration:r,baseTime:i}=this._backoffTimeSettings;return C.init(()=>this.upload(e),{curve:"exponential",backoffInitial:t,retryPredicate:()=>this._transport.isOnline(),ceiling:n,baseTime:t?n:i,maxDuration:r})}waitForConnection(){return new Promise(e=>{this._transport.once(f.TransportEvent.CONNECTION_ONLINE,()=>e())})}upload(e){return this._uploaders[e].upload(this._events[e].splice(0)).then(t=>{if(t.nack.length)throw this._events[e]=t.nack.concat(this._events[e]),Error("Backoff requested");return t})}sendToGabito(e){let t=e?"authorized":"unauthorized";this._transport.isOnline()||this._ongoingUploads[t]||(this._ongoingUploads[t]=this.waitForConnection());let n=this._ongoingUploads[t];if(n)return this._uploadWaiting[t]||(this._uploadWaiting[t]=!0,this._ongoingUploads[t]=n.then(()=>(this._ongoingUploads[t]=!1,this._uploadWaiting[t]=!1,this.sendToGabito(e)))),this._ongoingUploads[t];if(!this._events[t].length)return Promise.resolve({nack:this._events[t],backoff:this._uploaders[t].shouldBackoff()});if(!this._essLastSent||Date.now()-this._essLastSent.getTime()>3e5){let e=[this.makeEvent(this._statsSender.createESSEvent(this._events,this._sequenceIdGenerator.getAllSequenceNumberCounters(),this._sequenceIdGenerator.getSequenceId()))];this._uploaders.unauthorized.upload(e).finally(()=>{this._essLastSent=new Date})}let r=this.initFlush(t).then(e=>(this._ongoingUploads[t]=!1,e)).catch(()=>(this._ongoingUploads[t]=!1,this._transport.isOnline())?(U.consoleLogger.warn(`The events in the queue could not be uploaded. Throwing away ${this._events[t].length} ${t} events.`),this._events[t]=[],{nack:this._events[t],backoff:this._uploaders[t].shouldBackoff()}):this.sendToGabito(e));return this._ongoingUploads[t]=r,r}storeEvent(e,t){let n=this.makeEvent(t);this._events[e?"authorized":"unauthorized"].push(n)}makeEvent(e){let t=this._sequenceIdGenerator;return{sequence_id:t.getSequenceId(),sequence_number:t.nextSequenceNumber(e.name),event_name:e.name,fragments:Object.assign(Object.assign({context_sdk:{version_name:this._sdkVersion,type:"javascript"},context_time:{timestamp:Date.now()}},this._instanceContexts),{message:e.data})}}validateEventData(e,t,n){return e.name?function(e){let t=e.length,n=t;for(;n--;){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}(JSON.stringify(e.data))>5e3?l.PAYLOAD_SIZE_LIMIT_EXCEEDED:t&&n&&!n()?l.UNKNOWN_OWNER:null:l.INVALID_NAME}checkIsEventAuthorized(e){return!e.endsWith("NonAuth")}flush(e=!0){return this.sendToGabito(e).then(()=>void 0).catch(()=>void 0)}flushAll(){return Promise.all([this.sendToGabito(!0),this.sendToGabito(!1)]).then(()=>void 0).catch(()=>void 0)}finalFlush(){return this.uploadFlush()}log(e,t={}){this.send(e,t)}send(e,{flush:t=!0}={}){let n=this.checkIsEventAuthorized(e.name),r=this.validateEventData(e,n,this._ownerProvider);if(r===l.UNKNOWN_OWNER&&(U.consoleLogger.warn(`Trying to send an authenticated event without a current owner: ${e.name}`),r=null),r){let t=(0,P.t)({event_name:e.name,reject_reason:r});return this.storeEvent(!1,t),Promise.reject(TypeError(`The event is invalid and has been rejected for reason: ${r}`))}return(this.storeEvent(n,e),t)?this.flush(n):Promise.resolve()}hasContext(...e){return e.every(e=>!!this._instanceContexts[e])}}function M(e){let t={suppressPersist:e.suppressPersist,transport:e.transport};return new U(Object.assign(Object.assign({},e),{uploaders:{authorized:new S(t),unauthorized:new S(Object.assign(Object.assign({},t),{authorize:!1}))}}))}U.consoleLogger=T("EventSender")},361:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.silly=t.verbose=t.debug=t.info=t.warn=t.error=t.log=t.logger=t.default=void 0;var i=n(1745);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(t,"logger",{enumerable:!0,get:function(){return i.logger}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return i.log}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return i.error}}),Object.defineProperty(t,"warn",{enumerable:!0,get:function(){return i.warn}}),Object.defineProperty(t,"info",{enumerable:!0,get:function(){return i.info}}),Object.defineProperty(t,"debug",{enumerable:!0,get:function(){return i.debug}}),Object.defineProperty(t,"verbose",{enumerable:!0,get:function(){return i.verbose}}),Object.defineProperty(t,"silly",{enumerable:!0,get:function(){return i.silly}})},1745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.silly=t.verbose=t.debug=t.info=t.warn=t.error=t.log=t.logger=void 0,t.logger={log:(...e)=>console.log(...e),error:(...e)=>console.error(...e),warn:(...e)=>console.warn(...e),info:(...e)=>console.info(...e),debug:(...e)=>console.debug(...e),verbose:(...e)=>console.log("verbose:",...e),silly:(...e)=>console.log("silly:",...e)},t.default=t.logger,t.log=t.logger.log.bind(t.logger),t.error=t.logger.error.bind(t.logger),t.warn=t.logger.warn.bind(t.logger),t.info=t.logger.info.bind(t.logger),t.debug=t.logger.debug.bind(t.logger),t.verbose=t.logger.verbose.bind(t.logger),t.silly=t.logger.silly.bind(t.logger)},4934:function(e,t,n){"use strict";var r=n(4155),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendMetric=t.reportMetrics=t.createSemanticMetrics=t.asNanoseconds=t.MetricTypes=void 0;let s=o(n(361)),a=n(9663);t.MetricTypes={COUNTER:"counter",GAUGE:"gauge",TIMER:"timer"},t.asNanoseconds=function(e){return e};let u=(e,t)=>i(void 0,void 0,void 0,function*(){if(Array.isArray(t.reporter)){let n=t.reporter.map(t=>t.send(e));yield Promise.all(n)}else yield t.reporter.send(e)});t.reportMetrics=u;let c=e=>{(void 0!==e.dev?e.dev:r.env&&!1)&&(e.reporter=new a.NoopReporter);let t={queue:[],timeout:void 0,flush(){return i(this,void 0,void 0,function*(){yield u(this.queue,e),this.queue=[],this.timeout=void 0})}},n=!1;return void 0===e.batching&&(e.batching={delay:4e3}),e.batching&&"object"==typeof window&&"function"==typeof window.addEventListener&&window.addEventListener("beforeunload",()=>{n=!0,t.flush()}),{sendMetric:r=>i(void 0,void 0,void 0,function*(){var i,o;let s=Object.assign({},r);if(r.tags&&(s.tags=Object.assign({},r.tags)),s.key=s.key||e.key,!s.key)throw Error(`metric.key is required. Got: "${s.key}". Set it in createSemanticMetrics(...) or pass it to sendMetric(...).`);s.tags=Object.assign({app:null!==(i=e.app)&&void 0!==i?i:s.key,application:null!==(o=e.app)&&void 0!==o?o:s.key},s.tags),e.component_id?s.component_id=s.component_id||e.component_id:s.component_id=e.key,e.batching&&!n?(t.queue.push(s),t.timeout||(t.timeout=setTimeout(()=>t.flush(),e.batching.delay))):yield u([s],e)}),config:e,isWindowUnloading:n,flush:()=>e.batching?t.flush():(s.default.warn("Manual flushing only supported in batch mode. Set config.batching: true"),Promise.resolve())}};t.createSemanticMetrics=c;class l{static init(e){l.config&&s.default.error("SemanticMetrics has already been initialized. This may lead to dangerous side effects such as your metrics disappearing from Grafana due to the `key` value being overwritten by something else"),s.default.warn("The singleton usage of SemanticMetrics will be deprecated. Please use createSemanticMetrics()"),l.config=e;let{sendMetric:t,isWindowUnloading:n}=c(e);l.sendMetric=t,l.isWindowUnloading=n}}t.default=l,t.sendMetric=e=>i(void 0,void 0,void 0,function*(){if(!l.config)throw Error("SemanticMetrics has not been initialized. Call SemanticMetrics.init()");return l.sendMetric(e)})},3435:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBAPI_URL=t.INTERNAL_WEBGATE_URL=void 0,t.INTERNAL_WEBGATE_URL="https://wgint.spotify.net",t.WEBAPI_URL="https://api.spotify.com"},9374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(n(8441),t),i(n(622),t),i(n(6836),t);var s=n(4934);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(s).default}})},8441:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Time=t.Timer=void 0,i(n(4934),t),i(n(3946),t),i(n(4227),t),i(n(1509),t);var o=n(1837);Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return o.Timer}});var s=n(2346);Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}})},6836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserMetrics=void 0;let r=n(4934),i=n(2346);function o(){let[e]=window.performance.getEntriesByType("navigation");return e}function s(e){return new Promise((t,n)=>window.performance&&"function"==typeof performance.getEntriesByType?window.addEventListener("load",()=>{let r=performance.getEntriesByType("paint"),i=r.find(({name:t})=>t===e);return void 0!==r&&i?t(i.startTime):n("Time to paint api is not supported on this browser")}):n("window.performance api is not supported in this browser"))}function a({name:e,label:t,value:n},r){let o;return o="cls"===e.toLowerCase()?{metric_type:"gauge",value:n}:{metric_type:"timer",value:i.Time.fromMillis(Math.round(n)).asNanos()},Object.assign(Object.assign({what:`web_vitals_${e.toLowerCase()}`},o),{tags:Object.assign({name:e,label:t},r)})}t.BrowserMetrics={getPageLoadTime:function(){return new Promise((e,t)=>{if(!window.performance||"function"!=typeof performance.getEntriesByType)return t("window.performance api is not supported in this browser");if(void 0===o())return t("navigationTiming api is not supported in this browser");let{loadEventEnd:n}=o();return n>0?e(n):window.addEventListener("load",()=>{setTimeout(()=>{let{loadEventEnd:t}=o();return e(t)},0)})})},getResourceTiming:function(){return window.performance.getEntriesByType("resource")},getTimeToFirstPaint:function(){return s("first-paint")},getTimeToFirstContentfulPaint:function(){return s("first-contentful-paint")},sendWebVitalsMetric:function(e,t){return r.sendMetric(a(e,t))},getWebVitalsMetric:a}},1509:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleReporter=void 0;let o=i(n(361));class s{constructor(e=2,t="info"){this.spacingLevel=e,this.logLevel=t}send(e){return r(this,void 0,void 0,function*(){o.default.log(this.logLevel,`[semantic-metrics] ${JSON.stringify(e,null,this.spacingLevel)}`)})}}t.ConsoleReporter=s},4227:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventSenderReporter=void 0;let o=n(6700),s=n(614),a=n(5057),u=i(n(361)),c=n(8872),l=n(3435);function h(e){return t=>e.isAuthenticated()?s.createSemanticMetricClient(t):a.createSemanticMetricClientNonAuth(t)}class f{constructor(e,t,n="browser",r){this.eventSender=e,this.createEvent=t,this.environment=n,this.transport=r}static create(e){let t="getToken"in e?e.getToken:null,n="ownerProvider"in e?e.ownerProvider:null,i=e.context?[...e.context]:void 0,s=e.environment,a=c.createBaseTransport({providers:{endpoints:(()=>{let t=c.createXResolveProvider();return n=>r(this,void 0,void 0,function*(){return Object.assign(Object.assign({},(yield t(n))),e.internal&&{webgate:l.INTERNAL_WEBGATE_URL})})})(),token:()=>new Promise(e=>{if(!t){e("");return}t((t,n)=>{if(void 0!==n){e([t,n]);return}e(t)})})}});return t&&(a.on(c.TransportEvent.CONNECTED,()=>{a.authenticate().catch(e=>{var t,n;u.default.debug("authentication fail.",null!==(n=null!==(t=null==e?void 0:e.message)&&void 0!==t?t:null==e?void 0:e.code)&&void 0!==n?n:"")})}),a.on(c.TransportEvent.AUTHENTICATED,()=>{u.default.debug("created authenticated browser transport")}),a.on(c.TransportEvent.TOKEN_PROVIDER_ERROR,()=>{u.default.debug("the token provided isn't working.")})),a.connect(),new f(o.createEventSender(Object.assign({transport:a,context:i},n&&{ownerProvider:n})),h(a),s,a)}static createWithCustomTransport(e){let t="ownerProvider"in e?e.ownerProvider:null,n=e.context?[...e.context]:void 0;return new f(o.createEventSender(Object.assign({transport:e.transport,context:n},t&&{ownerProvider:t})),h(e.transport),e.environment,e.transport)}send(e){return r(this,void 0,void 0,function*(){for(let t of e){let e=Object.assign({},t);e.tags=Object.assign({},e.tags),e.tags.environment&&u.default.error("`tags.environment` must not be set. It is a reserved tag and will be overwritten."),e.tags.environment=this.environment;let n=this.createEvent(Object.assign({},e));this.eventSender.send(n,{flush:!1})}return this.eventSender.flush(this.transport.isAuthenticated())})}}t.EventSenderReporter=f},9663:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopReporter=void 0;class r{send(e){return n(this,void 0,void 0,function*(){})}}t.NoopReporter=r},3946:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;class n{constructor(e=0){this.nanos=e}static fromNanos(e){return new n(e)}static fromMicros(e){return new n(1e3*e)}static fromMillis(e){return new n(1e6*e)}static fromSeconds(e){return new n(1e9*e)}static from(e){return new n(e.asNanos())}asSeconds(){return this.nanos/1e9}asMillis(){return this.nanos/1e6}asMicros(){return this.nanos/1e3}asNanos(){return Math.round(this.nanos)}}t.Time=n,n.ZERO=new n(0)},1837:function(e,t,n){"use strict";var r=n(4155);Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=t.getHighResolutionTime=t.getLowResolutionTime=t.getTime=t.getBrowserTime=t.supportsHighResolutionTime=void 0;let i=n(2346),o=n(4934);t.supportsHighResolutionTime=()=>"undefined"==typeof window&&"function"==typeof r.hrtime,t.getBrowserTime=()=>"undefined"!=typeof performance?performance.now():Date.now(),t.getTime=()=>t.supportsHighResolutionTime()?r.hrtime():t.getBrowserTime(),t.getLowResolutionTime=e=>{let n=t.getTime()-e,r=i.Time.fromMillis(n);return{nanoseconds:o.asNanoseconds(r.asNanos()),milliseconds:r.asMillis(),seconds:r.asSeconds()}},t.getHighResolutionTime=e=>{let[t,n]=r.hrtime(e),i=1e9*t+n,s=i/1e6,a=i/1e9;return{nanoseconds:o.asNanoseconds(i),milliseconds:s,seconds:a}};class s{constructor(e){this.startTime=e}static start(){return new s(t.getTime())}end(){return t.supportsHighResolutionTime()?t.getHighResolutionTime(this.startTime):t.getLowResolutionTime(this.startTime)}}t.Timer=s},622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUniversalReporter=void 0;let r=n(4227),i=n(3770);t.createUniversalReporter=function(e={}){let t=e.context?[i.createUserAgentContext(),...e.context]:[i.createUserAgentContext()];return r.EventSenderReporter.create(Object.assign(Object.assign({environment:"browser"},e),{context:t}))}},614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSemanticMetricClient=void 0,t.createSemanticMetricClient=function(e){return{name:"SemanticMetricClient",environments:["browser","device"],data:e}}},5057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSemanticMetricClientNonAuth=void 0,t.createSemanticMetricClientNonAuth=function(e){return{name:"SemanticMetricClientNonAuth",environments:["browsernonauth","devicenonauth"],data:e}}},9841:function(e,t,n){"use strict";n.d(t,{nE:function(){return o},j:function(){return s}});let r="G-S35RN5WNT2";function i(...e){var t;null===(t=null==window?void 0:window.dataLayer)||void 0===t||t.push(arguments)}function o(){if(window.dataLayer)return i}function s(e=!0){if(!function(){let e=function(){var e;let{groups:t,consentId:n,datestamp:r}=(null==(e=function(e){let t=`${e}=`,n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}("OptanonConsent"))?void 0:e.split("&").reduce((e,t)=>{let[n,r]=t.split("=");return n&&(e[n]=decodeURIComponent(r)),e},{}))||{};if(n&&r&&""!==r)return{groups:t?t.split(",").reduce((e,t)=>{let[n,r]=t.split(":");return e[n]="1"===r,e},{}):{},consentId:n,date:new Date(r.replace(/\+/g," "))}}(),t=(null==e?void 0:e.groups)||null;return!!(t&&Object.keys(t).includes("m00"))&&!!t.m00}())return;window.gtag&&delete window.gtag,window.gtag=i;let t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,t.id="gtagScript",document.head.appendChild(t);let n=document.createElement("script");n.async=!0,n.innerHTML="window.dataLayer = window.dataLayer || []",n.id="gaDataLayerScript",n.crossOrigin="anonymous",n.integrity="sha256-DdOTSPXUa4upGVO8zYWD1wUUqxjFKJFyE/4ha4Fe9XE=",document.head.appendChild(n),i("js",new Date),i("config",r,{send_page_view:e});let o=new Event("ga4LoadSuccess");document.dispatchEvent(o)}},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)o.push(n[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";var r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(C(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=function(e){if(a.isBuffer(e)){var t,n=0|d(e.length),r=s(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),a.prototype),r}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return r?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=P[e[o]];return i}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=t,o=n,0===i&&o===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return -1}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function E(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function T(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function O(e,t,n,r,o){return t=+t,n>>>=0,o||T(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function w(e,t,n,r,o){return t=+t,n>>>=0,o||T(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(C(o,Uint8Array))i+o.length>r.length?a.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else if(a.isBuffer(o))o.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,h,f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var d=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[n+s]=a}return s}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,A(N(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=n,A(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,a);case"base64":return u=t,c=n,A(R(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,h=n,A(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-l),this,l,h);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return w(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return w(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%u]}return this};var S=/[^+/0-9A-Za-z-_]/g;function N(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function R(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var P=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},6489:function(e,t){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var n={},i=e.length;if(i<2)return n;var o=t&&t.decode||l,s=0,a=0,h=0;do{if(-1===(a=e.indexOf("=",s)))break;if(-1===(h=e.indexOf(";",s)))h=i;else if(a>h){s=e.lastIndexOf(";",a-1)+1;continue}var f=u(e,s,a),d=c(e,a,f),p=e.slice(f,d);if(!r.call(n,p)){var _=u(e,a+1,h),g=c(e,h,_);34===e.charCodeAt(_)&&34===e.charCodeAt(g-1)&&(_++,g--);var m=e.slice(_,g);n[p]=function(e,t){try{return t(e)}catch(t){return e}}(m,o)}s=h+1}while(s<i);return n},t.serialize=function(e,t,r){var u=r&&r.encode||encodeURIComponent;if("function"!=typeof u)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var c=u(t);if(!o.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(!r)return l;if(null!=r.maxAge){var h=Math.floor(r.maxAge);if(!isFinite(h))throw TypeError("option maxAge is invalid");l+="; Max-Age="+h}if(r.domain){if(!s.test(r.domain))throw TypeError("option domain is invalid");l+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw TypeError("option path is invalid");l+="; Path="+r.path}if(r.expires){var f=r.expires;if("[object Date]"!==n.call(f)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+f.toUTCString()}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.partitioned&&(l+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var n=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,o=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(e,t,n){do{var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){var r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return n}function l(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},645:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?5960464477539062e-23:0,d=r?0:o-1,p=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*_}},7544:function(e,t,n){e.exports=n(3802)},1752:function(e,t,n){e.exports=n(7500)},5492:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(4171)}])},8872:function(e,t,n){"use strict";n.r(t),n.d(t,{ConnectionObserver:function(){return D},DEALER_PLUGIN_NAME:function(){return Q},DealerErrors:function(){return T},DisconnectionReason:function(){return v},Method:function(){return m},PluginEvent:function(){return y},REQUEST_TRANSFORMER_PLUGIN_NAME:function(){return eY},TransportErrors:function(){return _},TransportEvent:function(){return g},createAbortControllerLike:function(){return q},createAbortSignalWithTimeout:function(){return G},createBaseTransport:function(){return eZ},createSpotifyComEndpointsProvider:function(){return eV},createSpotifyComProviders:function(){return eX},createSpotifyComTokenProvider:function(){return eJ},createTransport:function(){return e0},createXResolveProvider:function(){return ez},dealerCreator:function(){return Z},requestTransformerCreator:function(){return eK}});var r,i,o,s,a,u,c,l,h,f,d,p,_,g,m,y,v,E,b,T,O,w,S,N,R,A,C={};n.r(C),n.d(C,{isSupported:function(){return em},request:function(){return ey}});var P={};n.r(P),n.d(P,{request:function(){return eq}}),(r=_||(_={})).HTTP_REQUEST_ABORTED="HTTP_REQUEST_ABORTED",r.HTTP_REQUEST_FAILED="HTTP_REQUEST_FAILED",r.HTTP_REQUEST_TIMEOUT="HTTP_REQUEST_TIMEOUT",r.LOGGING_REQUEST_FAILED="LOGGING_REQUEST_FAILED",r.TRANSPORT_ENDPOINTS_PROVIDER_ERROR="TRANSPORT_ENDPOINTS_PROVIDER_ERROR",r.TRANSPORT_INVALID_STATE="TRANSPORT_INVALID_STATE",r.TRANSPORT_INVALID_TOKEN="TRANSPORT_INVALID_TOKEN",r.TRANSPORT_STALE_TOKEN="TRANSPORT_STALE_TOKEN ",r.TRANSPORT_TOKEN_PROVIDER_ERROR="TRANSPORT_TOKEN_PROVIDER_ERROR",r.TRANSPORT_LIFECYCLE_DISABLED="TRANSPORT_LIFECYCLE_DISABLED",r.TRANSPORT_UNSUPPORTED_OPTION="TRANSPORT_UNSUPPORTED_OPTION",r.XRESOLVE_INCOMPLETE_RESPONSE="XRESOLVE_INCOMPLETE_RESPONSE",r.XRESOLVE_INVALID_RESPONSE="XRESOLVE_INVALID_RESPONSE",r.XRESOLVE_REQUEST_FAILED_WITH_STATUS="XRESOLVE_REQUEST_FAILED_WITH_STATUS",(i=g||(g={})).CONNECTION_ONLINE="online",i.CONNECTION_OFFLINE="offline",i.PRODUCT_STATE_CHANGED="product_state_changed",i.ACCESS_TOKEN="access_token",i.AUTHENTICATED="authenticated",i.AUTHENTICATION_FAILED="authentication_failed",i.BEFORE_OFFLINE_DISCONNECT="before_offline_disconnect",i.BEFORE_ONLINE_DISCONNECT="before_online_disconnect",i.CONNECTED="connected",i.CONNECTION_FAILED="connection_failed",i.CONNECTION_ID="connection_id",i.DISCONNECTED="disconnected",i.ENDPOINTS_RESOLVED="endpoints_resolved",i.LOGGED_OUT="logged_out",i.SHORT_SESSION_DISCONNECTED="short_session_disconnected",i.TOKEN_PROVIDER_ERROR="token_provider_error",i.RECONNECTED="reconnected",i.RECONNECTING="reconnecting",i.WINDOW_BEFORE_UNLOAD="beforeunload",(o=m||(m={})).DELETE="DELETE",o.GET="GET",o.HEAD="HEAD",o.OPTIONS="OPTIONS",o.PATCH="PATCH",o.POST="POST",o.PUT="PUT",o.TRACE="TRACE",(s=y||(y={})).TRANSPORT_AUTHENTICATE="transport_authenticate",s.TRANSPORT_AUTHENTICATE_FAILED="transport_authenticate_failed",s.TRANSPORT_CONNECT="transport_connect",s.TRANSPORT_DISCONNECT="transport_disconnect",s.TRANSPORT_ENDPOINTS_RESOLVED="transport_endpoints_resolved",s.TRANSPORT_BEFORE_PROCESS_REQUEST="transport_before_process_request",s.TRANSPORT_BEFORE_SEND_REQUEST="transport_before_send_request",s.TRANSPORT_BEFORE_RETURN_RESPONSE="transport_before_return_response",s.TRANSPORT_REQUEST="transport_request",s.PLUGIN_CONNECTION_INFO="plugin_connection_info",s.PLUGIN_DISCONNECTED="plugin_disconnected",s.PLUGIN_MESSAGE="plugin_message",s.PLUGIN_REQUEST="plugin_request",s.PLUGIN_ERROR="plugin_error",(a=v||(v={})).RECONNECTION_FAILED="reconnection_failed",a.EXPLICIT="explicit",a.LOG_OUT="log_out",a.WINDOW_BEFORE_UNLOAD="window_before_unload";var I=n(8611);class D extends I.vp{}class x extends D{static create(e){return new x(e)}isOnline(){let e=this._navigator;return!e||!("onLine"in e)||e.onLine}constructor(e){super();let t=e&&e.notifyBeforeUnload;this._navigator=window.navigator||null,"function"==typeof window.addEventListener&&(window.addEventListener("online",this.emitSync.bind(this,g.CONNECTION_ONLINE,null)),window.addEventListener("offline",this.emitSync.bind(this,g.CONNECTION_OFFLINE,null)),t&&window.addEventListener(g.WINDOW_BEFORE_UNLOAD,this.emitSync.bind(this,g.WINDOW_BEFORE_UNLOAD,null)))}}class k extends Error{constructor(e,t,n,r){super(e),this.name="RequestError",this.message=e,this.code=t,this.status=n||0,this.url=r}}class L extends k{constructor(e,t){super("Request aborted by signal.",_.HTTP_REQUEST_ABORTED,0,e),this.name="RequestAbortedError",this.reason=t}}class j extends k{constructor(e,t){super("Request aborted by timeout.",_.HTTP_REQUEST_TIMEOUT,0,e),this.name="RequestTimeoutError",this.reason=t}}let U="Signal is aborted without reason";function M(e,t){let n=Error(t);return n.name=e,n}class B extends I.vp{static abort(e){let t=new B;return t._aborted=!0,t._reason=M("AbortError",null!=e?e:U),t}static signalAbort(e,t){"_aborted"in e&&!e._aborted&&(e._aborted=!0,"_reason"in e&&(e._reason=t||M("AbortError",U)),e.emit("abort",null))}static timeout(e){if(!isFinite(e))throw TypeError('Value of "delay" is not supported.');let t=new B;return setTimeout(()=>{B.signalAbort(t,M("TimeoutError","Signal timed out"))},e),t}get aborted(){return this._aborted}set aborted(e){}get reason(){return this._reason}addEventListener(e,t){this.addListener(e,t)}removeEventListener(e,t){this.removeListener(e,t)}dispatchEvent(){}constructor(){super(),this._aborted=!1,this._reason=void 0,this.onabort=null,this.on("abort",()=>{var e;return null===(e=this.onabort)||void 0===e?void 0:e.call(this)})}}class F{abort(e){let t=this.signal;B.signalAbort(t,e)}constructor(){this.signal=new B}}function $(){return"function"==typeof window.AbortController}let q=$()?()=>new AbortController:()=>new F;"function"==typeof(null===(E=window.AbortSignal)||void 0===E?void 0:E.any)&&window.AbortSignal.any;let G="function"==typeof(null===(b=window.AbortSignal)||void 0===b?void 0:b.timeout)?window.AbortSignal.timeout:B.timeout;function H(e,t){var n;return(null===(n=t.reason)||void 0===n?void 0:n.name)==="TimeoutError"?new j(e,t.reason):new L(e,t.reason)}(u=T||(T={})).DEALER_CONNECTION_ERROR="DEALER_CONNECTION_ERROR",u.DEALER_AUTHENTICATION_FAILED="DEALER_AUTHENTICATION_FAILED",u.DEALER_ERROR="DEALER_ERROR",u.DEALER_DISCONNECTED_BEFORE_EVENTS="DEALER_DISCONNECTED_BEFORE_EVENTS",u.ENDPOINT_NOT_DEFINED="ENDPOINT_NOT_DEFINED",u.INVALID_ENDPOINT="INVALID_ENDPOINT";class W extends Error{constructor(e=T.DEALER_ERROR,t,n={}){super(t),this.name="DealerError",this.message=t,this.code=e,this.raw=n,this.wsCode=n.code||null,this.wsReason=n.reason||null}}function z(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}(c=O||(O={})).AUTHENTICATED="authenticated",c.AUTHENTICATION_FAILED="authentication_failed",c.CONNECTED="connected",c.CONNECTION_ID="connection_id",c.ERROR="error",c.DISCONNECTED="disconnected",c.MESSAGE="message",c.REQUEST="request",(l=w||(w={}))[l.CLOSE=4e3]="CLOSE",l[l.TIMEOUT=4001]="TIMEOUT";var V=n(8764).lW;let J=function(){},X=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/;class Y extends I.vp{static create(e){return new Y(e)}_startHeartbeat(e){let t=()=>{this.ping().then(()=>this._onHeartbeatSuccess(),()=>this._onHeartbeatError()),this._heartbeatTimeoutToken=setTimeout(()=>this._onHeartbeatError(),this._heartbeatTimeout)};e?t():this._heartbeatToken=setTimeout(()=>t(),3e4)}_onHeartbeatError(){this._stopHeartbeat(),this._socket&&this._socket.close(w.TIMEOUT,"internal-timeout")}_onHeartbeatSuccess(){this._stopHeartbeat(),this._startHeartbeat()}_stopHeartbeat(){null!==this._heartbeatToken&&clearTimeout(this._heartbeatToken),null!==this._heartbeatTimeoutToken&&clearTimeout(this._heartbeatTimeoutToken)}_prepareConnectionId(e){var t;let n;if(!e.uri)return!1;let[,r]=null!==(t=e.uri.match(X))&&void 0!==t?t:[];return!!r&&(n=e.headers&&e.headers["Spotify-Connection-Id"]?e.headers["Spotify-Connection-Id"]:decodeURIComponent(r),this._connectionId=n,this._connectionURI=e.uri,this.emit(O.CONNECTION_ID,{id:n,uri:e.uri}),!0)}_reply(e,t){if(!e)throw TypeError("Invalid key.");let n=this._socket;n&&1===n.readyState&&n.send(JSON.stringify({type:"reply",key:e,payload:t}))}_parseMessage(e){let t;try{t=JSON.parse(e)}catch(e){return}if("message"===t.type)this._waitingForConnectionId&&this._prepareConnectionId(t)?(this._waitingForConnectionId=!1,this._startHeartbeat(!0)):this.emit(O.MESSAGE,{message:t});else if("pong"===t.type&&this._lastPingDeferred)this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null;else if("request"===t.type){let e=t.key;e&&this.emit(O.REQUEST,{request:t,reply:this._reply.bind(this,e)})}}_handleOpen(e){e.resolve(!0),this._connected=!0,this.emit(O.AUTHENTICATED,null)}_handleMessage(e){let t=this,n=e.data;if(window.Blob&&n instanceof window.Blob){let e=new FileReader;e.onloadend=function(){let e;if(this.result){if(this.result instanceof ArrayBuffer){e="";let t=new Uint8Array(this.result);for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n])}else e=this.result;t._parseMessage(e)}},e.readAsText(n)}else void 0!==V&&"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?this._parseMessage(new V(n).toString("ascii")):this._parseMessage(n)}_handleClose(e){let t=this._connected;if(this._connected=!1,!t){let t=new W(T.DEALER_AUTHENTICATION_FAILED,"Dealer connection error",e);this.emit(O.AUTHENTICATION_FAILED,{error:t});return}this.emitSync(O.DISCONNECTED,{wsCode:e.code,reason:e.reason})}_handleError(e){let t=new W(T.DEALER_CONNECTION_ERROR,"Cannot connect to dealer");e.reject(t),this._connected=!1,this.emit(O.ERROR,{error:t})}_handleDisconnectBeforeEvents(e){e.reject(new W(T.DEALER_DISCONNECTED_BEFORE_EVENTS,"Dealer disconnected before events"))}connect(e){return this._endpoint=e,this._waitingForConnectionId=!0,this.emit(O.CONNECTED,null),Promise.resolve(!0)}authenticate(e){let t=z(),n="".concat(this._endpoint,"?access_token=").concat(e),r=this._socket=new this._WebSocket(n);return r.onopen=this._handleOpen.bind(this,t),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,t),r.onmessage=this._handleMessage.bind(this),this._closeBeforeEventsRejector=this._handleDisconnectBeforeEvents.bind(this,t),t.promise}disconnect(){var e;this._socket&&(this._stopHeartbeat(),this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(w.CLOSE,"internal-close"),this._socket.onopen=J,this._socket.onerror=J,this._socket.onmessage=J,this._socket.onclose=J,this._socket=null,null===(e=this._closeBeforeEventsRejector)||void 0===e||e.call(this),this.emitSync(O.DISCONNECTED,{wsCode:w.CLOSE,reason:"internal-close"}))}ping(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=z(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):Promise.reject(new W(T.DEALER_CONNECTION_ERROR,"Dealer connection error"))}getConnectionId(){return this._waitingForConnectionId?new Promise(e=>{this.once(O.CONNECTION_ID,t=>{e(t.data.id)})}):Promise.resolve(this._connectionId)}getConnectionInfo(){return this._waitingForConnectionId?new Promise(e=>{this.once(O.CONNECTION_ID,t=>{e({id:t.data.id,uri:t.data.uri})})}):Promise.resolve({id:this._connectionId,uri:this._connectionURI})}hasConnectionId(){return!this._waitingForConnectionId&&!!this._connectionId}constructor(e){super(),this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null,this._connectionURI=null,this._heartbeatToken=0,this._heartbeatTimeoutToken=0,this._connected=!1,this._endpoint=null,this._closeBeforeEventsRejector=null,this._WebSocket=e.WebSocket||WebSocket,this._heartbeatTimeout=e.heartbeatTimeout||1e4}}let Q="dealer";class K{_onDealerConnectionId(e){this._mediator&&this._mediator.emit(y.PLUGIN_CONNECTION_INFO,Object.assign({plugin:this.name},e.data))}_onDealerDisconnected(e){if(!this._mediator)return;let t=e.data;this._mediator.emit(y.PLUGIN_DISCONNECTED,{plugin:this.name,code:t.wsCode,reason:t.reason})}_onDealerMessage(e){this._mediator&&this._mediator.emit(y.PLUGIN_MESSAGE,Object.assign({plugin:this.name},e.data))}_onDealerRequest(e){this._mediator&&this._mediator.emit(y.PLUGIN_REQUEST,Object.assign({plugin:this.name},e.data))}_onTransportConnect(e){let t=e.data.endpoints,n=e.data.awaitPromise;if(!t.dealer){n(Promise.reject(new W(T.ENDPOINT_NOT_DEFINED,'No "dealer" endpoint defined.')));return}if(!/^wss:/.test(t.dealer)){n(Promise.reject(new W(T.INVALID_ENDPOINT,"Dealer endpoint needs to be wss://")));return}n(this._dealer.connect(t.dealer))}_onTransportAuthenticate(e){let t=e.data;t.awaitPromise(this._dealer.authenticate(t.token))}_onTransportDisconnect(){this._dealer.disconnect()}_onDealerError(e){var t;null===(t=this._mediator)||void 0===t||t.emit(y.PLUGIN_ERROR,{plugin:this.name,error:e.data.error})}attach(e,t){this._mediator=t,t.addListeners({[y.TRANSPORT_CONNECT]:this._onTransportConnect,[y.TRANSPORT_AUTHENTICATE]:this._onTransportAuthenticate,[y.TRANSPORT_DISCONNECT]:this._onTransportDisconnect}),this._dealer.addListeners({[O.DISCONNECTED]:this._onDealerDisconnected,[O.CONNECTION_ID]:this._onDealerConnectionId,[O.MESSAGE]:this._onDealerMessage,[O.REQUEST]:this._onDealerRequest,[O.ERROR]:this._onDealerError})}detach(e,t){this._mediator=void 0,t.removeListeners({[y.TRANSPORT_CONNECT]:this._onTransportConnect,[y.TRANSPORT_AUTHENTICATE]:this._onTransportAuthenticate,[y.TRANSPORT_DISCONNECT]:this._onTransportDisconnect}),this._dealer.removeListeners({[O.DISCONNECTED]:this._onDealerDisconnected,[O.CONNECTION_ID]:this._onDealerConnectionId,[O.MESSAGE]:this._onDealerMessage,[O.REQUEST]:this._onDealerRequest,[O.ERROR]:this._onDealerError})}constructor(e){this.name=Q,this._dealer=new Y(e),this.api={hasConnectionInfo:()=>this._dealer.hasConnectionId(),getConnectionInfo:()=>this._dealer.getConnectionInfo().then(e=>Object.assign({plugin:this.name},e))},this._onDealerConnectionId=this._onDealerConnectionId.bind(this),this._onDealerDisconnected=this._onDealerDisconnected.bind(this),this._onDealerMessage=this._onDealerMessage.bind(this),this._onDealerRequest=this._onDealerRequest.bind(this),this._onTransportConnect=this._onTransportConnect.bind(this),this._onTransportAuthenticate=this._onTransportAuthenticate.bind(this),this._onTransportDisconnect=this._onTransportDisconnect.bind(this)}}function Z(e,t){return new K(t)}(h=S||(S={}))[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.DEBUG=2]="DEBUG",h[h.INFO=4]="INFO",h[h.WARN=8]="WARN",h[h.ERROR=16]="ERROR";class ee{constructor(){this.tag="",this.description=""}matchesTag(){return!1}setLevel(){}enable(){}disable(){}log(){}debug(){}info(){}warn(){}error(){}}var et=n(4155);class en{constructor(e,t="",n=()=>!1){this._tagParts=[],this._tagText="",this._enabled=!0,this._level=S.NONE,this.tag="",this.description="",this._predicate=function(){return!1},this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText=`[${e}]`}_print(e,t,n){if(!this._enabled&&!(this._level&t))return;let r={args:n,type:e,tag:this.tag};this._predicate(r)||console[e](this._tagText,...n)}matchesTag(e){let t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(let e=0,r=t.length;e<r;e++)if(("*"!==t[e]||!n[e])&&t[e]!==n[e])return!1;return!0}setLevel(e){let t=0;switch(e){case"error":t=S.ERROR;break;case"warn":t=S.WARN|S.ERROR;break;case"info":t=S.INFO|S.WARN|S.ERROR;break;case"debug":t=S.DEBUG|S.INFO|S.WARN|S.ERROR;break;default:t=S.LOG|S.DEBUG|S.INFO|S.WARN|S.ERROR}this._level=t}enable(){this._enabled=!0}disable(){this._enabled=!1}log(...e){this._print("log",S.LOG,e)}debug(...e){this._print("debug",S.DEBUG,e)}info(...e){this._print("info",S.INFO,e)}warn(...e){this._print("warn",S.WARN,e)}error(...e){this._print("error",S.ERROR,e)}}let er=ee;try{"true"===et.env.DEBUG&&(er=en)}catch(e){}let ei="__dbgLoggerRegistry",eo=n.g[ei];eo||(eo={map:{},list:[],loggingPredicate:function(){}},Object.defineProperty?Object.defineProperty(n.g,ei,{value:eo}):n.g[ei]=eo);let es=eo.map,ea=eo.list;function eu(e){return!!(eo.loggingPredicate&&eo.loggingPredicate(e))}function ec(e,t){let n,r;if("string"==typeof e?(n=e.toLowerCase(),r=t):(n=e.tag,r=e.description),Object.prototype.hasOwnProperty.call(es,n)&&es[n])return es[n];let i=new er(n,r,eu);return i.setLevel("log"),es[n]=i,ea.push(i),i}let el=function(e,t){try{if("number"==typeof e())return e}catch(e){}let n=t(),r=0;return()=>r=Math.max(r,t()-n)}(()=>performance.now(),Date.now),eh=(e,t=el())=>Math.round(Math.abs(t-e)),ef={POST:!0,PUT:!0,PATCH:!0,DELETE:!0};(f=N||(N={}))[f.UNKNOWN=0]="UNKNOWN",f[f.OK=200]="OK",f[f.CREATED=201]="CREATED",f[f.ACCEPTED=202]="ACCEPTED",f[f.NO_CONTENT=204]="NO_CONTENT",f[f.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",f[f.BAD_REQUEST=400]="BAD_REQUEST",f[f.UNAUTHORIZED=401]="UNAUTHORIZED",f[f.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",f[f.FORBIDDEN=403]="FORBIDDEN",f[f.NOT_FOUND=404]="NOT_FOUND",f[f.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",f[f.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",f[f.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",f[f.TIMED_OUT=408]="TIMED_OUT",f[f.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",f[f.CONFLICT=409]="CONFLICT",f[f.GONE=410]="GONE",f[f.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",f[f.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",f[f.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",f[f.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",f[f.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",f[f.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",f[f.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",f[f.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",f[f.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",f[f.BAD_GATEWAY=502]="BAD_GATEWAY",f[f.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",f[f.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",f[f.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED";class ed{get(e){return null}has(e){return!1}constructor(e){this.get=e.get.bind(e),this.has=e.has.bind(e)}}class ep{getStatusFamily(){return 0|this.status/100}constructor(e,t=0){this.url="",this.status=0,this.headers=null,this.body=null,this.offline=!1,this.timing=null,this.metadata=null,this.retries={count:0},this.url=e,this.status=t,this.ok=t>=200&&t<=299}}let e_=ec("transport.http.fetch"),eg={json:!0,text:!0,arraybuffer:!0,blob:!0};function em(){return"function"==typeof fetch}function ey(e){if(!em())return Promise.reject(TypeError("Fetch is not supported"));let t=e.options.signal;if(null==t?void 0:t.aborted)return Promise.reject(H(e.url,t));if(!e.url)return Promise.reject(TypeError("Request URL cannot be blank."));let n=e.method||"GET",r=e.url,i=null;if(n in ef&&!0===ef[n]&&e.payload?i=e.payload:e.payload&&(r+="?".concat(e.payload)),e.options.responseType&&!(e.options.responseType in eg))return Promise.reject(TypeError("Cannot set responseType: not supported in browser."));let o={mode:e.options.mode||"cors",credentials:e.options.credentials||"same-origin",redirect:e.options.redirect||"follow",signal:t,method:n};e.headers.count()&&(o.headers=e.headers.toJSON()),i&&(o.body=i);let s=el();return fetch(r,o).then(function(t){let n;n=e.options.ignoreResponseBody||t.status===N.NO_CONTENT?null:"json"===e.options.responseType?t.json().catch(function(e){return e_.warn("Could not parse response as JSON:",e),null}):"arraybuffer"===e.options.responseType?t.arrayBuffer():"blob"===e.options.responseType?t.blob():t.text();let r=e.options.parseResponseHeaders||t.status>299?new ed(t.headers):null;return Promise.all([t.url,t.status,r,n])}).then(function(t){let[n,r,i,o]=t,a=el(),u=new ep(n,r);return u.body=o,u.headers=i,e.options.timing&&(u.timing={completed:eh(s,a)}),u}).catch(function(t){let n=el();if((null==t?void 0:t.name)==="AbortError")throw new L(r);if((null==t?void 0:t.name)==="TimeoutError")throw new j(r);let i=new ep(r);return e.options.timing&&(i.timing={completed:eh(s,n)}),i}).then(function(t){return e.options.connectionObserver&&(t.offline=!e.options.connectionObserver.isOnline()),t})}"function"==typeof SuppressedError&&SuppressedError;let ev={baseTime:200,ceiling:0,curve:"linear",jitter:!0};class eE{constructor(e={}){this._curve=e.curve||ev.curve,this._baseTime=e.baseTime||ev.baseTime,this._ceiling=e.ceiling||ev.ceiling,this._jitter="jitter"in e?!!e.jitter:ev.jitter}getTime(e){let t;switch(this._curve){case"static":t=1;break;case"logarithmic":t=Math.log(e);break;case"exponential":t=Math.pow(Math.E,e);break;default:t=e+1}let n=Math.min(4294967296,Math.floor(t*this._baseTime));return this._ceiling&&(n=Math.min(n,this._ceiling)),this._jitter?function(e){let t=e/5;return Math.floor(e-t/2+Math.random()*t)}(n):n}}let eb={backoffInitial:!1,baseTime:200,ceiling:0,curve:"linear",jitter:!0,maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:()=>!0};class eT{constructor(e,t){this._resolver=z(),this._ts=0,this._callCount=0,this._tickInterval=0,this._isRunning=!1,this._isDestroyed=!1;let n=Object.assign(Object.assign({},eb),t),{backoffInitial:r,maxDuration:i,maxRetries:o,maxTime:s,retryPredicate:a}=n,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(n,["backoffInitial","maxDuration","maxRetries","maxTime","retryPredicate"]);this._fn=e,this._backoffInitial=r,this._maxDuration=i,this._maxRetries=o,this._maxTime=s,this._retryPredicate=a,this._backoffInitial=r,this._counter=new eE(u),this._backoffInitial&&(this._maxRetries+=1)}static init(e,t={}){return new eT(e,t).start()}_destroy(){this._isRunning=!1,this._isDestroyed=!0}_failure(e){if(!this._isDestroyed){if(e&&"retryAfter"in e)this._retryAfter(e);else{let t=this._counter.getTime(this._callCount);this._shouldRetry(t,e)?(this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),t)):(this._resolver.reject(e),this._destroy())}}}_retryAfter(e){this._callCount++,this._tickInterval=setTimeout(()=>this._tick(),e.retryAfter)}_success(...e){this._isDestroyed||(this._resolver.resolve(...e),this._destroy())}_shouldRetry(e,t){let n=Date.now()-this._ts+e;return this._callCount<this._maxRetries&&e<this._maxTime&&n<this._maxDuration&&this._retryPredicate(t)}_tick(){this._fn().then((...e)=>this._success(...e)).catch(e=>this._failure(e))}getResolver(){return this._resolver.promise}start(){return this._isDestroyed?Promise.reject(Error("Backoff already consumed")):(this._isRunning||(this._ts=Date.now(),this._isRunning=!0,this._backoffInitial?(this._callCount=1,this._tickInterval=setTimeout(()=>this._tick(),this._counter.getTime(0))):this._tick()),this._resolver.promise)}stop(){clearTimeout(this._tickInterval),this._destroy()}getRetryCount(){return this._callCount}}(d=R||(R={}))[d.CONNECTION_ERROR=0]="CONNECTION_ERROR",d[d.INFORMATIONAL=1]="INFORMATIONAL",d[d.SUCCESS=2]="SUCCESS",d[d.REDIRECTION=3]="REDIRECTION",d[d.CLIENT_ERROR=4]="CLIENT_ERROR",d[d.SERVER_ERROR=5]="SERVER_ERROR";class eO extends Error{constructor(e,t,n=null){super(t),this.name="TransportError",this.message=t,this.code=e,this.origin=n}}class ew{_setAll(e){let t=0;for(let n in e)e.hasOwnProperty(n)&&e[n]&&(this._headers[n.toLowerCase()]=e[n],t++);this._count=t}get(e){return this._headers[e.toLowerCase()]||null}has(e){return!!this._headers[e.toLowerCase()]}set(e,t){this._headers[e.toLowerCase()]=t,this._count++}delete(e){let t=e.toLowerCase();this._headers[t]&&this._count--,delete this._headers[e.toLowerCase()]}count(){return this._count}toJSON(){return Object.assign({},this._headers)}constructor(e){this._headers={},this._count=0,this._setAll(e)}}class eS{static create(e,t){return new eS(e,t)}clone(){let e=new eS(this.url);return e.method=this.method,e.headers=new ew(this.headers.toJSON()),e.options=this.options,e.payload=this.payload,e.urlExpanded=this.urlExpanded,e.retryOptions=this.retryOptions,e}constructor(e,t){this.url=e,this.method=(null==t?void 0:t.method)||"GET",this.headers=new ew(null==t?void 0:t.headers),this.options=(null==t?void 0:t.options)||{},this.payload=null==t?void 0:t.payload,this.urlExpanded=(null==t?void 0:t.urlExpanded)||!1,this.retryOptions=(null==t?void 0:t.retryOptions)||{}}}(p=A||(A={})).EVENT_ACCESS_TOKEN="access_token",p.EVENT_CONNECTION_ID="connection_id",p.EVENT_CONNECTION_OFFLINE="connection_offline",p.EVENT_CONNECTION_ONLINE="connection_online",p.EVENT_ENDPOINTS_RESOLVED="endpoints_resolved";class eN extends I.vp{_onAddConnectionIdListener(e,t){t.preventDefault();let n=t.data.listener,r=e=>{let t=this.createEvent(A.EVENT_CONNECTION_ID,e.data);n.call(this,t)};n.$proxy_wrapper=r,e(g.CONNECTION_ID,r,t.data.options)}_onRemoveConnectionIdListener(e,t){t.preventDefault();let n=t.data.listener;n.$proxy_wrapper&&e(g.CONNECTION_ID,n.$proxy_wrapper,t.data.options)}removeAllListeners(){return this}constructor(e,t){super(),this.EVENT_ACCESS_TOKEN=A.EVENT_ACCESS_TOKEN,this.EVENT_CONNECTION_ID=A.EVENT_CONNECTION_ID,this.EVENT_CONNECTION_OFFLINE=A.EVENT_CONNECTION_OFFLINE,this.EVENT_CONNECTION_ONLINE=A.EVENT_CONNECTION_ONLINE,this.EVENT_ENDPOINTS_RESOLVED=A.EVENT_ENDPOINTS_RESOLVED,this.StatusCode=N,this.StatusFamily=R,this.getConnectionId=e.getConnectionId.bind(e),this.getEndpoints=e.getEndpoints.bind(e),this.getInitTime=e.getInitTime.bind(e),this.getLastToken=e.getLastToken.bind(e),this.matchMessages=e.matchMessages.bind(e),this.unmatchMessages=e.unmatchMessages.bind(e),this.handlePushRequests=e.handlePushRequests.bind(e),this.unhandlePushRequests=e.unhandlePushRequests.bind(e),this.hasPlugin=e.hasPlugin.bind(e),this.getPluginAPI=e.getPluginAPI.bind(e);let n=e.request.bind(e);(null==t?void 0:t.requestOptions)?this.request=(e,r)=>r?n(e,Object.assign(Object.assign(Object.assign({},null==t?void 0:t.requestOptions),r),{metadata:Object.assign(Object.assign({},t.requestOptions.metadata),null==r?void 0:r.metadata),retry:Object.assign(Object.assign({},t.requestOptions.retry),null==r?void 0:r.retry)})):n(e,t.requestOptions):this.request=n,this.proxyEmit(e,g.ACCESS_TOKEN,A.EVENT_ACCESS_TOKEN),this.proxyEmit(e,g.CONNECTION_OFFLINE,A.EVENT_CONNECTION_OFFLINE),this.proxyEmit(e,g.CONNECTION_ONLINE,A.EVENT_CONNECTION_ONLINE),this.proxyEmit(e,g.ENDPOINTS_RESOLVED,A.EVENT_ENDPOINTS_RESOLVED),this.onAddListener(A.EVENT_CONNECTION_ID,this._onAddConnectionIdListener.bind(this,e.on.bind(e))),this.onRemoveListener(A.EVENT_CONNECTION_ID,this._onRemoveConnectionIdListener.bind(this,e.removeListener.bind(e)))}}class eR{static create(){return new eR}start(){if(null!==this._startTime)throw Error("Measurement is already in progress.");this._startTime=Date.now()}end(){if(null===this._startTime||null!==this._endTime)throw Error("Measurement is not in progress.");this._endTime=Date.now()}getMetrics(){if(null===this._startTime||null===this._endTime)throw Error("Measurement is not done.");return{start_time:this._startTime,end_time:this._endTime}}constructor(){this._startTime=null,this._endTime=null}}let eA=ec("transport.transport"),eC=/^(?:https?:\/\/)?@([^/]+)\//,eP=/^(ws|http)s?:\/\/.*[^/]$/,eI=/^([a-zA-Z]{3}, \d{1,2} [a-zA-Z]{3} (\d{1,2}.){3})/,eD={xhr:!0,fetch:!0};function ex(e,t){let n="access_token=".concat(encodeURIComponent(t)),[r,i]=e.split("?");if(!i)return"".concat(r,"?").concat(n);let o=i.replace(/access_token=[^&]*(&|$)/,"".concat(n,"$1"));return o!==i?"".concat(r,"?").concat(o):"".concat(r,"?").concat(n,"&").concat(i)}class ek extends I.vp{static create(e){return new ek(e)}_init(){this.onAddListener(g.CONNECTED,this._onAddListener.bind(this,"connected")),this.onAddListener(g.AUTHENTICATED,this._onAddListener.bind(this,"authenticated")),this.onAddListener(g.CONNECTION_ID,this._onAddListener.bind(this,"connection_id")),this.onRemoveListener(g.CONNECTED,this._onRemoveListener.bind(this,"connected")),this.onRemoveListener(g.AUTHENTICATED,this._onRemoveListener.bind(this,"authenticated")),this.onRemoveListener(g.CONNECTION_ID,this._onRemoveListener.bind(this,"connection_id")),this._pluginMediator.onAddListener(y.TRANSPORT_CONNECT,this._onAddListener.bind(this,"transport_connect")),this._pluginMediator.onAddListener(y.TRANSPORT_AUTHENTICATE,this._onAddListener.bind(this,"transport_authenticate")),this._pluginMediator.onRemoveListener(y.TRANSPORT_CONNECT,this._onRemoveListener.bind(this,"transport_connect")),this._pluginMediator.onRemoveListener(y.TRANSPORT_AUTHENTICATE,this._onRemoveListener.bind(this,"transport_authenticate")),"fetch"!==this._requestMode||this._Fetch&&this._Fetch.isSupported()||(eA.warn('Default "fetch" request mode unavailable; Fallback to "xhr"'),this._requestMode="xhr");let e=this._pluginMediator;e.addListeners({[y.PLUGIN_DISCONNECTED]:this._onPluginDisconnected.bind(this)}),this.proxyEmit(e,y.PLUGIN_CONNECTION_INFO,g.CONNECTION_ID),this._disableAutoLogout||this.matchMessages("client:logout",()=>this._onLogout()),this._connectionObserver.on(g.CONNECTION_ONLINE,()=>this._onOnline()),this._connectionObserver.on(g.CONNECTION_OFFLINE,()=>this._onOffline()),this._connectionObserver.on(g.WINDOW_BEFORE_UNLOAD,()=>this._disconnect(v.WINDOW_BEFORE_UNLOAD))}_runStateAwareQueues(e,t){let n=this._stateAwareListeners[e].splice(0);try{for(let e of n)e.call(this,t)}finally{this._stateAwareRunners[e]=null}}_connect(){return 1&this._stateMask?Promise.resolve(!1):this._connectionObserver.isOnline()?this._performConnect():new Promise((e,t)=>{eA.info("Waiting to go online before connecting"),this._connectionObserver.once(g.CONNECTION_ONLINE,()=>{this._performConnect().then(e,t)})})}_performConnect(){return new Promise(e=>{eA.info("Resolving endpoints"),e(this._endpointsProvider(this.toPublic()))}).catch(e=>{let t=(null==e?void 0:e.code)?e:new eO(_.TRANSPORT_ENDPOINTS_PROVIDER_ERROR,(null==e?void 0:e.message)||"Endpoints provider error",null!=e?e:null);return eA.error("Endpoints resolution failed",t),Promise.reject(t)}).then(this._connectToEndpoints).then(this._onConnected).catch(e=>{let t=e&&e.error?e.error:e;return this.emit(g.CONNECTION_FAILED,{error:t}),eA.error("Connection failed",t),Promise.reject(t)})}_connectToEndpoints(e){let t={webgate:"",webapi:""};for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r&&(eP.test(r)&&(r+="/"),t[n]=r)}this._endpoints=t,this.emit(g.ENDPOINTS_RESOLVED,{endpoints:Object.assign({},t)}),eA.info("Endpoints resolved");let n=[],r=e=>{n.push(e)};return eA.info("Waiting for plugins to connect"),new Promise((e,i)=>{this._pluginMediator.emitAndWait(y.TRANSPORT_CONNECT,{endpoints:Object.assign({},t),awaitPromise:r},()=>{Promise.all(n).then(()=>e(!0),i)})})}_refreshToken(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._refreshTokenPromise)return this._refreshTokenPromise;if(!e&&this._lastToken&&this._lastTokenExpiry>Date.now())return Promise.resolve(this._lastToken);this._refreshTokenPromise=new Promise(e=>{eA.info("Requesting token from provider"),e(this._tokenProvider())}).then(this._parseProvidedToken);let t=()=>{this._refreshTokenPromise=null};return this._refreshTokenPromise.then(t,t),this._refreshTokenPromise.catch(e=>{let t=(null==e?void 0:e.code)?e:new eO(_.TRANSPORT_TOKEN_PROVIDER_ERROR,(null==e?void 0:e.message)||"Token provider error",e);return this.emit(g.TOKEN_PROVIDER_ERROR,{error:t}),eA.error("Token provider error",t),Promise.reject(t)})}_parseProvidedToken(e){let t;let n=3540;if(Array.isArray(e)?(t=e[0],"number"==typeof(n="string"==typeof e[1]?parseInt(e[1],10):e[1])&&isFinite(n)||(n=3540)):t=e,!t)throw this._lastToken=null,this._lastTokenExpiry=0,eA.error("No token was provided"),new eO(_.TRANSPORT_INVALID_TOKEN,'Token provider returned an invalid token, "'.concat(t,'"'));if(this._lastToken===t){eA.error("TokenProvider returned same token twice.");let e=new eO(_.TRANSPORT_STALE_TOKEN,"Token provider returned the same token twice.");throw this._lastToken=null,this._lastTokenExpiry=0,e}return this._lastToken=t,this._lastTokenExpiry=Date.now()+1e3*n,this.emit(g.ACCESS_TOKEN,{token:t}),eA.info("Access token set"),t}_authenticateWithToken(e){if(!this._endpoints)return Promise.resolve(!0);let t=[],n=e=>{t.push(e)};return eA.info("Waiting for plugins to authenticate"),new Promise((r,i)=>{this._pluginMediator.emitAndWait(y.TRANSPORT_AUTHENTICATE,{token:e,awaitPromise:n},()=>{Promise.all(t).then(()=>r(!0),i)})})}_authenticate(e){if(!(1&this._stateMask))return Promise.reject(new eO(_.TRANSPORT_INVALID_STATE,"Cannot authenticate disconnected transport."));if(this._authenticationPromise)return this._authenticationPromise;let t=eR.create();return t.start(),this._authenticationPromise=eT.init(()=>(eA.info("Authenticating"),this._refreshToken(e).then(this._authenticateWithToken)),{curve:"exponential",maxRetries:2,baseTime:500,retryPredicate:e=>(eA.warn("Retrying authentication due to failure",e),!0)}).then(()=>this._onAuthenticated(t)).catch(e=>this._onAuthenticationFailed(e,t)),this._authenticationPromise}_performDisconnect(e){return this._stateMask=0,e&&(this.emit(g.DISCONNECTED,{reason:e}),eA.info("Disconnected")),eA.info("Waiting for plugins to disconnect."),this._pluginMediator.emitSync(y.TRANSPORT_DISCONNECT,{supressed:!e}),!0}_createReconnector(){let e=!1;return()=>(this._isReconnecting=!0,this.emit(g.RECONNECTING,null),eA.info("Reconnecting"),this._performDisconnect(),this._connect().then(()=>!!this._authenticateCalled&&this._authenticate(e).then(t=>(e=!1,t),t=>(e=!0,Promise.reject(t)))).then(()=>(this._isReconnecting=!1,this.emit(g.RECONNECTED,null),eA.info("Reconnected"),!0)))}_tryToReconnect(){if(this._isReconnecting){eA.warn("Reconnection triggered while already reconnecting");return}this._stateMask=0,eT.init(this._createReconnector(),{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries,retryPredicate:e=>(eA.warn("Retrying reconnection due to failure",e),!0)}).catch(()=>{this._stateMask=0,this._isReconnecting=!1,this.emit(g.DISCONNECTED,{reason:v.RECONNECTION_FAILED}),eA.info("Disconnected: reconnection failed")})}_sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.signal;return(null==r?void 0:r.aborted)?Promise.reject(H(e,r)):this._processRequestArgs(e,t).then(t=>(null==r?void 0:r.aborted)?Promise.reject(H(e,r)):t.options.forget?this._sendFireAndForgetRequest(t):this._sendRetriedRequest(t,n))}_processRequestArgs(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===(t=r.signal)||void 0===t?void 0:t.aborted)return Promise.reject(H(e,r.signal));let i=e,o=!1,s=Object.assign(Object.assign({},r),{forcePolyfill:!!(r.responseType&&r.responseType in this._forcePolyfillTypes),requestMode:null!==(n=null==r?void 0:r.requestMode)&&void 0!==n?n:this._requestMode,connectionObserver:this._connectionObserver,metadata:(null==r?void 0:r.metadata)||null});if((null==r?void 0:r.signal)&&!$()&&("fetch"===r.requestMode?eA.warn("Request with `{requestMode: fetch}` but no native AbortController."):s.requestMode="xhr"),eC.test(i)){o=!0;try{i=this._tryExpandSpecialURL(i)}catch(e){return Promise.reject(e)}"authorize"in s||(s.authorize=!0,s.autoAuthorized=!0)}let a=Object.assign(Object.assign({maxRetries:2,curve:"exponential"},r.retry),{retryPredicate:e=>!(e instanceof L)});return Promise.resolve(eS.create(i,{method:r.method,headers:r.headers,payload:r.payload,options:s,urlExpanded:o,retryOptions:a}))}_tryExpandSpecialURL(e){let t=this._endpoints;return e.replace(eC,(e,n)=>{if(!t.hasOwnProperty(n))throw TypeError("Cannot replace endpoint @".concat(n,": endpoint not defined."));return t[n]})}_sendFireAndForgetRequest(e){var t;let{url:n,method:r,options:i}=e;if(null===(t=i.signal)||void 0===t?void 0:t.aborted)return Promise.reject(H(n,i.signal));if("GET"!==r&&"POST"!==r)return Promise.reject(new eO(_.TRANSPORT_UNSUPPORTED_OPTION,"Option 'forget' cannot be used for ".concat(r," request.")));if(!i.autoAuthorized&&i.authorize)return Promise.reject(new eO(_.TRANSPORT_UNSUPPORTED_OPTION,"Option 'forget' cannot be used for authorized request."));if(i.requestMode="xhr",i.authorize=!1,i.ignoreResponseBody=!0,"GET"===r){if("function"==typeof Image)new Image().src=n;else if("function"==typeof fetch){let e={mode:"no-cors"};i.signal&&$()&&(e.signal=i.signal),fetch(n,e).catch(()=>{})}else this._sendRetriedRequest(e,{}).catch(()=>{})}else if("POST"===r){if("undefined"!=typeof navigator&&(null==navigator?void 0:navigator.sendBeacon)){let t=e.headers.get("content-type");navigator.sendBeacon(e.url,"string"==typeof e.payload&&t?new Blob([e.payload],{type:t}):e.payload)}else if("function"==typeof fetch){let t=e.headers.get("content-type"),r={method:"POST",body:e.payload,headers:t?{"content-type":t}:void 0};i.signal&&$()&&(r.signal=i.signal),fetch(n,r).catch(()=>{})}else this._sendRetriedRequest(e,{}).catch(()=>{})}return Promise.resolve(new ep(n,0))}_sendRetriedRequest(e,t){let n=e.retryOptions,r=e.options.signal,i=!1,o=()=>(null==r?void 0:r.aborted)?Promise.reject(H(e.url,r)):this._setAuthHeader(e,i),s=this._connectionObserver,a=new eT(()=>(s.isOnline()||e.options.allowOffline?o():new Promise((e,t)=>{s.once(g.CONNECTION_ONLINE,()=>{o().then(e,t)})})).then(()=>{let n;if(null==r?void 0:r.aborted)return Promise.reject(H(e.url,r));if(this._pluginMediator.emitSync(y.TRANSPORT_BEFORE_SEND_REQUEST,{request:e,context:t}),"fetch"===e.options.requestMode&&this._Fetch&&this._Fetch.isSupported())n=this._Fetch.request(e);else if(this._XHR)n=this._XHR.request(e);else throw Error("No available request mechanisms.");return n}).then(t=>{if(null==r?void 0:r.aborted)return Promise.reject(H(e.url,r));let o=null;if(t.headers&&(o=t.headers.get("Retry-After")),t.status===N.UNAUTHORIZED&&!e.options.ignoreUnauthorized)return i=!0,Promise.reject(t);if("function"==typeof(null==n?void 0:n.condition)&&(n.condition(t,R)||o)){if(null!==o){if(eI.test(o))t.retryAfter=new Date(o).getTime()-Date.now();else{let e=parseInt(o,10);e>0&&(t.retryAfter=1e3*e)}}return Promise.reject(t)}return Promise.resolve(t)}),n);return a.start().catch(this._handleRetriedRequestError).then(n=>(null==r?void 0:r.aborted)?Promise.reject(H(e.url,r)):(n.metadata=e.options.metadata,n.retries=n.retries||{count:0},n.retries.count=a.getRetryCount(),this._pluginMediator.emitSync(y.TRANSPORT_BEFORE_RETURN_RESPONSE,{context:t,response:n,request:e}),e.options.rejectNotOk&&!n.ok)?Promise.reject(n):n)}_setAuthHeader(e,t){if(!e.options.authorize)return Promise.resolve(e);let n=()=>this._refreshToken(t).then(t=>(e.headers.set("Authorization","Bearer ".concat(t)),e));return 4&this._stateMask?n():new Promise((e,t)=>{eA.info("Auth header setting awaiting authentication."),this.once(g.AUTHENTICATED,()=>{eA.info("Auth header set after authentication."),n().then(e,t)})})}_handleRetriedRequestError(e){return e instanceof ep?Promise.resolve(e):Promise.reject(e)}_onAddListener(e,t){let n;let r=t.data.options;if(r.ignoreCurrentState)return;switch(e){case"connected":if(!this.isConnected())return;n=Promise.resolve(this.createEvent(g.CONNECTED,null));break;case"authenticated":{if(!this.isAuthenticated())return;let e=this._stateAwareOperationMetrics.authenticated;n=Promise.resolve(this.createEvent(g.AUTHENTICATED,{timing:e}));break}case"connection_id":{let e=this.getPluginAPI("dealer");if(!e||!e.hasConnectionInfo())return;n=e.getConnectionInfo().then(e=>this.createEvent(g.CONNECTION_ID,e));break}case"transport_connect":if(!this.isConnected()||!this._endpoints)return;n=Promise.resolve(this._pluginMediator.createEvent(y.TRANSPORT_CONNECT,{endpoints:Object.assign({},this._endpoints),awaitPromise:e=>{}}));break;case"transport_authenticate":if(!this.isAuthenticated())return;n=this._refreshToken().then(e=>this._pluginMediator.createEvent(y.TRANSPORT_AUTHENTICATE,{token:e,awaitPromise:e=>{}}));break;default:return}let i=t.data.listener;this._stateAwareListeners[e].push(i);let o=this._stateAwareRunners;!o[e]&&(o[e]=n.then(this._runStateAwareQueues.bind(this,e)),r.once&&t.preventDefault())}_onRemoveListener(e,t){let n=t.data.options;if(n.ignoreCurrentState||n.once)return;let r=t.data.listener,i=this._stateAwareListeners[e].indexOf(r);-1!==i&&this._stateAwareListeners[e].splice(i,1)}_getQuickDisconnectTimeout(){return this._counter.getTime(this._quickDisconnectCount)}_onPluginDisconnected(e){let t=Date.now(),n=t-this._lastDisconnect;if(this._performDisconnect(),e.data.code===w.CLOSE){eA.info('Plugin "'.concat(e.data.plugin,'" explicitly disconnected')),this._quickDisconnectCount=0;return}this._connectionObserver.isOnline()&&(eA.info('Plugin "'.concat(e.data.plugin,'" unexpectedly disconnect; trying to reconnect')),n<5e3?(this._reconnectTimeout&&clearTimeout(this._reconnectTimeout),this._quickDisconnectCount++,this.emit(g.SHORT_SESSION_DISCONNECTED,{disconnectCount:this._quickDisconnectCount,sessionLength:n}),this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),this._getQuickDisconnectTimeout())):(this._quickDisconnectCount=0,this._lastDisconnect=t,this._tryToReconnect()))}_onOnline(){this.emit(g.CONNECTION_ONLINE,null),eA.info("ConnectionObserver online"),this._connectCalled&&this._tryToReconnect()}_onOffline(){this.emit(g.CONNECTION_OFFLINE,null),eA.info("ConnectioObserver offline"),this._performDisconnect()}_onConnected(){return this._stateMask|=1,this.emit(g.CONNECTED,null),eA.info("Connected"),Promise.resolve(!0)}_onAuthenticated(e){e.end(),clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=4,this._initTime=Date.now();let t=e.getMetrics();return this.emit(g.AUTHENTICATED,{timing:t}),this._stateAwareOperationMetrics.authenticated=t,eA.info("Authenticated"),Promise.resolve(!0)}_onAuthenticationFailed(e,t){t.end();let n=e&&e.error?e.error:e;this._authenticationPromise=null,this._stateMask&=-5;let r={error:n,timing:t.getMetrics()};return this.emit(g.AUTHENTICATION_FAILED,r),this._pluginMediator.emit(y.TRANSPORT_AUTHENTICATE_FAILED,r),eA.info("Authentication failed",n),Promise.reject(n)}_onLogout(){let e=()=>{this._lastToken=null,this._lastTokenExpiry=0,this.emit(g.LOGGED_OUT,null)};this._disconnect(v.LOG_OUT).then(e,e)}_disconnect(e){if(!this._connectCalled)return Promise.resolve(!1);this._connectCalled=!1,this._authenticateCalled=!1;let t=this.isConnected()?g.BEFORE_ONLINE_DISCONNECT:g.BEFORE_OFFLINE_DISCONNECT,n=[];return this.emitSync(t,{awaitPromise:e=>{n.push(e.catch(()=>{}))}}),Promise.all(n).then(()=>this._performDisconnect(e))}isConnected(){return!!(1&this._stateMask)}isAuthenticated(){return!!(4&this._stateMask)}isReconnecting(){return this._isReconnecting}isOnline(){return this._connectionObserver.isOnline()}connect(){return this._connectCalled=!0,this._connect()}authenticate(){return this._authenticateCalled=!0,this._authenticate(!0)}disconnect(){return this._disconnect(v.EXPLICIT)}forceDisconnect(){return this._connectCalled?(this._connectCalled=!1,this._authenticateCalled=!1,this._performDisconnect(v.EXPLICIT),Promise.resolve(!0)):Promise.resolve(!1)}forceTokenRefresh(){return this._refreshToken(!0).then(()=>!0)}getInitTime(){return this._initTime}getEndpoints(){return this._endpoints?Object.assign({},this._endpoints):null}getLastToken(){return this._lastToken}toPublic(e){return new eN(this,e)}hasOwnerRef(e){return this._ownerRef===e}appendTokenQuery(e){return this._refreshToken().then(t=>ex(e,t))}appendLastTokenQuery(e){return this._lastToken?ex(e,this._lastToken):e}matchMessages(e,t,n){if(!e)throw TypeError('Message "matcher" cannot be null.');if("function"!=typeof t)throw TypeError("Message callback cannot be null.");let r=r=>{let i=r.data.message;i.uri&&i.uri.match(e)&&(!n||n===r.data.plugin)&&t(i)};r.__matchMessagesExp=e,r.__matchMessagesPlugin=n,t.__matchMessagesWrapper=r,this._pluginMediator.on(y.PLUGIN_MESSAGE,r)}unmatchMessages(e,t,n){if("function"!=typeof t)throw TypeError("Message callback cannot be null.");let r=t.__matchMessagesWrapper;return!!r&&r.__matchMessagesExp===e&&r.__matchMessagesPlugin===n&&(this._pluginMediator.removeListener(y.PLUGIN_MESSAGE,r),!0)}handlePushRequests(e,t,n){if(!e)throw TypeError('Push request "matcher" cannot be null.');if("function"!=typeof t)throw TypeError("Push request callback cannot be null.");let r=r=>{let i=r.data.request;i.message_ident&&i.message_ident.match(e)&&(!n||n===r.data.plugin)&&Promise.resolve(t(i)).then(r.data.reply)};r.__matchRequestExp=e,r.__matchRequestPlugin=n,t.__matchRequestWrapper=r,this._pluginMediator.on(y.PLUGIN_REQUEST,r)}unhandlePushRequests(e,t,n){if("function"!=typeof t)throw TypeError("Push request callback cannot be null.");let r=t.__matchRequestWrapper;return!!r&&r.__matchRequestExp===e&&r.__matchRequestPlugin===n&&(this._pluginMediator.removeListener(y.PLUGIN_REQUEST,r),!0)}request(e,t){var n;let r={uri:e,options:t,context:{}};this._pluginMediator.emitSync(y.TRANSPORT_BEFORE_PROCESS_REQUEST,r);let i=this._sendRequest.bind(this,r.uri,r.options,r.context);return!this._endpoints&&eC.test(r.uri)?(eA.info("Request queued until endpoints resolved",r.uri),new Promise((e,t)=>{this.once(g.ENDPOINTS_RESOLVED,()=>{eA.info("Sending endpoints-queued request",r.uri),i().then(e,t)})})):this._connectionObserver.isOnline()||(null===(n=r.options)||void 0===n?void 0:n.allowOffline)?i():(eA.info("Request queued until online",r.uri),new Promise((e,t)=>{this.once(g.CONNECTION_ONLINE,()=>{eA.info("Sending offline-queued request",r.uri),i().then(e,t)})}))}addPlugin(e,t){let n=e(this,t),r=n.name;if(this._plugins[r])throw TypeError("Plugin is already added.");return n.attach(this,this._pluginMediator),this._plugins[r]=n,r}removePlugin(e){let t=this._plugins[e];return!!t&&(t.detach(this,this._pluginMediator),this._plugins[e]=void 0,!0)}hasPlugin(e){return!!this._plugins[e]}getPluginAPI(e){let t=this._plugins[e];return t&&t.api?t.api:null}getConnectionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dealer",t=this._plugins[e];return t?t.api&&"getConnectionInfo"in t.api?t.api.getConnectionInfo().then(e=>e.id):Promise.reject(TypeError("Plugin ".concat(t," is not a socket plugin."))):Promise.reject(TypeError("Cannot retrieve connection id for plugin ".concat(t,".")))}removeAllListeners(){return this}constructor(e){if(super(),this._plugins={},this._pluginMediator=new I.vp,this._connectCalled=!1,this._authenticateCalled=!1,this._endpoints=null,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=null,this._reconnectTimeout=0,this._isReconnecting=!1,this._initTime=0,this._lastDisconnect=0,this._stateMask=0,this._quickDisconnectCount=0,this._counter=new eE({curve:"exponential",baseTime:5e3,ceiling:15e3}),this._stateAwareListeners={connected:[],authenticated:[],connection_id:[],transport_connect:[],transport_authenticate:[]},this._stateAwareOperationMetrics={authenticated:null},this._stateAwareRunners={connected:null,authenticated:null,connection_id:null,transport_connect:null,transport_authenticate:null},!e)throw TypeError("Argument `options` for Transport cannot be null.");if(!e.providers)throw TypeError("Argument `options.providers` for Transport cannot be null.");this._ownerRef="ownerRef"in e?Object(e.ownerRef):{},this._tokenProvider=e.providers.token,this._endpointsProvider=e.providers.endpoints,this._XHR=e.XHR,this._Fetch=e.Fetch,this._reconnectionRetries=e.reconnectionRetries>=0?e.reconnectionRetries:3,this._requestMode=e.requestMode in eD?e.requestMode:"xhr",this._forcePolyfillTypes=e.forcePolyfillTypes||{},this._disableAutoLogout="disableAutoLogout"in e&&!!e.disableAutoLogout,this._disconnectBeforeUnload=e.disconnectBeforeUnload||!1;let t=e.createConnectionObserver||x.create;this._connectionObserver=t({notifyBeforeUnload:this._disconnectBeforeUnload}),this.authenticate=this.authenticate.bind(this),this._authenticateWithToken=this._authenticateWithToken.bind(this),this._connectToEndpoints=this._connectToEndpoints.bind(this),this._parseProvidedToken=this._parseProvidedToken.bind(this),this._onConnected=this._onConnected.bind(this),this._onAuthenticated=this._onAuthenticated.bind(this),this._onAuthenticationFailed=this._onAuthenticationFailed.bind(this),this._init()}}class eL{_init(e){if(e)for(let t of e.split("\r\n")){let e=t.indexOf(": ");if(e>0){let n=t.substring(0,e).toLowerCase(),r=t.substring(e+2);this._headers[n]=r}}}get(e){return this._headers[e.toLowerCase()]||null}has(e){return this._headers.hasOwnProperty(e.toLowerCase())}constructor(e){this._headers={},this._init(e)}}let ej=ec("transport.http.xhr"),eU=function(){},eM={json:!0,text:!0,document:!0};function eB(){this.onabort=eU,this.onerror=eU,this.onload=eU,this.onloadend=eU}function eF(e,t,n){var r,i;if(null===(r=e.options.signal)||void 0===r?void 0:r.aborted)return;let o=el(),s=this.status,a=new ep(this.responseURL||e.url,s);a.body=null;let u=e.options;if(u.timing&&(a.timing={completed:eh(t,o)}),(null===(i=u.connectionObserver)||void 0===i?void 0:i.isOnline)&&(a.offline=!u.connectionObserver.isOnline()),(u.parseResponseHeaders||s>299)&&(a.headers=new eL(this.getAllResponseHeaders())),!u.ignoreResponseBody&&s!==N.NO_CONTENT){let e=u.responseType||"";if(!u.forcePolyfill&&"response"in this&&e===this.responseType)a.body=this.response;else if("document"===e)a.body=this.responseXML;else if("json"===e)try{a.body=JSON.parse(this.responseText)}catch(e){ej.warn("Could not parse response as JSON:",e),a.body=null}else("text"===e||""===e)&&(a.body=this.responseText)}n(a)}function e$(e,t,n){4===this.readyState?t(new ep(this.responseURL||e,this.status)):n(new k("Request cannot be completed.",_.HTTP_REQUEST_FAILED,this.status,e))}function eq(e){return function(e){let t=e.options.signal;return new Promise((n,r)=>{if(null==t?void 0:t.aborted){r(H(e.url,t));return}let i=new XMLHttpRequest,o=e.url;if(!o){r(TypeError("Request URL cannot be blank."));return}let s=null,a=e.method||"GET",u=e.payload||"";if(u&&"[object ReadableStream]"===Object.prototype.toString.call(u)){r(TypeError("payload is a ReadableStream, which is not supported"));return}a in ef&&!0===ef[a]&&u?s=u:u&&(o+="?".concat(u)),i.open(a,o,!0),i.onerror=e$.bind(i,o,n,r),i.onabort=eB,i.onloadend=eB,i.onprogress=eU;let c=e.options;"include"===c.credentials&&(i.withCredentials=!0);let l=c.responseType;if(l){if(c.forcePolyfill){if(!(l in eM)){r(TypeError('Cannot polyfill responseType "'.concat(l,'"')));return}}else{if(!("responseType"in i)&&!(l in eM)){r(TypeError("Cannot set responseType: not supported in browser."));return}try{i.responseType=l}catch(e){r(TypeError('Unknown responseType "'.concat(l,'".')));return}if(i&&l!==i.responseType&&!(l in eM)){r(TypeError('Unknown responseType "'.concat(l,'".')));return}}}let h=e.headers.count()?e.headers.toJSON():null;if(h){for(let e in h)if(h.hasOwnProperty(e)&&h[e])try{i.setRequestHeader(e,h[e])}catch(e){r(e);return}}t&&t.addEventListener("abort",function e(){t.removeEventListener("abort",e),i.abort(),r(H(o,t))}),i.onload=eF.bind(i,e,el(),n);try{i.send(s)}catch(e){r(e);return}})}(e)}class eG extends Error{constructor(e,t,n=-1){super(t),this.name="XResolveError",this.message=t,this.code=e,this.status=n}}let eH={DEALER:"dealer-g2",WEBGATE:"spclient"},eW={spclient:"spclient.wg.spotify.com",exp:"exp.wg.spotify.com",partners:"partners.wg.spotify.com"};function ez(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={dealer:e.dealer||eH.DEALER,webgate:e.webgate||eH.WEBGATE},n="".concat("https://apresolve.spotify.com/","?type=").concat(t.dealer,"&type=").concat(t.webgate);return function(e){return e.request(n,{forcePolyfill:!0,responseType:"json",retry:{maxRetries:3,curve:"exponential",condition:function(e,t){return e.getStatusFamily()!==t.SUCCESS}},metadata:{noRequestTransform:!0}}).then(e=>{var n,r,i,o,s;let a=e.body,u={dealer:null!==(r=null===(n=null==a?void 0:a[t.dealer])||void 0===n?void 0:n[0])&&void 0!==r?r:"dealer.g2.spotify.com",webgate:null!==(s=null!==(o=null===(i=null==a?void 0:a[t.webgate])||void 0===i?void 0:i[0])&&void 0!==o?o:eW[t.webgate])&&void 0!==s?s:eW.spclient,webapi:"https://api.spotify.com/"};if(!u.dealer||!u.webgate)throw new eG(_.XRESOLVE_INCOMPLETE_RESPONSE,"X-Resolve responded with incomplete results.",e.status);return u}).then(e=>(e.dealer="wss://".concat(e.dealer.replace(/:443$/,"")),e.webgate="https://".concat(e.webgate.replace(/:443$/,"")),e))}}function eV(){return()=>Promise.resolve({webgate:"https://www.spotify.com/api/",webapi:"https://api.spotify.com"})}function eJ(){return()=>Promise.resolve("NOT_A_TOKEN")}function eX(){return{endpoints:eV(),token:eJ()}}let eY="request-transformer";class eQ{_processRequest(e){var t,n;let r=e.data;if((null===(n=null===(t=r.options)||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.noRequestTransform)||this._include&&!this._include(r.uri,r.options))return;this._uriTransformer&&(r.uri=this._uriTransformer(r.uri));let i=this._optionsOverrides;if(i){if(r.options){let e=Object.assign(Object.assign(Object.assign({},r.options),i),{metadata:Object.assign(Object.assign({},r.options.metadata),i.metadata),retry:Object.assign(Object.assign({},r.options.retry),i.retry),headers:Object.assign(Object.assign({},r.options.headers),i.headers)});r.options=e}else r.options=i}}attach(e,t){t.on(y.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest)}detach(e,t){t.removeListener(y.TRANSPORT_BEFORE_PROCESS_REQUEST,this._processRequest)}constructor(e){this.name=eY,this._uriTransformer=e.uriTransformer,this._optionsOverrides=e.optionsOverrides,this._include=e.include,this._processRequest=this._processRequest.bind(this)}}function eK(e,t){return new eQ(t)}function eZ(e){let t=Object.assign({},e);return t.XHR||(t.XHR=P),t.Fetch=C,ek.create(t)}function e0(e){let t=eZ(e);return t.addPlugin(Z,{WebSocket:WebSocket}),t}},6067:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(1752),i=n.n(r);let o=e=>i()().publicRuntimeConfig[e]},8740:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(9374);let{sendMetric:i}=(0,r.createSemanticMetrics)({key:"authn-web",reporter:(0,r.createUniversalReporter)()})},4171:function(e,t,n){"use strict";let r,i,o,s,a;n.r(t),n.d(t,{default:function(){return tA},reportWebVitals:function(){return tR}});var u,c,l,h,f=n(5893),d=n(7294),p=(0,n(1686).vJ)(h||(u=["\n  /*\n    Reset the box-sizing\n\n    Heads up! This reset may cause conflicts with some third-party widgets.\n    For recommendations on resolving such conflicts, see\n    http://getbootstrap.com/getting-started/#third-box-sizing\n  */\n\n  * {\n    box-sizing: border-box;\n  }\n\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  /* Body reset */\n\n  body {\n    margin: 0;\n  }\n\n  body, input, textarea, button {\n    font-family: var(--encore-body-font-stack);\n  }\n\n  html,\n  body {\n    height: 100%;\n  }\n"],c||(c=u.slice(0)),h=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(c)}})))),_=function(){return d.createElement(d.Fragment,null,d.createElement(p,null))};n(3454),n(6395);var g=n(9374),m=n(7544),y=n.n(m),v=n(9008),E=n.n(v),b=n(1163),T=n.n(b),O=n(9841),w=n(6489);let S=e=>(function(e){let t=(0,O.nE)();t&&t(e)})(e);var N=n(6067),R=n(8740),A=n(361);let C=(l=R.s,(e,t={debug:!1})=>{class n extends d.Component{static getInitialProps(t){var r,i,o,s;return r=this,i=void 0,o=void 0,s=function*(){return"undefined"==typeof window&&"/_error"!==t.router.route&&n.startRoute(t.router.asPath),"function"==typeof e.getInitialProps?yield e.getInitialProps(t):yield y().getInitialProps(t)},new(o||(o=Promise))(function(e,t){function n(e){try{u(s.next(e))}catch(e){t(e)}}function a(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof o?r:new o(function(e){e(r)})).then(n,a)}u((s=s.apply(r,i||[])).next())})}static startRoute(e){n.timers[e]=g.Timer.start()}componentDidMount(){T().events.on("routeChangeStart",n.startRoute),T().events.on("routeChangeComplete",this.endRoute)}componentWillUnmount(){T().events.off("routeChangeStart",n.startRoute),T().events.off("routeChangeComplete",this.endRoute),n.timers={}}endRoute(e){let r="undefined"==typeof window?this.props.router:T().router;if(!r){delete n.timers[e];return}let i=r.route;try{let r=n.timers[e];if(!r)return;let o=r.end();delete n.timers[e],t.debug&&(0,A.info)(`withRouteMetrics: Reporting time metrics for url '${e}' (route '${i}'): ${o.milliseconds}ms`),l({metric_type:"timer",what:"route-time-nanos",value:o.nanoseconds,tags:{route:i}})}catch(n){t.debug&&(0,A.warn)(`withRouteMetrics: Failed while reporting time metrics for url '${e}' (route '${i}') due to '${n}'`)}}render(){let{router:t}=this.props;return"undefined"==typeof window&&this.endRoute(t.asPath),d.createElement(e,Object.assign({},this.props))}}return n.timers={},(0,b.withRouter)(n)});var P=n(9424),I=n(1001),D=n(1982),x=n(9163),k=n(4223);let L=[];function j(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function U(e,t,n){if(n[t.name]){k.X&&I.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===L.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),L.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}k.X&&I.kg.log(`Integration installed: ${t.name}`)}let M=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],B=(e={})=>({name:"InboundFilters",processEvent:(t,n,r)=>{var i,o;return((i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:M],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(t)?(k.X&&I.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,D.jH)(t)}`),0):(o=i.ignoreErrors,!t.type&&o&&o.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),n})(t).some(e=>(0,x.U0)(e,o)))?(k.X&&I.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,D.jH)(t)}`),0):t.type||!t.exception||!t.exception.values||0===t.exception.values.length||t.message||t.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)?!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&(0,x.U0)(n,t)}(t,i.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let n=F(e);return!!n&&(0,x.U0)(n,t)}(t,i.denyUrls)?function(e,t){if(!t||!t.length)return!0;let n=F(e);return!n||(0,x.U0)(n,t)}(t,i.allowUrls)||(k.X&&I.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,D.jH)(t)}.
Url: ${F(t)}`),0):(k.X&&I.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,D.jH)(t)}.
Url: ${F(t)}`),0):(k.X&&I.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,D.jH)(t)}`),0):(k.X&&I.kg.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,D.jH)(t)}`),0))?t:null}});function F(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return k.X&&I.kg.error(`Cannot extract url for event ${(0,D.jH)(e)}`),null}}var $=n(7179),q=n(140);let G=new WeakMap,H=()=>({name:"FunctionToString",setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,$.HK)(this),n=G.has((0,q.s3)())&&void 0!==t?t:this;return r.apply(n,e)}}catch(e){}},setup(e){G.set(e,!0)}});var W=n(2283);let z=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var n;if((n=e)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&J(e,t)&&V(e,t))}(t,n)||function(e,t){let n=X(t),r=X(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&J(e,t)&&V(e,t))}(t,n)))return k.X&&I.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function V(e,t){let n=(0,W.Fr)(e),r=(0,W.Fr)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function J(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function X(e){return e.exception&&e.exception.values&&e.exception.values[0]}var Y=n(1525),Q=n(9531);let K=Q.GLOBAL_OBJ;function Z(){if(!("fetch"in K))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function ee(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}let et={},en={};function er(e,t){et[e]=et[e]||[],et[e].push(t)}function ei(e,t){if(!en[e]){en[e]=!0;try{t()}catch(t){Y.X&&I.kg.error(`Error while instrumenting ${e}`,t)}}}function eo(e,t){let n=e&&et[e];if(n)for(let r of n)try{r(t)}catch(t){Y.X&&I.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,W.$P)(r)}
Error:`,t)}}let es=Q.GLOBAL_OBJ,ea=Q.GLOBAL_OBJ;function eu(e){let t="history";er(t,e),ei(t,ec)}function ec(){if(!function(){let e=es.chrome,t=e&&e.app&&e.app.runtime,n="history"in es&&!!es.history.pushState&&!!es.history.replaceState;return!t&&n}())return;let e=ea.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=i,t=String(n);i=t,eo("history",{from:e,to:t})}return e.apply(this,t)}}ea.onpopstate=function(...t){let n=ea.location.href,r=i;if(i=n,eo("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,$.hl)(ea.history,"pushState",t),(0,$.hl)(ea.history,"replaceState",t)}let el=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function eh(e,t=!1){let{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function ef(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var ed=n(6824),ep=n(128),e_=n(3408);function eg(e,t=[]){return[e,t]}function em(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function ey(e){return Q.GLOBAL_OBJ.__SENTRY__&&Q.GLOBAL_OBJ.__SENTRY__.encodePolyfill?Q.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}let ev={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function eE(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}class eb extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var eT=n(6181),eO=n(42),ew=n(5121),eS=n(5808);let eN="Not capturing exception because it's already been captured.";class eR{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?function(e){let t=el.exec(e);if(!t){(0,I.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i="",o="",s="",a=""]=t.slice(1),u="",c=a,l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return ef({host:o,pass:i,path:u,projectId:c,port:s,protocol:n,publicKey:r})}(e):ef(e);if(t&&function(e){if(!Y.X)return!0;let{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(I.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?"http"===r||"https"===r?!(t&&isNaN(parseInt(t,10)))||(I.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(I.kg.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(I.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}(e.dsn):k.X&&I.kg.warn("No DSN provided, client will not send events."),this._dsn){var t,n,r;let i=(t=this._dsn,n=e.tunnel,r=e._metadata?e._metadata.sdk:void 0,n||`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(t)}${t.projectId}/envelope/?${(0,$._j)({sentry_key:t.publicKey,sentry_version:"7",...r&&{sentry_client:`${r.name}/${r.version}`}})}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}}captureException(e,t,n){let r=(0,D.DM)();if((0,D.YO)(e))return k.X&&I.kg.log(eN),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:(0,D.DM)(),...n},o=(0,ed.Le)(e)?e:String(e),s=(0,ed.pt)(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(s.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=(0,D.DM)();if(t&&t.originalException&&(0,D.YO)(t.originalException))return k.X&&I.kg.log(eN),r;let i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){"string"!=typeof e.release?k.X&&I.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,eO.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):(0,ep.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];U(this,e,this._integrations),t||j(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){var i;let o=eE(n),s=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let a=function(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:eh(r)},...i&&{trace:(0,$.Jr)({...i})}}}(e,o,r,t);return delete e.sdkProcessingMetadata,eg(a,[[{type:s},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=function(e,t){let[n,r]=e;return[n,[...r,t]]}(n,function(e){let t="string"==typeof e.data?ey(e.data):e.data;return[(0,$.Jr)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}(e));let r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=function(e,t,n,r){let i=eE(n);return eg({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:eh(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let r="number"==typeof n?n:1,i=`${e}:${t}`;k.X&&I.kg.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(k.X&&I.kg.error("Error while sending envelope:",e),e)):(k.X&&I.kg.error("Transport disabled"),(0,ep.WD)({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&U(e,t,n)}),n}(this,e),j(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,eO.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ep.cW(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,q.aF)()){let i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,eS.R)(i,e,t,n,this,r).then(e=>{if(null===e)return e;let t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:n,spanId:r,parentSpanId:i,dsc:o}=t;e.contexts={trace:(0,$.Jr)({trace_id:n,span_id:r,parent_span_id:i}),...e.contexts};let s=o||(0,ew._l)(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{k.X&&("log"===e.logLevel?I.kg.log(e.message):I.kg.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,o=eC(e),s=eA(e),a=e.type||"error",u=`before send for type \`${a}\``,c=void 0===i?void 0:function(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if("number"!=typeof t||isNaN(t)||t<0||t>1){k.X&&I.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}(i);if(s&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error",e),(0,ep.$2)(new eb(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let l="replay_event"===a?"replay":a,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,h).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new eb("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,ed.J8)(e))return e.then(e=>{if(!(0,ed.PO)(e)&&null!==e)throw new eb(n);return e},e=>{throw new eb(`${t} rejected with ${e}`)});if(!(0,ed.PO)(e)&&null!==e)throw new eb(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(eA(n)&&i)return i(n,r);if(eC(n)){if(n.spans&&s){let t=[];for(let r of n.spans){let n=s(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(o){if(n.spans){let e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(n,r)}}return n}(this,r,n,t),u)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),o){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new eb(`${u} returned \`null\`, will not send event.`,"log")}let i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){let e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let s=r.transaction_info;return o&&s&&r.transaction!==e.transaction&&(r.transaction_info={...s,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof eb)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new eb(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){var e;k.X&&I.kg.log("Flushing outcomes...");let t=this._clearOutcomes();if(0===t.length){k.X&&I.kg.log("No outcomes to send");return}if(!this._dsn){k.X&&I.kg.log("No dsn provided, will not send outcomes");return}k.X&&I.kg.log("Sending outcomes:",t);let n=eg((e=this._options.tunnel&&eh(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:(0,eT.yW)(),discarded_events:t}]]);this.sendEnvelope(n)}}function eA(e){return void 0===e.type}function eC(e){return"transaction"===e.type}var eP=n(2990);function eI(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:eP.J})),version:eP.J}),e._metadata=i}let eD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ex(e,t){let n=eL(e,t),r={type:function(e){let t=e&&e.name;return!t&&eU(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}(t),value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:eU(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function ek(e,t){return{exception:{values:[ex(e,t)]}}}function eL(e,t){let n=t.stacktrace||t.stack||"",r=t&&ej.test(t.message)?1:0,i="number"==typeof t.framesToPop?t.framesToPop:0;try{return e(n,r,i)}catch(e){}return[]}let ej=/Minified React error #\d+;/i;function eU(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function eM(e,t,n,r,i){let o;if((0,ed.VW)(t)&&t.error)return ek(e,t.error);if((0,ed.TX)(t)||(0,ed.fm)(t)){if("stack"in t)o=ek(e,t);else{let i=t.name||((0,ed.TX)(t)?"DOMError":"DOMException"),s=t.message?`${i}: ${t.message}`:i;o=eB(e,s,n,r),(0,D.Db)(o,s)}return"code"in t&&(o.tags={...o.tags,"DOMException.code":`${t.code}`}),o}return(0,ed.VZ)(t)?ek(e,t):((0,ed.PO)(t)||(0,ed.cO)(t)?o=function(e,t,n,r){let i=(0,q.s3)(),o=i&&i.getOptions().normalizeDepth,s=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(t),a={__serialized__:(0,e_.Qy)(t,o)};if(s)return{exception:{values:[ex(e,s)]},extra:a};let u={exception:{values:[{type:(0,ed.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=(0,$.zf)(e),r=t?"promise rejection":"exception";if((0,ed.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,ed.cO)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:r})}]},extra:a};if(n){let t=eL(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}(e,t,n,i):(o=eB(e,t,n,r),(0,D.Db)(o,`${t}`,void 0)),(0,D.EG)(o,{synthetic:!0}),o)}function eB(e,t,n,r){let i={};if(r&&n){let r=eL(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,ed.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let eF=Q.GLOBAL_OBJ,e$=0;function eq(e,t={},n){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t){if("function"==typeof t)return t;return e}if((0,$.HK)(e))return e}catch(t){return e}let r=function(){let n=Array.prototype.slice.call(arguments);try{let r=n.map(e=>eq(e,t));return e.apply(this,r)}catch(e){throw e$++,setTimeout(()=>{e$--}),(0,q.$e)(r=>{r.addEventProcessor(e=>(t.mechanism&&((0,D.Db)(e,void 0,void 0),(0,D.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),(0,P.Tb)(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}(0,$.$Q)(r,e),(0,$.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}class eG extends eR{constructor(e){let t={parentSpanIsAlwaysRootSpan:!0,...e};eI(t,"browser",["browser"],eF.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&eF.document&&eF.document.addEventListener("visibilitychange",()=>{"hidden"===eF.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){let i=eM(e,t,n&&n.syntheticException||void 0,r);return(0,D.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,ep.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){let o=eB(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,ep.WD)(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){eD&&I.kg.warn("SDK not enabled, will not capture user feedback.");return}let t=function(e,{metadata:t,tunnel:n,dsn:r}){return eg({event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:eh(r)}},[[{type:"user_report"},e]])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}function eH(){if(!ea.document)return;let e=eo.bind(null,"dom"),t=eW(e,!0);ea.document.addEventListener("click",t,!1),ea.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=ea[t]&&ea[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,$.hl)(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){let r=eW(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(e){}return t.call(this,n,r,i)}}),(0,$.hl)(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function eW(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;(0,$.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,$.xp)(r,"_sentryId",(0,D.DM)());let i="keypress"===n.type?"input":n.type;!function(e){if(e.type!==s)return!1;try{if(!e.target||e.target._sentryId!==a)return!1}catch(e){}return!0}(n)&&(e({event:n,name:i,global:t}),s=n.type,a=r?r._sentryId:void 0),clearTimeout(o),o=ea.setTimeout(()=>{a=void 0,s=void 0},1e3)}}let ez="__sentry_xhr_v3__";function eV(){if(!ea.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){let r=1e3*(0,eT.ph)(),i=(0,ed.HD)(n[0])?n[0].toUpperCase():void 0,o=function(e){if((0,ed.HD)(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!i||!o)return e.apply(t,n);t[ez]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let s=()=>{let e=t[ez];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}eo("xhr",{endTimestamp:1e3*(0,eT.ph)(),startTimestamp:r,xhr:t})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(s(),e.apply(t,n))}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){let[r,i]=n,o=t[ez];return o&&(0,ed.HD)(r)&&(0,ed.HD)(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){let r=t[ez];return r&&(void 0!==n[0]&&(r.body=n[0]),eo("xhr",{startTimestamp:1e3*(0,eT.ph)(),xhr:t})),e.apply(t,n)}})}function eJ(e,t){let n=(0,q.s3)(),r=(0,q.aF)();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=100}=n.getOptions();if(o<=0)return;let s={timestamp:(0,eT.yW)(),...e},a=i?(0,I.Cf)(()=>i(s,t)):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}function eX(){"console"in Q.GLOBAL_OBJ&&I.RU.forEach(function(e){e in Q.GLOBAL_OBJ.console&&(0,$.hl)(Q.GLOBAL_OBJ.console,e,function(t){return I.LD[e]=t,function(...t){eo("console",{args:t,level:e});let n=I.LD[e];n&&n.apply(Q.GLOBAL_OBJ.console,t)}})})}function eY(e,t){return!!e&&"object"==typeof e&&!!e[t]}function eQ(e){return"string"==typeof e?e:e?eY(e,"url")?e.url:e.toString?e.toString():"":""}var eK=n(1869);let eZ=["fatal","error","warning","log","info","debug"];function e0(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function e1(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let e2=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n;t.console&&function(e){let t="console";er(t,e),ei(t,eX)}(function(t){var n;if((0,q.s3)()!==e)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(n=t.level)?"warning":eZ.includes(n)?n:"log",message:(0,x.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${(0,x.nK)(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}eJ(r,{input:t.args,level:t.level})}),t.dom&&(er("dom",(n=t.dom,function(t){let r,i;if((0,q.s3)()!==e)return;let o="object"==typeof n?n.serializeAttribute:void 0,s="object"==typeof n&&"number"==typeof n.maxStringLength?n.maxStringLength:void 0;s&&s>1024&&(eD&&I.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=1024),"string"==typeof o&&(o=[o]);try{let e=t.event,n=e&&e.target?e.target:e;r=(0,eK.Rt)(n,{keyAttrs:o,maxStringLength:s}),i=(0,eK.iY)(n)}catch(e){r="<unknown>"}if(0===r.length)return;let a={category:`ui.${t.name}`,message:r};i&&(a.data={"ui.component_name":i}),eJ(a,{event:t.event,name:t.name,global:t.global})})),ei("dom",eH)),t.xhr&&(er("xhr",function(t){if((0,q.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[ez];if(!n||!r||!i)return;let{method:o,url:s,status_code:a,body:u}=i,c={xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:r},l=e0(a);eJ({category:"xhr",data:{method:o,url:s,status_code:a},type:"http",level:l},c)}),ei("xhr",eV)),t.fetch&&function(e,t){let n="fetch";er(n,e),ei(n,()=>(function(e,t=!1){(!t||function(){if("string"==typeof EdgeRuntime)return!0;if(!Z())return!1;if(ee(K.fetch))return!0;let e=!1,t=K.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=ee(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Y.X&&I.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())&&(0,$.hl)(Q.GLOBAL_OBJ,"fetch",function(t){return function(...n){let{method:r,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:eQ(t),method:eY(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:eQ(t),method:eY(t,"method")?String(t.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:r,url:i},startTimestamp:1e3*(0,eT.ph)()};e||eo("fetch",{...o});let s=Error().stack;return t.apply(Q.GLOBAL_OBJ,n).then(async t=>(e?e(t):eo("fetch",{...o,endTimestamp:1e3*(0,eT.ph)(),response:t}),t),e=>{throw eo("fetch",{...o,endTimestamp:1e3*(0,eT.ph)(),error:e}),(0,ed.VZ)(e)&&void 0===e.stack&&(e.stack=s,(0,$.xp)(e,"framesToPop",1)),e})}})})(void 0,void 0))}(function(t){if((0,q.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error)eJ({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r});else{let e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r},s=e0(i.status_code);eJ({category:"fetch",data:i,type:"http",level:s},o)}}}),t.history&&eu(function(t){if((0,q.s3)()!==e)return;let n=t.from,r=t.to,i=e1(eF.location.href),o=n?e1(n):void 0,s=e1(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),eJ({category:"navigation",data:{from:n,to:r}})}),t.sentry&&e.on("beforeSendEvent",function(t){(0,q.s3)()===e&&eJ({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,D.jH)(t)},{event:t})})}}},e4=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],e5=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&(0,$.hl)(eF,"setTimeout",e3),t.setInterval&&(0,$.hl)(eF,"setInterval",e3),t.requestAnimationFrame&&(0,$.hl)(eF,"requestAnimationFrame",e6),t.XMLHttpRequest&&"XMLHttpRequest"in eF&&(0,$.hl)(XMLHttpRequest.prototype,"send",e8);let e=t.eventTarget;e&&(Array.isArray(e)?e:e4).forEach(e9)}}};function e3(e){return function(...t){let n=t[0];return t[0]=eq(n,{mechanism:{data:{function:(0,W.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function e6(e){return function(t){return e.apply(this,[eq(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,W.$P)(e)},handled:!1,type:"instrument"}})])}}function e8(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&(0,$.hl)(n,e,function(t){let n={mechanism:{data:{function:e,handler:(0,W.$P)(t)},handled:!1,type:"instrument"}},r=(0,$.HK)(t);return r&&(n.mechanism.data.handler=(0,W.$P)(r)),eq(t,n)})}),e.apply(this,t)}}function e9(e){let t=eF[e]&&eF[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,$.hl)(t,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=eq(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,W.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,eq(r,{mechanism:{data:{function:"addEventListener",handler:(0,W.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}}),(0,$.hl)(t,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}let e7=null;function te(){e7=Q.GLOBAL_OBJ.onerror,Q.GLOBAL_OBJ.onerror=function(e,t,n,r,i){return eo("error",{column:r,error:i,line:n,msg:e,url:t}),!!e7&&!e7.__SENTRY_LOADER__&&e7.apply(this,arguments)},Q.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let tt=null;function tn(){tt=Q.GLOBAL_OBJ.onunhandledrejection,Q.GLOBAL_OBJ.onunhandledrejection=function(e){return eo("unhandledrejection",e),!tt||!!tt.__SENTRY_LOADER__||tt.apply(this,arguments)},Q.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let tr=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){let t="error";er(t,e),ei(t,te)}(t=>{let{stackParser:n,attachStacktrace:r}=to();if((0,q.s3)()!==e||e$>0)return;let{msg:i,url:o,line:s,column:a,error:u}=t,c=function(e,t,n,r){let i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},u=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,h=(0,ed.HD)(t)&&t.length>0?t:(0,eK.l4)();return 0===u.length&&u.push({colno:c,filename:h,function:W.Fi,in_app:!0,lineno:l}),e}(eM(n,u||i,void 0,r,!1),o,s,a);c.level="error",(0,P.eN)(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}),ti("onerror")),t.onunhandledrejection&&(function(e){let t="unhandledrejection";er(t,e),ei(t,tn)}(t=>{let{stackParser:n,attachStacktrace:r}=to();if((0,q.s3)()!==e||e$>0)return;let i=function(e){if((0,ed.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=(0,ed.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:eM(n,i,void 0,r,!0);o.level="error",(0,P.eN)(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}),ti("onunhandledrejection"))}}};function ti(e){eD&&I.kg.log(`Global Handler attached: ${e}`)}function to(){let e=(0,q.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let ts=()=>({name:"HttpContext",preprocessEvent(e){if(!eF.navigator&&!eF.location&&!eF.document)return;let t=e.request&&e.request.url||eF.location&&eF.location.href,{referrer:n}=eF.document||{},{userAgent:r}=eF.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}});function ta(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function tu(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}let tc=(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){let o=i.getOptions();!function(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!(0,ed.V9)(s.originalException,Error))return;let a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=(function e(t,n,r,i,o,s,a,u){if(s.length>=r+1)return s;let c=[...s];if((0,ed.V9)(i[o],Error)){ta(a,u);let s=t(n,i[o]),l=c.length;tu(s,o,l,u),c=e(t,n,r,i[o],o,[s,...c],s,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,s)=>{if((0,ed.V9)(i,Error)){ta(a,u);let l=t(n,i),h=c.length;tu(l,`errors[${s}]`,h,u),c=e(t,n,r,i,o,[l,...c],l,h)}}),c})(e,t,i,s.originalException,r,o.exception.values,a,0).map(e=>(e.value&&(e.value=(0,x.$G)(e.value,n)),e)))}(ex,o.stackParser,o.maxValueLength,n,t,e,r)}}};function tl(e,t,n,r){let i={filename:e,function:"<anonymous>"===t?W.Fi:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let th=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tf=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,td=/\((\S*)(?::(\d+))(?::(\d+))\)/,tp=[30,e=>{let t=th.exec(e);if(t){let[,e,n,r]=t;return tl(e,W.Fi,+n,+r)}let n=tf.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){let e=td.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}let[e,t]=tv(n[1]||W.Fi,n[2]);return tl(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],t_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tm=[50,e=>{let t=t_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=tg.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||W.Fi;return[n,e]=tv(n,e),tl(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],ty=(0,W.pE)(tp,tm),tv=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:W.Fi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tE="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,tb={};function tT(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function tO(e,t=function(e){let t=tb[e];if(t)return t;let n=ea[e];if(ee(n))return tb[e]=n.bind(ea);let r=ea.document;if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){tE&&I.kg.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?tb[e]=n.bind(ea):n}("fetch")){let n=0,r=0;return function(e,t,n=function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,ep.$2)(new eb("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new ep.cW((n,r)=>{let i=t.length;if(!i)return n(!0);let o=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,ep.WD)(e).then(()=>{--i||(clearTimeout(o),n(!0))},r)})})}}}(e.bufferSize||64)){let r={};return{send:function(i){let o=[];if(em(i,(t,n)=>{let i=ev[n];if(function(e,t,n=Date.now()){return(e[t]||e.all||0)>n}(r,i)){let r=tT(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)}),0===o.length)return(0,ep.WD)({});let s=eg(i[0],o),a=t=>{em(s,(n,r)=>{let i=tT(n,r);e.recordDroppedEvent(t,ev[r],i)})};return n.add(()=>t({body:function(e){let[t,n]=e,r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[ey(r),e]:r.push("string"==typeof e?ey(e):e)}for(let e of n){let[t,n]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,e_.Fv)(n))}i(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}(s)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&k.X&&I.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,n,,,o]=e.split(":",5),s=parseInt(t,10),a=(isNaN(s)?60:s)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!o||o.split(";").includes("custom"))&&(i[e]=r+a):i[e]=r+a;else i.all=r+a}else s?i.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof eb)return k.X&&I.kg.error("Skipped sending event because buffer is full."),a("queue_overflow"),(0,ep.WD)({});throw e})},flush:e=>n.drain(e)}}(e,function(i){let o=i.body.length;n+=o,r++;let s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return tb.fetch=void 0,(0,ep.$2)("No fetch implementation available");try{return t(e.url,s).then(e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return tb.fetch=void 0,n-=o,r--,(0,ep.$2)(e)}})}let tw=(0,d.createContext)(void 0);class tS extends d.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){(0,P.Tb)(e)}render(){return(0,f.jsx)(tw.Provider,{value:this.state.error,children:this.props.children})}constructor(...e){super(...e),this.state={error:void 0}}}n(8106),n(9645),n(70),n(7255),(0,N.b)("sentryEnabled")&&function(e){let t={...e};eI(t,"react"),(0,P.v)("react",{version:d.version}),function(e={}){let t=function(e={}){let t={defaultIntegrations:[B(),H(),e5(),e2(),tr(),tc(),z(),ts()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:eF.SENTRY_RELEASE&&eF.SENTRY_RELEASE.id?eF.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(e);if(!t.skipBrowserExtensionCheck&&function(){let e=void 0!==eF.window&&eF;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=eF.location&&eF.location.href||"",o=!!r&&eF===eF.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>i.startsWith(`${e}//`)),s=void 0!==e.nw;return!!r&&!o&&!s}()){(0,I.Cf)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}eD&&!Z()&&I.kg.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."),function(e,t){!0===t.debug&&(k.X?I.kg.enable():(0,I.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,q.nZ)().update(t.initialScope);let n=new e(t);(0,q.nZ)().setClient(n),n.init()}(eG,{...t,stackParser:(0,W.Sq)(t.stackParser||ty),integrations:function(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(e=>{e.isDefaultInstance=!0});let r=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,D.lE)(n(t)):t),i=r.findIndex(e=>"Debug"===e.name);if(i>-1){let[e]=r.splice(i,1);r.push(e)}return r}(t),transport:t.transport||tO}),t.autoSessionTracking&&function(){if(void 0===eF.document){eD&&I.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,P.yj)({ignoreDuration:!0}),(0,P.cg)(),eu(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,P.yj)({ignoreDuration:!0}),(0,P.cg)())})}()}(t)}({allowUrls:["accounts.spotify.com"],dsn:(0,N.b)("sentryDsn"),tracesSampleRate:.1,ignoreErrors:['Blocked a frame with origin "https://accounts.spotify.com" from accessing a cross-origin frame.']}),(0,N.b)("googleAnalyticsEnabled")&&(document.addEventListener("ga4LoadSuccess",()=>{let{sp_t:e}=w.parse(document.cookie);S({spT:e}),function(e,t,n){let r=(0,O.nE)();r&&r("event","page_view",{sp_t:e||null,page_title:t||"",page_location:n||""})}(e,document.title,document.location.toString())}),(0,O.j)());class tN extends y(){render(){let{Component:e,pageProps:t}=this.props;return(0,f.jsxs)(d.Fragment,{children:[(0,f.jsxs)(E(),{children:[(0,f.jsx)("title",{children:"Spotify"}),(0,f.jsx)("link",{rel:"icon",href:"https://www.scdn.co/i/_global/favicon.png"},"icon")]}),(0,f.jsx)(_,{}),(0,f.jsx)(tS,{children:(0,f.jsx)(e,{...t})})]})}}function tR(e){var t,n;(0,R.s)(g.BrowserMetrics.getWebVitalsMetric(e,{route:null!==(n=null===(t=T().router)||void 0===t?void 0:t.route)&&void 0!==n?n:"unknown"}))}var tA=C(tN)},3454:function(){},9645:function(){},8106:function(){},6395:function(){},70:function(){},7255:function(){},9008:function(e,t,n){e.exports=n(3867)},1163:function(e,t,n){e.exports=n(3079)},4155:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],c=!1,l=-1;function h(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(r=u,u=[];++l<t;)r&&r[l].run();l=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},6774:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!a(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},1686:function(e,t,n){"use strict";n.d(t,{LC:function(){return e8},vJ:function(){return t_},iv:function(){return th},ZP:function(){return td},zo:function(){return td}});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var o=n(7294),s=n(6774),a=n.n(s),u="-ms-",c="-moz-",l="-webkit-",h="comm",f="rule",d="decl",p="@keyframes",_=Math.abs,g=String.fromCharCode,m=Object.assign;function y(e,t){return(e=t.exec(e))?e[0]:e}function v(e,t,n){return e.replace(t,n)}function E(e,t,n){return e.indexOf(t,n)}function b(e,t){return 0|e.charCodeAt(t)}function T(e,t,n){return e.slice(t,n)}function O(e){return e.length}function w(e,t){return t.push(e),e}function S(e,t){return e.filter(function(e){return!y(e,t)})}var N=1,R=1,A=0,C=0,P=0,I="";function D(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:N,column:R,length:s,return:"",siblings:a}}function x(e,t){return m(D("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function k(e){for(;e.root;)e=x(e.root,{children:[e]});w(e,e.siblings)}function L(){return P=C<A?b(I,C++):0,R++,10===P&&(R=1,N++),P}function j(){return b(I,C)}function U(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M(e){var t,n;return(t=C-1,n=function e(t){for(;L();)switch(P){case t:return C;case 34:case 39:34!==t&&39!==t&&e(P);break;case 40:41===t&&e(t);break;case 92:L()}return C}(91===e?e+2:40===e?e+1:e),T(I,t,n)).trim()}function B(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function F(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case d:return e.return=e.return||e.value;case h:return"";case p:return e.return=e.value+"{"+B(e.children,r)+"}";case f:if(!O(e.value=e.props.join(",")))return""}return O(n=B(e.children,r))?e.return=e.value+"{"+n+"}":""}function $(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case d:e.return=function e(t,n,r){var i;switch(i=n,45^b(t,0)?(((i<<2^b(t,0))<<2^b(t,1))<<2^b(t,2))<<2^b(t,3):0){case 5103:return l+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+t+t;case 4789:return c+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return l+t+c+t+u+t+t;case 5936:switch(b(t,n+11)){case 114:return l+t+u+v(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return l+t+u+v(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return l+t+u+v(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return l+t+u+t+t;case 6165:return l+t+u+"flex-"+t+t;case 5187:return l+t+v(t,/(\w+).+(:[^]+)/,l+"box-$1$2"+u+"flex-$1$2")+t;case 5443:return l+t+u+"flex-item-"+v(t,/flex-|-self/g,"")+(y(t,/flex-|baseline/)?"":u+"grid-row-"+v(t,/flex-|-self/g,""))+t;case 4675:return l+t+u+"flex-line-pack"+v(t,/align-content|flex-|-self/g,"")+t;case 5548:return l+t+u+v(t,"shrink","negative")+t;case 5292:return l+t+u+v(t,"basis","preferred-size")+t;case 6060:return l+"box-"+v(t,"-grow","")+l+t+u+v(t,"grow","positive")+t;case 4554:return l+v(t,/([^-])(transform)/g,"$1"+l+"$2")+t;case 6187:return v(v(v(t,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),t,"")+t;case 5495:case 3959:return v(t,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return v(v(t,/(.+:)(flex-)?(.*)/,l+"box-pack:$3"+u+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+t+t;case 4200:if(!y(t,/flex-|baseline/))return u+"grid-column-align"+T(t,n)+t;break;case 2592:case 3360:return u+v(t,"template-","")+t;case 4384:case 3616:if(r&&r.some(function(e,t){return n=t,y(e.props,/grid-\w+-end/)}))return~E(t+(r=r[n].value),"span",0)?t:u+v(t,"-start","")+t+u+"grid-row-span:"+(~E(r,"span",0)?y(r,/\d+/):+y(r,/\d+/)-+y(t,/\d+/))+";";return u+v(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(e){return y(e.props,/grid-\w+-start/)})?t:u+v(v(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return v(t,/(.+)-inline(.+)/,l+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(O(t)-1-n>6)switch(b(t,n+1)){case 109:if(45!==b(t,n+4))break;case 102:return v(t,/(.+:)(.+)-([^]+)/,"$1"+l+"$2-$3$1"+c+(108==b(t,n+3)?"$3":"$2-$3"))+t;case 115:return~E(t,"stretch",0)?e(v(t,"stretch","fill-available"),n,r)+t:t}break;case 5152:case 5920:return v(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,n,r,i,o,s,a){return u+n+":"+r+a+(i?u+n+"-span:"+(o?s:+s-+r)+a:"")+t});case 4949:if(121===b(t,n+6))return v(t,":",":"+l)+t;break;case 6444:switch(b(t,45===b(t,14)?18:11)){case 120:return v(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+l+(45===b(t,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+u+"$2box$3")+t;case 100:return v(t,":",":"+u)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return v(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,n);return;case p:return B([x(e,{value:v(e.value,"@","@"+l)})],r);case f:if(e.length){var i,o;return i=n=e.props,o=function(t){switch(y(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":k(x(e,{props:[v(t,/:(read-\w+)/,":"+c+"$1")]})),k(x(e,{props:[t]})),m(e,{props:S(n,r)});break;case"::placeholder":k(x(e,{props:[v(t,/:(plac\w+)/,":"+l+"input-$1")]})),k(x(e,{props:[v(t,/:(plac\w+)/,":"+c+"$1")]})),k(x(e,{props:[v(t,/:(plac\w+)/,u+"input-$1")]})),k(x(e,{props:[t]})),m(e,{props:S(n,r)})}return""},i.map(o).join("")}}}function q(e,t,n,r,i,o,s,a,u,c,l,h){for(var d=i-1,p=0===i?o:[""],g=p.length,m=0,y=0,E=0;m<r;++m)for(var b=0,O=T(e,d+1,d=_(y=s[m])),w=e;b<g;++b)(w=(y>0?p[b]+" "+O:v(O,/&\f/g,p[b])).trim())&&(u[E++]=w);return D(e,t,n,0===i?f:a,u,c,l,h)}function G(e,t,n,r,i){return D(e,t,n,d,T(e,0,r),T(e,r+1,-1),r,i)}var H={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},W=n(4155),z=void 0!==W&&void 0!==W.env&&(W.env.REACT_APP_SC_ATTR||W.env.SC_ATTR)||"data-styled",V="active",J="data-styled-version",X="6.1.19",Y="/*!sc*/\n",Q="undefined"!=typeof window&&"undefined"!=typeof document,K=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==W&&void 0!==W.env&&void 0!==W.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==W.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==W.env.REACT_APP_SC_DISABLE_SPEEDY&&W.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==W&&void 0!==W.env&&void 0!==W.env.SC_DISABLE_SPEEDY&&""!==W.env.SC_DISABLE_SPEEDY&&"false"!==W.env.SC_DISABLE_SPEEDY&&W.env.SC_DISABLE_SPEEDY),Z={},ee=Object.freeze([]),et=Object.freeze({});function en(e,t,n){return void 0===n&&(n=et),e.theme!==n.theme&&e.theme||t||n.theme}var er=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ei=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eo=/(^-|-$)/g;function es(e){return e.replace(ei,"-").replace(eo,"")}var ea=/(a)(d)/gi,eu=function(e){return String.fromCharCode(e+(e>25?39:97))};function ec(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=eu(t%52)+n;return(eu(t%52)+n).replace(ea,"$1-$2")}var el,eh=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ef=function(e){return eh(5381,e)};function ed(e){return"string"==typeof e}var ep="function"==typeof Symbol&&Symbol.for,e_=ep?Symbol.for("react.memo"):60115,eg=ep?Symbol.for("react.forward_ref"):60112,em={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ey={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ev={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eE=((el={})[eg]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},el[e_]=ev,el);function eb(e){return("type"in e&&e.type.$$typeof)===e_?ev:"$$typeof"in e?eE[e.$$typeof]:em}var eT=Object.defineProperty,eO=Object.getOwnPropertyNames,ew=Object.getOwnPropertySymbols,eS=Object.getOwnPropertyDescriptor,eN=Object.getPrototypeOf,eR=Object.prototype;function eA(e){return"function"==typeof e}function eC(e){return"object"==typeof e&&"styledComponentId"in e}function eP(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function eI(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function eD(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ex(e,t){Object.defineProperty(e,"toString",{value:t})}function ek(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var eL=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw ek(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=(o=0,t.length);o<a;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(Y);return t},e}(),ej=new Map,eU=new Map,eM=1,eB=function(e){if(ej.has(e))return ej.get(e);for(;eU.has(eM);)eM++;var t=eM++;return ej.set(e,t),eU.set(t,e),t},eF=function(e,t){eM=t+1,ej.set(e,t),eU.set(t,e)},e$="style[".concat(z,"][").concat(J,'="').concat(X,'"]'),eq=new RegExp("^".concat(z,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eG=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},eH=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Y),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var u=a.match(eq);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(eF(l,c),eG(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},eW=function(e){for(var t=document.querySelectorAll(e$),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(z)!==V&&(eH(e,i),i.parentNode&&i.parentNode.removeChild(i))}},ez=function(e){var t,r=document.head,i=e||r,o=document.createElement("style"),s=(t=Array.from(i.querySelectorAll("style[".concat(z,"]"))))[t.length-1],a=void 0!==s?s.nextSibling:null;o.setAttribute(z,V),o.setAttribute(J,X);var u=n.nc;return u&&o.setAttribute("nonce",u),i.insertBefore(o,a),o},eV=function(){function e(e){this.element=ez(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw ek(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),eJ=function(){function e(e){this.element=ez(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),eX=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),eY=Q,eQ={isServer:!Q,useCSSOMInjection:!K},eK=function(){function e(e,t,n){void 0===e&&(e=et),void 0===t&&(t={});var i=this;this.options=r(r({},eQ),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Q&&eY&&(eY=!1,eW(this)),ex(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++)(function(n){var i=eU.get(n);if(void 0!==i){var o=e.names.get(i),s=t.getGroup(n);if(void 0!==o&&o.size&&0!==s.length){var a="".concat(z,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==o&&o.forEach(function(e){e.length>0&&(u+="".concat(e,","))}),r+="".concat(s).concat(a,'{content:"').concat(u,'"}').concat(Y)}}})(i);return r}(i)})}return e.registerId=function(e){return eB(e)},e.prototype.rehydrate=function(){!this.server&&Q&&eW(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(r(r({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,n;return this.tag||(this.tag=(t=(e=this.options).useCSSOMInjection,n=e.target,new eL(e.isServer?new eX(n):t?new eV(n):new eJ(n))))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(eB(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(eB(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(eB(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),eZ=/&/g,e0=/^\s*\/\/.*$/gm;function e1(e){var t,n,r,i=void 0===e?et:e,o=i.options,s=void 0===o?et:o,a=i.plugins,u=void 0===a?ee:a,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push(function(e){e.type===f&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(eZ,n).replace(r,c))}),s.prefix&&l.push($),l.push(F);var d=function(e,i,o,a){void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a="&"),t=a,n=i,r=RegExp("\\".concat(n,"\\b"),"g");var u,c,f,d,p,m,y=e.replace(e0,""),S=(p=function e(t,n,r,i,o,s,a,u,c){for(var l,f=0,d=0,p=a,m=0,y=0,S=0,A=1,x=1,k=1,B=0,F="",$=o,H=s,W=i,z=F;x;)switch(S=B,B=L()){case 40:if(108!=S&&58==b(z,p-1)){-1!=E(z+=v(M(B),"&","&\f"),"&\f",_(f?u[f-1]:0))&&(k=-1);break}case 34:case 39:case 91:z+=M(B);break;case 9:case 10:case 13:case 32:z+=function(e){for(;P=j();)if(P<33)L();else break;return U(e)>2||U(P)>3?"":" "}(S);break;case 92:z+=function(e,t){for(var n;--t&&L()&&!(P<48)&&!(P>102)&&(!(P>57)||!(P<65))&&(!(P>70)||!(P<97)););return n=C+(t<6&&32==j()&&32==L()),T(I,e,n)}(C-1,7);continue;case 47:switch(j()){case 42:case 47:w(D(l=function(e,t){for(;L();)if(e+P===57)break;else if(e+P===84&&47===j())break;return"/*"+T(I,t,C-1)+"*"+g(47===e?e:L())}(L(),C),n,r,h,g(P),T(l,2,-2),0,c),c);break;default:z+="/"}break;case 123*A:u[f++]=O(z)*k;case 125*A:case 59:case 0:switch(B){case 0:case 125:x=0;case 59+d:-1==k&&(z=v(z,/\f/g,"")),y>0&&O(z)-p&&w(y>32?G(z+";",i,r,p-1,c):G(v(z," ","")+";",i,r,p-2,c),c);break;case 59:z+=";";default:if(w(W=q(z,n,r,f,d,o,u,F,$=[],H=[],p,s),s),123===B){if(0===d)e(z,n,W,W,$,s,p,u,H);else switch(99===m&&110===b(z,3)?100:m){case 100:case 108:case 109:case 115:e(t,W,W,i&&w(q(t,W,W,0,0,o,u,F,o,$=[],p,H),H),o,H,p,u,i?$:H);break;default:e(z,W,W,W,[""],H,0,u,H)}}}f=d=y=0,A=k=1,F=z="",p=a;break;case 58:p=1+O(z),y=S;default:if(A<1){if(123==B)--A;else if(125==B&&0==A++&&125==(P=C>0?b(I,--C):0,R--,10===P&&(R=1,N--),P))continue}switch(z+=g(B),B*A){case 38:k=d>0?1:(z+="\f",-1);break;case 44:u[f++]=(O(z)-1)*k,k=1;break;case 64:45===j()&&(z+=M(L())),m=j(),d=p=O(F=z+=function(e){for(;!U(j());)L();return T(I,e,C)}(C)),B++;break;case 45:45===S&&2==O(z)&&(A=0)}}return s}("",null,null,null,[""],(d=f=o||i?"".concat(o," ").concat(i," { ").concat(y," }"):y,N=R=1,A=O(I=d),C=0,f=[]),0,[0],f),I="",p);s.namespace&&(S=function e(t,n){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(n," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(n," ")),t.props=t.props.map(function(e){return"".concat(n," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,n)),t})}(S,s.namespace));var x=[];return B(S,(c=(u=l.concat((m=function(e){return x.push(e)},function(e){!e.root&&(e=e.return)&&m(e)}))).length,function(e,t,n,r){for(var i="",o=0;o<c;o++)i+=u[o](e,t,n,r)||"";return i})),x};return d.hash=u.length?u.reduce(function(e,t){return t.name||ek(15),eh(e,t.name)},5381).toString():"",d}var e2=new eK,e4=e1(),e5=o.createContext({shouldForwardProp:void 0,styleSheet:e2,stylis:e4}),e3=(e5.Consumer,o.createContext(void 0));function e6(){return(0,o.useContext)(e5)}function e8(e){var t=(0,o.useState)(e.stylisPlugins),n=t[0],r=t[1],i=e6().styleSheet,s=(0,o.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),u=(0,o.useMemo)(function(){return e1({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);(0,o.useEffect)(function(){a()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]);var c=(0,o.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:u}},[e.shouldForwardProp,s,u]);return o.createElement(e5.Provider,{value:c},o.createElement(e3.Provider,{value:u},e.children))}var e9=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=e4);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,ex(this,function(){throw ek(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=e4),this.name+e.hash},e}();function e7(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;r>="A"&&r<="Z"?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var te=function(e){return null==e||!1===e||""===e},tt=function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!te(r)&&(Array.isArray(r)&&r.isCss||eA(r)?t.push("".concat(e7(n),":"),r,";"):eD(r)?t.push.apply(t,i(i(["".concat(n," {")],tt(r),!1),["}"],!1)):t.push("".concat(e7(n),": ").concat(null==r||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in H||n.startsWith("--")?String(r).trim():"".concat(r,"px"),";")))}return t};function tn(e,t,n,r){return te(e)?[]:eC(e)?[".".concat(e.styledComponentId)]:eA(e)?!eA(e)||e.prototype&&e.prototype.isReactComponent||!t?[e]:tn(e(t),t,n,r):e instanceof e9?n?(e.inject(n,r),[e.getName(r)]):[e]:eD(e)?tt(e):Array.isArray(e)?Array.prototype.concat.apply(ee,e.map(function(e){return tn(e,t,n,r)})):[e.toString()]}function tr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(eA(n)&&!eC(n))return!1}return!0}var ti=ef(X),to=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&tr(e),this.componentId=t,this.baseHash=eh(ti,t),this.baseStyle=n,eK.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash){if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=eP(r,this.staticRulesId);else{var i=eI(tn(this.rules,e,t,n)),o=ec(eh(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}r=eP(r,o),this.staticRulesId=o}}else{for(var a=eh(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var h=eI(tn(l,e,t,n));a=eh(a,h+c),u+=h}}if(u){var f=ec(a>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,n(u,".".concat(f),void 0,this.componentId)),r=eP(r,f)}}return r},e}(),ts=o.createContext(void 0);ts.Consumer;var ta={};function tu(e,t,n){var i,s,a,u,c=eC(e),l=!ed(e),h=t.attrs,f=void 0===h?ee:h,d=t.componentId,p=void 0===d?(i=t.displayName,s=t.parentComponentId,ta[a="string"!=typeof i?"sc":es(i)]=(ta[a]||0)+1,u="".concat(a,"-").concat(ec(ef(X+a+ta[a])>>>0)),s?"".concat(s,"-").concat(u):u):d,_=t.displayName,g=void 0===_?ed(e)?"styled.".concat(e):"Styled(".concat(e.displayName||e.name||"Component",")"):_,m=t.displayName&&t.componentId?"".concat(es(t.displayName),"-").concat(t.componentId):t.componentId||p,y=c&&e.attrs?e.attrs.concat(f).filter(Boolean):f,v=t.shouldForwardProp;if(c&&e.shouldForwardProp){var E=e.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;v=function(e,t){return E(e,t)&&b(e,t)}}else v=E}var T=new to(n,m,c?e.componentStyle:void 0);function O(e,t){return function(e,t,n){var i,s=e.attrs,a=e.componentStyle,u=e.defaultProps,c=e.foldedComponentIds,l=e.styledComponentId,h=e.target,f=o.useContext(ts),d=e6(),p=e.shouldForwardProp||d.shouldForwardProp,_=en(t,f,u)||et,g=function(e,t,n){for(var i,o=r(r({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var a=eA(i=e[s])?i(o):i;for(var u in a)o[u]="className"===u?eP(o[u],a[u]):"style"===u?r(r({},o[u]),a[u]):a[u]}return t.className&&(o.className=eP(o.className,t.className)),o}(s,t,_),m=g.as||h,y={};for(var v in g)void 0===g[v]||"$"===v[0]||"as"===v||"theme"===v&&g.theme===_||("forwardedAs"===v?y.as=g.forwardedAs:p&&!p(v,m)||(y[v]=g[v]));var E=(i=e6(),a.generateAndInjectStyles(g,i.styleSheet,i.stylis)),b=eP(c,l);return E&&(b+=" "+E),g.className&&(b+=" "+g.className),y[ed(m)&&!er.has(m)?"class":"className"]=b,n&&(y.ref=n),(0,o.createElement)(m,y)}(w,e,t)}O.displayName=g;var w=o.forwardRef(O);return w.attrs=y,w.componentStyle=T,w.displayName=g,w.shouldForwardProp=v,w.foldedComponentIds=c?eP(e.foldedComponentIds,e.styledComponentId):"",w.styledComponentId=m,w.target=c?e.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=c?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)(function e(t,n,r){if(void 0===r&&(r=!1),!r&&!eD(t)&&!Array.isArray(t))return n;if(Array.isArray(n))for(var i=0;i<n.length;i++)t[i]=e(t[i],n[i]);else if(eD(n))for(var i in n)t[i]=e(t[i],n[i]);return t})(e,t[r],!0);return e}({},e.defaultProps,t):t}}),ex(w,function(){return".".concat(w.styledComponentId)}),l&&function e(t,n,r){if("string"!=typeof n){if(eR){var i=eN(n);i&&i!==eR&&e(t,i,r)}var o=eO(n);ew&&(o=o.concat(ew(n)));for(var s=eb(t),a=eb(n),u=0;u<o.length;++u){var c=o[u];if(!(c in ey||r&&r[c]||a&&c in a||s&&c in s)){var l=eS(n,c);try{eT(t,c,l)}catch(e){}}}}return t}(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function tc(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var tl=function(e){return Object.assign(e,{isCss:!0})};function th(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return eA(e)||eD(e)?tl(tn(tc(ee,i([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?tn(e):tl(tn(tc(e,t)))}var tf=function(e){return function e(t,n,o){if(void 0===o&&(o=et),!n)throw ek(1,n);var s=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return t(n,o,th.apply(void 0,i([e],r,!1)))};return s.attrs=function(i){return e(t,n,r(r({},o),{attrs:Array.prototype.concat(o.attrs,i).filter(Boolean)}))},s.withConfig=function(i){return e(t,n,r(r({},o),i))},s}(tu,e)},td=tf;er.forEach(function(e){td[e]=tf(e)});var tp=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=tr(e),eK.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(eI(tn(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&eK.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function t_(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=th.apply(void 0,i([e],t,!1)),a="sc-global-".concat(ec(ef(JSON.stringify(s))>>>0)),u=new tp(s,a),c=function(e){var t=e6(),n=o.useContext(ts),r=o.useRef(t.styleSheet.allocateGSInstance(a)).current;return t.styleSheet.server&&l(r,e,t.styleSheet,n,t.stylis),o.useLayoutEffect(function(){if(!t.styleSheet.server)return l(r,e,t.styleSheet,n,t.stylis),function(){return u.removeStyles(r,t.styleSheet)}},[r,e,t.styleSheet,n,t.stylis]),null};function l(e,t,n,i,o){if(u.isStatic)u.renderStyles(e,Z,n,o);else{var s=r(r({},t),{theme:en(t,i,c.defaultProps)});u.renderStyles(e,s,n,o)}}return o.memo(c)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=n.nc,i=eI([r&&'nonce="'.concat(r,'"'),"".concat(z,'="true"'),"".concat(J,'="').concat(X,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw ek(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw ek(2);var t,i=e.instance.toString();if(!i)return[];var s=((t={})[z]="",t[J]=X,t.dangerouslySetInnerHTML={__html:i},t),a=n.nc;return a&&(s.nonce=a),[o.createElement("style",r({},s,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new eK({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw ek(2);return o.createElement(e8,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw ek(3)}}()},3243:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="production"},140:function(e,t,n){"use strict";n.d(t,{s3:function(){return v},nZ:function(){return _},lW:function(){return m},aF:function(){return g},$e:function(){return y}});var r=n(9531),i=n(2990);function o(){return s(r.GLOBAL_OBJ),r.GLOBAL_OBJ}function s(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||i.J,t[i.J]=t[i.J]||{}}var a=n(6824),u=n(6510);class c{constructor(e,t){let n,r;n=e||new u.s,r=t||new u.s,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t;let n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return(0,a.J8)(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function l(){let e=s(o());return e.stack=e.stack||new c((0,r.Y)("defaultCurrentScope",()=>new u.s),(0,r.Y)("defaultIsolationScope",()=>new u.s))}function h(e){return l().withScope(e)}function f(e,t){let n=l();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function d(e){return l().withScope(()=>e(l().getIsolationScope()))}function p(e){let t=s(e);return t.acs?t.acs:{withIsolationScope:d,withScope:h,withSetScope:f,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>l().getScope(),getIsolationScope:()=>l().getIsolationScope()}}function _(){return p(o()).getCurrentScope()}function g(){return p(o()).getIsolationScope()}function m(){return(0,r.Y)("globalScope",()=>new u.s)}function y(...e){let t=p(o());if(2===e.length){let[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function v(){return _().getClient()}},4223:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},9424:function(e,t,n){"use strict";n.d(t,{Tb:function(){return u},cg:function(){return _},eN:function(){return l},uT:function(){return c},v:function(){return h},yj:function(){return f}});var r=n(9531),i=n(3243),o=n(140),s=n(42),a=n(5808);function u(e,t){return(0,o.nZ)().captureException(e,(0,a.U0)(t))}function c(e,t){let n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return(0,o.nZ)().captureMessage(e,n,r)}function l(e,t){return(0,o.nZ)().captureEvent(e,t)}function h(e,t){(0,o.aF)().setContext(e,t)}function f(e){let t=(0,o.s3)(),n=(0,o.aF)(),a=(0,o.nZ)(),{release:u,environment:c=i.J}=t&&t.getOptions()||{},{userAgent:l}=r.GLOBAL_OBJ.navigator||{},h=(0,s.Hv)({release:u,environment:c,user:a.getUser()||n.getUser(),...l&&{userAgent:l},...e}),f=n.getSession();return f&&"ok"===f.status&&(0,s.CT)(f,{status:"exited"}),d(),n.setSession(h),a.setSession(h),h}function d(){let e=(0,o.aF)(),t=(0,o.nZ)(),n=t.getSession()||e.getSession();n&&(0,s.RJ)(n),p(),e.setSession(),t.setSession()}function p(){let e=(0,o.aF)(),t=(0,o.nZ)(),n=(0,o.s3)(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function _(e=!1){if(e){d();return}p()}},6510:function(e,t,n){"use strict";n.d(t,{s:function(){return d}});var r=n(1982);function i(){return{traceId:(0,r.DM)(),spanId:(0,r.DM)().substring(16)}}var o=n(6824),s=n(6181),a=n(1001),u=n(42),c=n(7179);let l="_sentrySpan";function h(e,t){t?(0,c.xp)(e,l,t):delete e[l]}class f{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=i()}clone(){let e=new f;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,h(e,this[l]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,u.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,[n,r]=t instanceof d?[t.getScopeData(),t.getRequestSession()]:(0,o.PO)(t)?[e,e.requestSession]:[],{tags:i,extra:s,user:a,contexts:u,level:c,fingerprint:l=[],propagationContext:h}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),l.length&&(this._fingerprint=l),h&&(this._propagationContext=h),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,h(this,void 0),this._attachments=[],this._propagationContext=i(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,s.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[l]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:(0,r.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture exception!"),n;let i=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},this),n}captureMessage(e,t,n){let i=n&&n.event_id?n.event_id:(0,r.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture message!"),i;let o=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},this),i}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,r.DM)();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):a.kg.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}let d=f},1218:function(e,t,n){"use strict";n.d(t,{$J:function(){return o},S3:function(){return s},TE:function(){return i},Zj:function(){return r}});let r="sentry.source",i="sentry.sample_rate",o="sentry.op",s="sentry.origin"},42:function(e,t,n){"use strict";n.d(t,{CT:function(){return a},Hv:function(){return s},RJ:function(){return u}});var r=n(6181),i=n(1982),o=n(7179);function s(e){let t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,o.Jr)({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})};return e&&a(n,e),n}function a(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},5121:function(e,t,n){"use strict";n.d(t,{_l:function(){return h},jC:function(){return f}});var r=n(7179),i=n(6824);let o=/^sentry-/;function s(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}var a=n(3243),u=n(140),c=n(1218),l=n(5554);function h(e,t){let n=t.getOptions(),{publicKey:i}=t.getDsn()||{},o=(0,r.Jr)({environment:n.environment||a.J,release:n.release,public_key:i,trace_id:e});return t.emit("createDsc",o),o}function f(e){let t=(0,u.s3)();if(!t)return{};let n=h((0,l.XU)(e).trace_id||"",t),r=(0,l.Gx)(e),a=r._frozenDsc;if(a)return a;let f=r.spanContext().traceState,d=f&&f.get("sentry.dsc"),p=d&&function(e){let t=e&&((0,i.HD)(e)||Array.isArray(e))?Array.isArray(e)?e.reduce((e,t)=>(Object.entries(s(t)).forEach(([t,n])=>{e[t]=n}),e),{}):s(e):void 0;if(!t)return;let n=Object.entries(t).reduce((e,[t,n])=>(t.match(o)&&(e[t.slice("sentry-".length)]=n),e),{});return Object.keys(n).length>0?n:void 0}(d);if(p)return p;let _=(0,l.XU)(r),g=_.data||{},m=g[c.TE];null!=m&&(n.sample_rate=`${m}`);let y=g[c.Zj],v=_.description;return"url"!==y&&v&&(n.transaction=v),function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=(0,u.s3)(),n=t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}()&&(n.sampled=String((0,l.Tt)(r))),t.emit("createDsc",n,r),n}},5808:function(e,t,n){"use strict";n.d(t,{U0:function(){return T},R:function(){return E}});var r=n(1982),i=n(6181),o=n(9163),s=n(9531),a=n(3408),u=n(3243),c=n(140),l=n(128),h=n(1001),f=n(6824),d=n(4223),p=n(6510),_=n(7179),g=n(5121),m=n(5554);function y(e,t){let{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:c,eventProcessors:l,attachments:h,propagationContext:f,transactionName:d,span:p}=t;v(e,"extra",n),v(e,"tags",r),v(e,"user",i),v(e,"contexts",o),v(e,"sdkProcessingMetadata",a),s&&(e.level=s),d&&(e.transactionName=d),p&&(e.span=p),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function v(e,t,n){if(n&&Object.keys(n).length)for(let r in e[t]={...e[t]},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}function E(e,t,n,v,E,T){let{normalizeDepth:O=3,normalizeMaxBreadth:w=1e3}=e,S={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,i.yW)()},N=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:u.J),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,o.$G)(e.message,s));let a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,o.$G)(a.value,s));let c=e.request;c&&c.url&&(c.url=(0,o.$G)(c.url,s))})(S,e),N.length>0&&(S.sdk=S.sdk||{},S.sdk.integrations=[...S.sdk.integrations||[],...N]),E&&E.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){let n;let r=s.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let i=b.get(t);i?n=i:(n=new Map,b.set(t,n));let o=Object.entries(r).reduce((e,[r,i])=>{let o;let s=n.get(r);s?o=s:(o=t(r),n.set(r,o));for(let t=o.length-1;t>=0;t--){let n=o[t];if(n.filename){e[n.filename]=i;break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=o[e.filename])})})}catch(e){}}(S,e.stackParser);let R=function(e,t){if(!t)return e;let n=e?e.clone():new p.s;return n.update(t),n}(v,n.captureContext);n.mechanism&&(0,r.EG)(S,n.mechanism);let A=E?E.getEventProcessors():[],C=(0,c.lW)().getScopeData();T&&y(C,T.getScopeData()),R&&y(C,R.getScopeData());let P=[...n.attachments||[],...C.attachments];return P.length&&(n.attachments=P),!function(e,t){let{fingerprint:n,span:i,breadcrumbs:o,sdkProcessingMetadata:s}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,u=(0,_.Jr)(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});let c=(0,_.Jr)(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});let l=(0,_.Jr)(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});let h=(0,_.Jr)(o);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),s&&(e.level=s),a&&"transaction"!==e.type&&(e.transaction=a)})(e,t),i&&function(e,t){e.contexts={trace:(0,m.wy)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,g.jC)(t),...e.sdkProcessingMetadata};let n=(0,m.Gx)(t),r=(0,m.XU)(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,i),e.fingerprint=e.fingerprint?(0,r.lE)(e.fingerprint):[],n&&(e.fingerprint=e.fingerprint.concat(n)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...s}}(S,C),(function e(t,n,r,i=0){return new l.cW((o,s)=>{let a=t[i];if(null===n||"function"!=typeof a)o(n);else{let u=a({...n},r);d.X&&a.id&&null===u&&h.kg.log(`Event processor "${a.id}" dropped event`),(0,f.J8)(u)?u.then(n=>e(t,n,r,i+1).then(o)).then(null,s):e(t,u,r,i+1).then(o).then(null,s)}})})([...A,...C.eventProcessors],S,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof O&&O>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,n)}}))},...e.user&&{user:(0,a.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,a.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,a.Fv)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,a.Fv)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,n)}}))),r}(e,O,w):e)}let b=new WeakMap;function T(e){return e?e instanceof p.s||"function"==typeof e||Object.keys(e).some(e=>O.includes(e))?{captureContext:e}:e:void 0}let O=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},5554:function(e,t,n){"use strict";n.d(t,{Gx:function(){return h},Tt:function(){return l},XU:function(){return c},wy:function(){return s}});var r=n(7179),i=n(6181),o=n(1218);function s(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:i}=c(e);return(0,r.Jr)({parent_span_id:i,span_id:t,trace_id:n})}function a(e){return"number"==typeof e?u(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?u(e.getTime()):(0,i.ph)()}function u(e){return e>9999999999?e/1e3:e}function c(e){if("function"==typeof e.getSpanJSON)return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status){let{attributes:i,startTime:s,name:u,endTime:c,parentSpanId:l,status:h}=e;return(0,r.Jr)({span_id:t,trace_id:n,data:i,description:u,parent_span_id:l,start_timestamp:a(s),timestamp:a(c)||void 0,status:h&&0!==h.code?1===h.code?"ok":h.message||"unknown_error":void 0,op:i[o.$J],origin:i[o.S3],_metrics_summary:function(e){let t=e._sentryMetrics;if(!t)return;let n={};for(let[,[e,i]]of t)(n[e]||(n[e]=[])).push((0,r.Jr)(i));return n}(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function l(e){let{traceFlags:t}=e.spanContext();return 1===t}function h(e){return e._sentryRootSpan||e}},1869:function(e,t,n){"use strict";n.d(t,{Rt:function(){return o},iY:function(){return a},l4:function(){return s}});var r=n(6824);let i=n(9531).GLOBAL_OBJ;function o(e,t={}){if(!e)return"<unknown>";try{let n,o=e,s=[],a=0,u=0,c=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;o&&a++<5&&(n=function(e,t){let n=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let o=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(o&&o.length)o.forEach(e=>{n.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&n.push(`#${e.id}`);let t=e.className;if(t&&(0,r.HD)(t))for(let e of t.split(/\s+/))n.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push(`[${t}="${r}"]`)}return n.join("")}(o,c),"html"!==n&&(!(a>1)||!(u+3*s.length+n.length>=l)));)s.push(n),u+=n.length,o=o.parentNode;return s.reverse().join(" > ")}catch(e){return"<unknown>"}}function s(){try{return i.document.location.href}catch(e){return""}}function a(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},1525:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},6824:function(e,t,n){"use strict";n.d(t,{Cy:function(){return m},HD:function(){return c},J8:function(){return g},Kj:function(){return _},Le:function(){return l},PO:function(){return f},TX:function(){return a},V9:function(){return y},VW:function(){return s},VZ:function(){return i},cO:function(){return d},fm:function(){return u},kK:function(){return p},pt:function(){return h},y1:function(){return v}});let r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return y(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function s(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function u(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function l(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function h(e){return null===e||l(e)||"object"!=typeof e&&"function"!=typeof e}function f(e){return o(e,"Object")}function d(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function _(e){return o(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function m(e){return f(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function v(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},1001:function(e,t,n){"use strict";n.d(t,{Cf:function(){return a},LD:function(){return s},RU:function(){return o},kg:function(){return u}});var r=n(1525),i=n(9531);let o=["debug","info","warn","error","log","assert","trace"],s={};function a(e){if(!("console"in i.GLOBAL_OBJ))return e();let t=i.GLOBAL_OBJ.console,n={},r=Object.keys(s);r.forEach(e=>{let r=s[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let u=(0,i.Y)("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?o.forEach(n=>{t[n]=(...t)=>{e&&a(()=>{i.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)})}}):o.forEach(e=>{t[e]=()=>void 0}),t})},1982:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return u},EG:function(){return c},YO:function(){return l},jH:function(){return a},lE:function(){return h}});var r=n(7179),i=n(9531);function o(){let e=i.GLOBAL_OBJ,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function a(e){let{message:t,event_id:n}=e;if(t)return t;let r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function c(e,t){let n=s(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function l(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function h(e){return Array.isArray(e)?e:[e]}},3408:function(e,t,n){"use strict";n.d(t,{Fv:function(){return s},Qy:function(){return function e(t,n=3,r=102400){let i=s(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}}});var r=n(6824),i=n(7179),o=n(2283);function s(e,t=100,n=Infinity){try{return function e(t,n,s=Infinity,a=Infinity,u=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[c,l]=u;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n))return n;let h=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${(0,o.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let n=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(n))return`[HTMLElement: ${n}]`;return`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(t,n);if(!h.startsWith("[object "))return h;if(n.__sentry_skip_normalization__)return n;let f="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:s;if(0===f)return h.replace("object ","");if(c(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let t=n.toJSON();return e("",t,f-1,a,u)}catch(e){}let d=Array.isArray(n)?[]:{},p=0,_=(0,i.Sh)(n);for(let t in _){if(!Object.prototype.hasOwnProperty.call(_,t))continue;if(p>=a){d[t]="[MaxProperties ~]";break}let n=_[t];d[t]=e(t,n,f-1,a,u),p++}return l(n),d}("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},7179:function(e,t,n){"use strict";n.d(t,{$Q:function(){return l},HK:function(){return h},Jr:function(){return m},Sh:function(){return d},_j:function(){return f},hl:function(){return u},xp:function(){return c},zf:function(){return g}});var r=n(1869),i=n(1525),o=n(6824),s=n(1001),a=n(9163);function u(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&l(i,r),e[t]=i}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.X&&s.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function h(e){return e.__sentry_original__}function f(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function d(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,..._(e)};if(!(0,o.cO)(e))return e;{let t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),..._(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function p(e){try{return(0,o.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function _(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function g(e,t=40){let n=Object.keys(d(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return(0,a.$G)(r,t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return(0,a.$G)(r,t)}}return""}function m(e){return function e(t,n){if(function(e){if(!(0,o.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.getOwnPropertyNames(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}},2283:function(e,t,n){"use strict";n.d(t,{$P:function(){return l},Fi:function(){return r},Fr:function(){return h},Sq:function(){return a},pE:function(){return s}});let r="?",i=/\(error: (.*)\)/,o=/captureMessage|captureException/;function s(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,s=0)=>{let a=[],c=e.split("\n");for(let e=n;e<c.length;e++){let n=c[e];if(n.length>1024)continue;let r=i.test(n)?n.replace(i,"$1"):n;if(!r.match(/\S*Error: /)){for(let e of t){let t=e(r);if(t){a.push(t);break}}if(a.length>=50+s)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(u(t).function||"")&&t.pop(),t.reverse(),o.test(u(t).function||"")&&(t.pop(),o.test(u(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||u(t).filename,function:e.function||r}))}(a.slice(s))}}function a(e){return Array.isArray(e)?s(...e):e}function u(e){return e[e.length-1]||{}}let c="<anonymous>";function l(e){try{if(!e||"function"!=typeof e)return c;return e.name||c}catch(e){return c}}function h(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}},9163:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return s},nK:function(){return o}});var r=n(6824);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,r.y1)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))})(e,t,n))}},128:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return s},cW:function(){return u}});var r,i,o=n(6824);function s(e){return new u(t=>{t(e)})}function a(e){return new u((t,n)=>{n(e)})}(r=i||(i={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class u{constructor(e){u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new u((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new u((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===i.PENDING){if((0,o.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)})}}}},6181:function(e,t,n){"use strict";n.d(t,{ph:function(){return o},yW:function(){return i}});var r=n(9531);function i(){return Date.now()/1e3}let o=function(){let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return i;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();(()=>{let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return;let t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,o=e.timing&&e.timing.navigationStart,s="number"==typeof o?Math.abs(o+t-n):36e5;if(i<36e5||s<36e5)return i<=s?e.timeOrigin:void 0})()},2990:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="8.37.1"},9531:function(e,t,n){"use strict";n.d(t,{GLOBAL_OBJ:function(){return i},Y:function(){return o}});var r=n(2990);let i=globalThis;function o(e,t,n){let o=n||i,s=o.__SENTRY__=o.__SENTRY__||{},a=s[r.J]=s[r.J]||{};return a[e]||(a[e]=t())}},3170:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return L},__assign:function(){return o},__asyncDelegator:function(){return S},__asyncGenerator:function(){return w},__asyncValues:function(){return N},__await:function(){return O},__awaiter:function(){return p},__classPrivateFieldGet:function(){return D},__classPrivateFieldIn:function(){return k},__classPrivateFieldSet:function(){return x},__createBinding:function(){return g},__decorate:function(){return a},__disposeResources:function(){return U},__esDecorate:function(){return c},__exportStar:function(){return m},__extends:function(){return i},__generator:function(){return _},__importDefault:function(){return I},__importStar:function(){return P},__makeTemplateObject:function(){return R},__metadata:function(){return d},__param:function(){return u},__propKey:function(){return h},__read:function(){return v},__rest:function(){return s},__rewriteRelativeImportExtension:function(){return M},__runInitializers:function(){return l},__setFunctionName:function(){return f},__spread:function(){return E},__spreadArray:function(){return T},__spreadArrays:function(){return b},__values:function(){return y}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var _ in r)p[_]="access"===_?{}:r[_];for(var _ in r.access)p.access[_]=r.access[_];p.addInitializer=function(e){if(f)throw TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,n[d])("accessor"===u?{get:h.get,set:h.set}:h[c],p);if("accessor"===u){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(a=s(g.get))&&(h.get=a),(a=s(g.set))&&(h.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===u?i.unshift(a):h[c]=a)}l&&Object.defineProperty(l,r.name,h),f=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function _(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function T(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function O(e){return this instanceof O?(this.v=e,this):new O(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{var n;(n=i[e](t)).value instanceof O?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:O(e[r](t)),done:!1}:i?i(t):t}:i}}function N(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function R(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return(C=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=C(e),r=0;r<n.length;r++)"default"!==n[r]&&g(t,e,n[r]);return A(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function k(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,n){if(null!=t){var r,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(n){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var j="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function U(e){function t(t){e.error=e.hasError?new j(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function i(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function M(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,i,o){return n?t?".jsx":".js":!r||i&&o?r+i+"."+o.toLowerCase()+"js":e}):e}t.default={__extends:i,__assign:o,__rest:s,__decorate:a,__param:u,__esDecorate:c,__runInitializers:l,__propKey:h,__setFunctionName:f,__metadata:d,__awaiter:p,__generator:_,__createBinding:g,__exportStar:m,__values:y,__read:v,__spread:E,__spreadArrays:b,__spreadArray:T,__await:O,__asyncGenerator:w,__asyncDelegator:S,__asyncValues:N,__makeTemplateObject:R,__importStar:P,__importDefault:I,__classPrivateFieldGet:D,__classPrivateFieldSet:x,__classPrivateFieldIn:k,__addDisposableResource:L,__disposeResources:U,__rewriteRelativeImportExtension:M}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(5492),t(3079)}),_N_E=e.O()}]);